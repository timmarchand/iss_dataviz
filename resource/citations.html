<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Citations and bibliography – ISS Data Visualiation and Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../resource/install.html" rel="next">
<link href="../resource/data.html" rel="prev">
<link href="..//files/favicon-512.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-1b3db88def35042d172274863c1cdcf0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-39e54efe698d158150328aebe0ca31b1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/academicons-1.9.2/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/academicons-1.9.2/size.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">ISS Data Visualiation and Analysis</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../content/index.html"> 
<span class="menu-text">Content</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../lesson/index.html"> 
<span class="menu-text">Lessons</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../example/index.html"> 
<span class="menu-text">Examples</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../assignment/index.html"> 
<span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../resource/index.html" aria-current="page"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://moodle.univ.gakushuin.ac.jp/course/view.php?id=26121"> <i class="bi bi-mortarboard-fill" role="img" aria-label="Moodle">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../resource/index.html">Resources</a></li><li class="breadcrumb-item"><a href="../resource/citations.html">Citations and bibliography</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Helpful resources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/ai-bs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AI, LLMs, BS, and vibe coding</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/colors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Color palettes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/graphics-editors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graphics editors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/style.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R style suggestions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/citations.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Citations and bibliography</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Guides</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/install.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installing R, RStudio, tidyverse, and tinytex</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using Markdown</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using Quarto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/pipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pipes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resource/unzipping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unzipping files</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#initial-set-up" id="toc-initial-set-up" class="nav-link active" data-scroll-target="#initial-set-up">Initial set up</a>
  <ul class="collapse">
  <li><a href="#install-the-better-bibtex-zotero-extension" id="toc-install-the-better-bibtex-zotero-extension" class="nav-link" data-scroll-target="#install-the-better-bibtex-zotero-extension">1. Install the Better BibTeX Zotero extension</a></li>
  <li><a href="#tell-rstudio-about-zotero" id="toc-tell-rstudio-about-zotero" class="nav-link" data-scroll-target="#tell-rstudio-about-zotero">2. Tell RStudio about Zotero</a></li>
  </ul></li>
  <li><a href="#inserting-citations" id="toc-inserting-citations" class="nav-link" data-scroll-target="#inserting-citations">Inserting citations</a>
  <ul class="collapse">
  <li><a href="#citation-insertion-menu" id="toc-citation-insertion-menu" class="nav-link" data-scroll-target="#citation-insertion-menu">Citation insertion menu</a></li>
  <li><a href="#do-this-without-the-menu" id="toc-do-this-without-the-menu" class="nav-link" data-scroll-target="#do-this-without-the-menu">Do this without the menu</a></li>
  </ul></li>
  <li><a href="#viewing-rendered-citations" id="toc-viewing-rendered-citations" class="nav-link" data-scroll-target="#viewing-rendered-citations">Viewing rendered citations</a></li>
  <li><a href="#citation-syntax" id="toc-citation-syntax" class="nav-link" data-scroll-target="#citation-syntax">Citation syntax</a></li>
  <li><a href="#changing-citation-styles" id="toc-changing-citation-styles" class="nav-link" data-scroll-target="#changing-citation-styles">Changing citation styles</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../resource/index.html">Resources</a></li><li class="breadcrumb-item"><a href="../resource/citations.html">Citations and bibliography</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Citations and bibliography</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>You can access <a href="https://www.zotero.org/groups/datavizsp26">a shared group Zotero library of all the non-web-based class reading references</a> and link it to your Zotero account to easily cite the course materials.</p>
<p>Alternatively, you can download a BibTeX file of all the references. You can open it in <a href="http://bibdesk.sourceforge.net/">BibDesk on macOS</a>, <a href="http://www.jabref.org/">JabRef on Windows</a>, or <a href="https://www.zotero.org/">Zotero</a> on macOS, Windows, and online.</p>
<p class="buttons" style="text-align:center;">
<a class="btn btn-danger" target="_blank" href="https://www.zotero.org/groups/datavizsp26"><i class="ai  ai-zotero" style="color:white"></i> Zotero group library</a>   <a class="btn btn-danger" target="_blank" href="../files/bib/readings.bib" role="button"><i class="fa-solid fa-book" aria-label="book"></i> BibTeX file</a>
</p>
<hr>
<p>You can use these references in your Quarto documents directly in RStudio! You need to set up a few things first, but then it’s straightforward to get automatic citations in your documents. You can also see <a href="https://quarto.org/docs/authoring/citations.html">the official Quarto documentation for citations</a> in general and the <a href="https://rstudio.github.io/visual-markdown-editing/citations.html">RStudio documentation</a> (and <a href="https://posit.co/blog/rstudio-1-4-preview-citations/">this blog post</a>) for working with citations in RStudio.</p>
<section id="initial-set-up" class="level2">
<h2 class="anchored" data-anchor-id="initial-set-up">Initial set up</h2>
<p>Before RStudio can look at and use your Zotero library, you need to do two things first. <strong>You only need to do this setup once.</strong></p>
<section id="install-the-better-bibtex-zotero-extension" class="level3">
<h3 class="anchored" data-anchor-id="install-the-better-bibtex-zotero-extension">1. Install the Better BibTeX Zotero extension</h3>
<p>When you cite things with Quarto, you need to reference entry citation keys, or citekeys. Zotero doesn’t support or make these automatically, but you can install the <a href="https://retorque.re/zotero-better-bibtex/">Better BibTeX for Zotero extension</a> to add citekey support to your library.</p>
<p><a href="https://retorque.re/zotero-better-bibtex/"><strong>Follow the instructions here to do that</strong></a>. Here’s an illustrated version:</p>
<ol type="1">
<li><p>Download the <a href="https://github.com/retorquere/zotero-better-bibtex/releases/latest">latest release</a> to your computer by right-clicking on the <code>zotero-better-bibtex-VERSION.xpi</code> file at GitHub and choosing “Save as.” <strong>Don’t double-click on it or try opening it after downloading it—you don’t need to.</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/xpi-download.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>Download XPI from GitHub</figcaption>
</figure>
</div></li>
<li><p>In Zotero, go to Tools &gt; Plugins and select the “Plugins” page.</p></li>
<li><p>Click on the gear icon in the top-right corner and choose “Install Plugin From File”:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/xpi-install.png" class="img-fluid figure-img"></p>
<figcaption>Install plugin from XPI file</figcaption>
</figure>
</div></li>
<li><p>Choose the <code>.xpi</code> file that you downloaded.</p></li>
<li><p>Better BibTeX should now appear in your plugin list:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/xpi-installed.png" class="img-fluid figure-img"></p>
<figcaption>Plugin is installed now</figcaption>
</figure>
</div></li>
</ol>
<p>Once it’s installed, you should see a “Citation key” field in each of your Zotero entries. Use that when citing things in your Quarto document.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/zotero-citekey.png" class="img-fluid figure-img" style="width:40.0%"></p>
<figcaption>Citation key field in Zotero</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Other settings
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you want, you can go to Zotero’s settings and change all sorts of settings for Better BibTeX, like the template it uses for generating citekeys, or auto-exporting collections as .bib files. You can also just leave all the default settings.</p>
</div>
</div>
</section>
<section id="tell-rstudio-about-zotero" class="level3">
<h3 class="anchored" data-anchor-id="tell-rstudio-about-zotero">2. Tell RStudio about Zotero</h3>
<p>Next, we need to tell RStudio that (1) Zotero exists and that (2) it should look at both your main local library and the shared class group.</p>
<ol type="1">
<li><p>In RStudio, go to Tools &gt; Global Options &gt; R Markdown &gt; Citations.</p></li>
<li><p>Set “Use libraries” to “Selected Libraries” and make sure “My Library” is checked (that’s your stuff that you add on your own), and that <a href="../resource/citations.html">the group library that you’ve joined from here</a> is checked.</p></li>
<li><p>Make sure “Better BibTeX for citation keys and BibTeX export” is checked too.</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/rstudio-citation-settings.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>Citation settings in RStudio</figcaption>
</figure>
</div>
</section>
</section>
<section id="inserting-citations" class="level2">
<h2 class="anchored" data-anchor-id="inserting-citations">Inserting citations</h2>
<p>Now that everything is set up, you can insert citation keys and automatically generate citations and bibliographies.</p>
<section id="citation-insertion-menu" class="level3">
<h3 class="anchored" data-anchor-id="citation-insertion-menu">Citation insertion menu</h3>
<p>The easiest way to do this is with RStudio’s built-in citation insertion menu.</p>
<ol type="1">
<li><p>Switch your document to the Visual editor mode.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/visual-mode.png" class="border img-fluid figure-img"></p>
<figcaption>Toggle between Source and Visual mode</figcaption>
</figure>
</div></li>
<li><p>Make sure Zotero is open on your computer.</p></li>
<li><p>Go to Insert &gt; Citation.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/insert-citation.png" class="border img-fluid figure-img"></p>
<figcaption>Insert citation menu</figcaption>
</figure>
</div></li>
<li><p>If you want to cite something from your main library, choose “My Library” under “Zotero” in the sidebar. If you want to cite something from the class group library, choose that in the sidebar.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/libraries-in-citation-dialog.png" class="img-fluid figure-img"></p>
<figcaption>Zotero libraries available to RStudio</figcaption>
</figure>
</div></li>
<li><p>Scroll or search through the citations in the list until you find the thing you want to cite. Select it and you’ll see something like <code>@citationkey</code> (here <code>@Cairo:2016</code>) appear in the bottom. That’s what the dialog will insert in your document when you click on “Insert”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/citekey-in-citation-dialog.png" class="img-fluid figure-img"></p>
<figcaption>Citation key to be inserted in the document</figcaption>
</figure>
</div></li>
</ol>
<p>You should see a few new things:</p>
<ul>
<li><p>In your Files panel, you’ll see a new file named <code>references.bib</code>. This contains the reference details for the item you selected. Every time you insert a new citation in your document, it’ll automatically get added to that file. You can open it if you want to see what it looks like—you don’t ever have to edit this by hand or anything, so don’t worry about it.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/references-bib.png" class="border img-fluid figure-img" style="width:70.0%"></p>
<figcaption>Newly-created references file</figcaption>
</figure>
</div></li>
<li><p>In your document metadata, you’ll see a new setting like <code>bibliography: references.bib</code>. This is how your document knows where to look for citations.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/references-yaml.png" class="border img-fluid figure-img"></p>
<figcaption>New bibliography entry in the document metadata</figcaption>
</figure>
</div></li>
<li><p>In the document, you should see a citation key wherever your cursor was.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/citekey-qmd.png" class="border img-fluid figure-img"></p>
<figcaption>Citation key inserted in the Quarto document</figcaption>
</figure>
</div></li>
</ul>
<p>Follow the same process for adding other citations later.</p>
</section>
<section id="do-this-without-the-menu" class="level3">
<h3 class="anchored" data-anchor-id="do-this-without-the-menu">Do this without the menu</h3>
<p>Once your document is tied to a bibliography file, you actually don’t have to use the insert citation menu! If you type <code>@</code> and start typing a citekey, RStudio should open a little popup menu of matching citations:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/citekey-dropdown.png" class="img-fluid figure-img"></p>
<figcaption>Automatic citation key dropdown menu</figcaption>
</figure>
</div>
<p><strong>This is actually what I normally do.</strong> I don’t like using the menu and will instead just type <code>@whatever-the-citekey-is</code>, either by using that popup menu, or by looking at the “Citation key” field in Zotero.</p>
</section>
</section>
<section id="viewing-rendered-citations" class="level2">
<h2 class="anchored" data-anchor-id="viewing-rendered-citations">Viewing rendered citations</h2>
<p>Once the citation key is inserted, you can hover over it in your .qmd file and see a preview of it:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/citekey-preview.png" class="border img-fluid figure-img"></p>
<figcaption>Preview the reference when hovering</figcaption>
</figure>
</div>
<p>More importantly, when you render the document to HTML, PDF, Word, or whatever format you’re using, you’ll have the correct citation <em>and</em> an automatic list of references:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/citations/rendered-html.png" class="border img-fluid figure-img" style="width:60.0%"></p>
<figcaption>Fully rendered citations and references</figcaption>
</figure>
</div>
</section>
<section id="citation-syntax" class="level2">
<h2 class="anchored" data-anchor-id="citation-syntax">Citation syntax</h2>
<p><a href="https://quarto.org/docs/authoring/citations.html">Check the documentation for full details of how to do this</a>. Essentially, you use <code>@citationkey</code> either inside square brackets (<code>[]</code>) or outside of them, depending on how you’re using the reference in your text:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Type…</th>
<th>…to get…</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>Causal inference is neat [@Rohrer:2018;</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>@AngristPischke:2015].</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
<td>Causal inference is neat (Rohrer 2018; Angrist and Pischke 2015).</td>
</tr>
<tr class="even">
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Causal inference is neat [see @Rohrer:2018, p. 34;</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>also @AngristPischke:2015, chapter 1].</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
<td>Causal inference is neat (see Rohrer 2018, 34; also Angrist and Pischke 2015, chap.&nbsp;1).</td>
</tr>
<tr class="odd">
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Angrist and Pischke say causal inference is neat</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>[-@AngristPischke:2015; see also @Rohrer:2018].</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
<td>Angrist and Pischke say causal inference is neat (2015; see also Rohrer 2018).</td>
</tr>
<tr class="even">
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>@AngristPischke:2015 [chapter 1] say causal</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>inference is neat, and @Rohrer:2018 agrees.</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
<td>Angrist and Pischke (2015, chap.&nbsp;1) say causal inference is neat, and Rohrer (2018) agrees.</td>
</tr>
</tbody>
</table>
</section>
<section id="changing-citation-styles" class="level2">
<h2 class="anchored" data-anchor-id="changing-citation-styles">Changing citation styles</h2>
<p>By default, Quarto uses the <a href="https://chicagomanualofstyle.org/">Chicago Manual of Style</a> author-date format, but you can choose from 2,000+ <a href="https://www.zotero.org/styles">at this repository</a>. Download the CSL file you want to use, put it in your project folder, and add an entry to the YAML metadata:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Adding citations from Zotero in Quarto"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">bibliography</span><span class="kw">:</span><span class="at"> references.bib</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">csl</span><span class="kw">:</span><span class="at"> apa.csl</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Some of the most common CSLs are:</p>
<ul>
<li><a href="https://www.zotero.org/styles?q=id:chicago-author-date">Chicago author-date</a></li>
<li><a href="https://www.zotero.org/styles?q=id:chicago-notes-bibliography">Chicago note-bibliography</a></li>
<li><a href="https://www.zotero.org/styles?q=id:apa">APA 7th edition</a></li>
<li><a href="https://www.zotero.org/styles?q=id:modern-language-association">MLA 9th edition</a></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/timmarchand\.github\.io\/ISS_dataviz\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../resource/data.html" class="pagination-link" aria-label="Data">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Data</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../resource/install.html" class="pagination-link" aria-label="Installing R, RStudio, tidyverse, and tinytex">
        <span class="nav-page-text">Installing R, RStudio, tidyverse, and tinytex</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>