[
  {
    "objectID": "syllabus.html",
    "href": "syllabus.html",
    "title": "Syllabus",
    "section": "",
    "text": "Prof. Tim Marchand\n minami-2, Room 411\n tim.marchand@gakushuin.ac.jp\n Bluesky\n\n\n\n\n\n Thursday\n April 16 – July 17, 2026\n Period 3: 13:15 ~ 15:00\n Anywhere\n\n\n\n\n\n Schedule an appointment\n Discord"
  },
  {
    "objectID": "syllabus.html#course-objectives",
    "href": "syllabus.html#course-objectives",
    "title": "Syllabus",
    "section": "Course objectives",
    "text": "Course objectives\nThis course offers an in-depth exploration of data visualisation and analysis techniques for the social sciences. It covers a range of topics including data types, sources, and the practical application of various visualisation tools such as charts, graphs, and maps.\nAs well as equipping the students with the skills to produce publication-ready plots, emphasis is placed on interpreting social science data accurately and ethically. The course methodology includes practical exercises, project work, and group discussions to reinforce learning. It builds upon foundational knowledge in social sciences, enhancing students’ ability to present and analyse data effectively.\nData rarely speaks for itself. On their own, the facts contained in raw data are difficult to understand, and in the absence of beauty and order, it is impossible to understand the truth that the data shows.\nIn this class, you’ll learn how to use industry-standard graphic and data design techniques to create beautiful, understandable visualizations and uncover truth in data.\nBy the end of this course, you will become (1) literate in data and graphic design principles, and (2) an ethical data communicator, by producing beautiful, powerful, and clear visualizations of your own data. Specifically, you should:\n\nUnderstand the principles of data and graphic design\nEvaluate the credibility, ethics, and aesthetics of data visualizations\nCreate well-designed data visualizations with appropriate tools\nShare data and graphics in open forums\nFeel comfortable with R\nBe curious and confident in consuming and producing data visualizations\n\nThis class will expose you to R—one of the most popular, sought-after, and in-demand statistical programming languages. Armed with the foundation of R skills you’ll learn in this class, you’ll know enough to be able to find how to visualize and analyze any sort of data-based question in the future.\n\nMandatory Registration Requirement\nAttendance at the first course meeting is mandatory. Prior to that, students must email an academic self-introduction with the subject line, “Data Visualisation and Analysis” to the instructor at tim.marchand@gakushuin.ac.jp before the first class meeting.\nThis should include a brief outline of your undergraduate studies, goals you wish to achieve during this graduate program, area(s) of interest in the social sciences, and specific reasons for enrolling in this course.\nYou will be required to bring your computer (PC or Mac) to every class meeting."
  },
  {
    "objectID": "syllabus.html#important-pep-talk",
    "href": "syllabus.html#important-pep-talk",
    "title": "Syllabus",
    "section": "Important pep talk!",
    "text": "Important pep talk!\nI promise you can succeed in this class.\nLearning R can be difficult at first—it’s like learning a new language, just like Spanish, French, or Chinese. Hadley Wickham—the chief data scientist at RStudio and the author of some amazing R packages you’ll be using like {ggplot2}—made this wise observation:\n\nIt’s easy when you start out programming to get really frustrated and think, “Oh it’s me, I’m really stupid,” or, “I’m not made out to program.” But, that is absolutely not the case. Everyone gets frustrated. I still get frustrated occasionally when writing R code. It’s just a natural part of programming. So, it happens to everyone and gets less and less over time. Don’t blame yourself. Just take a break, do something fun, and then come back and try again later.\n\nEven experienced programmers find themselves bashing their heads against seemingly intractable errors. If you’re finding yourself taking way too long hitting your head against a wall and not understanding, take a break, talk to classmates, e-mail me, etc.\n\n\n\n\n\n\n\n\nAlison Horst: Gator error"
  },
  {
    "objectID": "syllabus.html#course-materials",
    "href": "syllabus.html#course-materials",
    "title": "Syllabus",
    "section": "Course materials",
    "text": "Course materials\nAll of the readings and software in this class are free. There are free online versions of all the textbooks, R and RStudio are inherently free, and you can use free vector editing software.\n\nBooks, articles, and other materials\nWe’ll rely heavily on these books, which are all available online (for free!). I recommend getting the printed versions of these books if you are interested, but it is not required.\n\nAlberto Cairo, The Truthful Art: Data, Charts, and Maps for Communication (Berkeley, California: New Riders, 2016). $20 used, $50 new at Amazon.\nA free eBook version is available through GSU’s library through O’Reilly’s Higher Education database. The easiest way to access it is to visit a special URL (http://go.oreilly.com/georgia-state-university), log in with your GSU account, and then search for “The Truthful Art”.\nKieran Healy, Data Visualization: A Practical Introduction (Princeton: Princeton University Press, 2018), http://socviz.co/. FREE online; $20 used, $40 new at Amazon.\nClaus E. Wilke, Fundamentals of Data Visualization (Sebastopol, California: O’Reilly Media, 2018), https://serialmentor.com/dataviz/. FREE online; $36 used, $50 new at Amazon. An eBook version is also available through the O’Reilly database, but you can just use the online version.\n\nThere will occasionally be additional articles and videos to read and watch. When this happens, links to these other resources will be included on the content page for that session.\n\n\nR and RStudio\nYou will do all of your analysis with the open source (and free!) programming language R. You will use RStudio as the main program to access R. Think of R as an engine and RStudio as a car dashboard—R handles all the calculations produces the actual statistics and graphical output, while RStudio provides a nice interface for running R code.\nR is free, but it can sometimes be a pain to install and configure. To make life easier, you can (and should!) use the free Posit.cloud service, which lets you run a full instance of RStudio in your web browser. This means you won’t have to install anything on your computer to get started with R! We will have a shared class workspace in Posit.cloud that will let you quickly copy templates for examples, exercises, and mini projects.\nPosit.cloud is convenient, but it can be slow and it is not designed to be able to handle larger datasets or more complicated analysis and graphics. You also can’t use your own custom fonts with Posit.cloud. Over the course of the semester, you’ll probably want to get around to installing R, RStudio, and other R packages on your computer and wean yourself off of Posit.cloud. This isn’t 100% necessary, but it’s helpful.\nYou can find instructions for installing R, RStudio, and all the tidyverse packages here.\n\n\nOnline help\nData science and statistical programming can be difficult. Computers are stupid and little errors in your code can cause hours of headache (even if you’ve been doing this stuff for years!).\nFortunately there are tons of online resources to help you with this.\n\nClass community on Discord\nWe have a class Discord server where anyone in the class can ask questions and anyone can answer. The invitation to the server is on iCollege since that’s a password protected place and I want the server to be limited to only students in the class.\nI will monitor Discord regularly and will respond quickly. (It’s one of the rare Discord servers where I actually have notifications enabled!) Ask questions about the readings, exercises, and mini projects. You’ll likely have similar questions as your peers, and you’ll likely be able to answer other peoples’ questions too.\n\n\nOnline communities\nIf you use Bluesky or Mastodon or Threads or LinkedIn, post R-related questions and content with #rstats. The R community is exceptionally generous and helpful.\nSearching for help with R on Google can sometimes be tricky because the program name is, um, a single letter. Google is generally smart enough to figure out what you mean when you search for “r scatterplot”, but if it does struggle, try searching for “rstats” instead (e.g. “rstats scatterplot”). Also, since most of your R work will deal with {ggplot2}, it’s often easier to just search for that instead of the letter “r” (e.g. “ggplot scatterplot”).\nYou can also check out the Posit Community, a forum specifically designed for people using RStudio and the tidyverse (i.e. you)."
  },
  {
    "objectID": "syllabus.html#ai-llms-bs-and-vibe-coding",
    "href": "syllabus.html#ai-llms-bs-and-vibe-coding",
    "title": "Syllabus",
    "section": "AI, LLMs, BS, and vibe coding",
    "text": "AI, LLMs, BS, and vibe coding\nI highly recommend not using ChatGPT or similar large language models (LLMs) in this class.\nI am deeply opposed to LLMs for writing.\nI am kinda opposed to LLMs for code, but I am deeply opposed to them for beginners at code.\nBy definition, LLMs and other AI tools cannot produce truth (or even lies). They generate bullshit1—a formal philosophical term that refers to text or speech that has no regard for truth (Hicks, Humphries, and Slater 2024; Frankfurt 2005).\n1 I’m a super straight-laced Mormon and, like, never ever swear or curse, but in this case, the word has a formal philosophical meaning (Frankfurt 2005), so it doesn’t count :)Please read this to better understand how LLMs circumvent the writing and learning process.\nDo not replace the important work of writing with AI BS slop. The point of writing is to help crystalize your thinking. Chugging out words that make it look like you read and understood the content will not help you learn. Chugging out code that you hope works is vibe coding and it will not help you learn.\nA key theme of the class is the search for truth. Generating useless content will not help with that.\nIn your session check-ins and assignments, I want to see good engagement with the readings. I want to see your thinking process. I want to see you make connections between the readings. I want to see your personal insights. I don’t want to see a bunch of words that look like a human wrote them. That’s not useful for future-you. That’s not useful for me. That’s a waste of time.\nI will not spend time trying to guess if your assignments are AI-generated.2 If you do turn in AI-produced content, I won’t automatically give you a zero, with one exception: if your work contains fake data, it will receive a zero. I’ll grade your work based on its own merits. I’ve found that AI-produced content will typically earn a ✓− (50%) or lower on my check-based grading system without me even needing to look for clues that it might have come from an LLM. Remember that text generated by these platforms is philosophical bullshit. Since it has nothing to do with truth, it will not—by definition—earn good grades.\n2 There are tools that purport to be able to identify the percentage of a given text that is AI, but they do not work and result in all sorts of false positives."
  },
  {
    "objectID": "syllabus.html#course-schedule",
    "href": "syllabus.html#course-schedule",
    "title": "Syllabus",
    "section": "Course schedule",
    "text": "Course schedule\n[cite_start]We meet in person every Thursday during the 3rd period on the Mejiro Campus[cite: 22, 23].\nThis is a hands-on, synchronous course. [cite_start]Our time together will consist of lectures and discussions about the principles of data visualisation, followed directly by coding practice in class[cite: 117, 119]. [cite_start]Because of this, you are required to bring your computer (PC or Mac) to every class meeting.\nEach week revolves around a central theme and includes (1) a set of foundational readings, (2) an interactive coding lesson, and (3) reference examples with reproducible code. The schedule page provides an overview of all these moving parts.\nTo succeed in this course, I recommend following this general process for each session:\n\nBefore class: Complete the assigned readings on the content page () to understand the core design and ethical principles for that week.\nDuring class: Participate in the discussion and work through the coding lesson () and examples ().\n[cite_start]After class: Spend an absolute minimum of 1.5 hours on coding practice and reflection. You will use this time to build your chart gallery and script portfolio, and work on your research project. [cite_start]Expect to spend more time outside of class as we approach the end of the semester[cite: 138]."
  },
  {
    "objectID": "syllabus.html#assignments-and-grades",
    "href": "syllabus.html#assignments-and-grades",
    "title": "Syllabus",
    "section": "Assignments and grades",
    "text": "Assignments and grades\nYou can find descriptions for all the assignments on the assignments page.\n\n\n\n\n\n    \n\n    \n\n    \n    \n    \n      \n        \n        \n              \n                Assignment\n                Points\n                Percent\n              \n        \n        \n        \n                \n                  Presentation, participation, and weekly tasks\n                  20\n                  20%\n                \n                \n                  Chart gallery and script portfolio\n                  40\n                  40%\n                \n                \n                  Research project\n                  40\n                  40%\n                \n                \n                  Total\n                  100\n                  100%\n                \n        \n      \n    \n\n\n\n\n\n\n\n\n\n    \n\n    \n\n    \n    \n    \n      \n        \n        \n              \n                Grade\n                Range\n                Grade\n                Range\n              \n        \n        \n        \n                \n                  S\n                  90–100%\n                  C\n                  60–69%\n                \n                \n                  A\n                  80–89%\n                  F\n                  &lt; 60%\n                \n                \n                  B\n                  70–79%"
  },
  {
    "objectID": "syllabus.html#recipes",
    "href": "syllabus.html#recipes",
    "title": "Syllabus",
    "section": "Recipes",
    "text": "Recipes\nOnce you have read this entire syllabus and the assignments page, post your favorite recipe (either a link or the text) to the #recipes channel on Discord. I love cooking (see here for a feed of some of my cooking adventures) and I’m always on the lookout for new things!\nAcknowledgments: This course is a derivative of PMAP 8551 designed by Andrew Heiss at Georgia State University. I have adapted the materials for the ISS context at Gakushuin University."
  },
  {
    "objectID": "resource/visualization.html",
    "href": "resource/visualization.html",
    "title": "Visualization",
    "section": "",
    "text": "The Stories Behind a Line\nAustralia as 100 people: You can make something like this with d3 and the potato project.\nMarrying Later, Staying Single Longer",
    "crumbs": [
      "Resources",
      "Visualization"
    ]
  },
  {
    "objectID": "resource/visualization.html#interesting-and-excellent-real-world-examples",
    "href": "resource/visualization.html#interesting-and-excellent-real-world-examples",
    "title": "Visualization",
    "section": "",
    "text": "The Stories Behind a Line\nAustralia as 100 people: You can make something like this with d3 and the potato project.\nMarrying Later, Staying Single Longer",
    "crumbs": [
      "Resources",
      "Visualization"
    ]
  },
  {
    "objectID": "resource/visualization.html#how-to-select-the-appropriate-chart-type",
    "href": "resource/visualization.html#how-to-select-the-appropriate-chart-type",
    "title": "Visualization",
    "section": "How to select the appropriate chart type",
    "text": "How to select the appropriate chart type\nMany people have created many useful tools for selecting the correct chart type for a given dataset or question. The Financial Times has an excellent diagram that shows what kind of charts are appropriate for which kinds of data you have:\n\nThe Financial Times’s “Visual Vocabulary” (PDF poster and interactive website)\n\nHere are some other fantastic resources too:\n\nThe Data Visualisation Catalogue: Descriptions, explanations, examples, and tools for creating 60 different types of visualizations.\nThe Data Viz Project: Descriptions and examples for 150 different types of visualizations. Also allows you to search by data shape and chart function (comparison, correlation, distribution, geographical, part to whole, trend over time, etc.).\nFrom Data to Viz: A decision tree for dozens of chart types with links to R and Python code.\n11 Ways to Visualize Changes Over Time - A Guide: A few examples of time-specific visualizations\nThe Chartmaker Directory: Examples of how to create 51 different types of visualizations in 31 different software packages, including Excel, Tableau, and R.\nR Graph Catalog: R code for 124 ggplot graphs.\nEmery’s Essentials: Descriptions and examples of 26 different chart types.",
    "crumbs": [
      "Resources",
      "Visualization"
    ]
  },
  {
    "objectID": "resource/visualization.html#general-resources",
    "href": "resource/visualization.html#general-resources",
    "title": "Visualization",
    "section": "General resources",
    "text": "General resources\n\nStorytelling with Data: Blog and site full of resources by Cole Nussbaumer Knaflic.\nAnn K. Emery’s blog: Blog and tutorials by Ann Emery.\nEvergreen Data: Helful resources by Stephanie Evergreen.\nPolicyViz: Regular podcast and site full of helpful resources by Jon Schwabisch.\nVisualising Data: Fantastic collection of visualization resources, articles, and tutorials by Andy Kirk.\nInfo We Trust: Detailed explorations of visualizations by RJ Andrews, including a beautiful visual history of the field.\nFlowingData: Blog by Nathan Yau.\nInformation is Beautiful: Blog by David McCandless.\nJunk Charts: Blog by Kaiser Fung.\nWTF Visualizations: Visualizations that make you ask “wtf?”\nThe Data Visualization Checklist: A helpful set of criteria for grading the effectiveness of a graphic.\nData Literacy Starter Kit: Compilation of resources to become data literate by Laura Calloway.\nSeeing Data: A series of research projects about perceptions and visualizations.",
    "crumbs": [
      "Resources",
      "Visualization"
    ]
  },
  {
    "objectID": "resource/visualization.html#visualization-in-excel",
    "href": "resource/visualization.html#visualization-in-excel",
    "title": "Visualization",
    "section": "Visualization in Excel",
    "text": "Visualization in Excel\n\nHow to Build Data Visualizations in Excel: Detailed tutorials for creating 14 different visualizations in Excel.\nAnn Emery’s tutorials: Fantastic series of tutorials for creating charts in Excel.",
    "crumbs": [
      "Resources",
      "Visualization"
    ]
  },
  {
    "objectID": "resource/visualization.html#visualization-in-tableau",
    "href": "resource/visualization.html#visualization-in-tableau",
    "title": "Visualization",
    "section": "Visualization in Tableau",
    "text": "Visualization in Tableau\nBecause it is focused entirely on visualization (and because it’s a well-supported commercial product), Tableau has a phenomenal library of tutorials and training videos. There’s a helpful collections of videos here, as well.",
    "crumbs": [
      "Resources",
      "Visualization"
    ]
  },
  {
    "objectID": "resource/style.html",
    "href": "resource/style.html",
    "title": "R style suggestions",
    "section": "",
    "text": "R is fairly forgiving about how you type code (unlike other languages like Python, where miscounting spaces can ruin your code!). All of these things will do exactly the same thing:\n\nmpg |&gt; \n  filter(cty &gt; 10, class == \"compact\")\n\nmpg |&gt; filter(cty &gt; 10, class == \"compact\")\n\nmpg |&gt; \n  filter(cty &gt; 10, \n         class == \"compact\")\n\nmpg |&gt; filter(cty&gt;10, class==\"compact\")\n\nfilter(mpg,cty&gt;10,class==\"compact\")\n\nmpg |&gt; \nfilter(cty &gt; 10, \n                        class == \"compact\")\n\nfilter ( mpg,cty&gt;10,     class==\"compact\" )\n\nBut you’ll notice that only a few of those iterations (the first three) are easily readable.\nTo help improve readability and make it easier to share code with others, there’s an unofficial style guide for writing R code. It’s fairly short and just has lots of examples of good and bad ways of writing code (naming variables, dealing with long lines, using proper indentation levels, etc.)—you should glance through it some time.\nRStudio has a built-in way of cleaning up your code. Select some code, press ctrl + i (on Windows) or ⌘ + i (on macOS), and R will reformat the code for you. It’s not always perfect, but it’s really helpful for getting indentation right without having to manually hit space a billion times.",
    "crumbs": [
      "Resources",
      "R style suggestions"
    ]
  },
  {
    "objectID": "resource/style.html#r-style-conventions",
    "href": "resource/style.html#r-style-conventions",
    "title": "R style suggestions",
    "section": "",
    "text": "R is fairly forgiving about how you type code (unlike other languages like Python, where miscounting spaces can ruin your code!). All of these things will do exactly the same thing:\n\nmpg |&gt; \n  filter(cty &gt; 10, class == \"compact\")\n\nmpg |&gt; filter(cty &gt; 10, class == \"compact\")\n\nmpg |&gt; \n  filter(cty &gt; 10, \n         class == \"compact\")\n\nmpg |&gt; filter(cty&gt;10, class==\"compact\")\n\nfilter(mpg,cty&gt;10,class==\"compact\")\n\nmpg |&gt; \nfilter(cty &gt; 10, \n                        class == \"compact\")\n\nfilter ( mpg,cty&gt;10,     class==\"compact\" )\n\nBut you’ll notice that only a few of those iterations (the first three) are easily readable.\nTo help improve readability and make it easier to share code with others, there’s an unofficial style guide for writing R code. It’s fairly short and just has lots of examples of good and bad ways of writing code (naming variables, dealing with long lines, using proper indentation levels, etc.)—you should glance through it some time.\nRStudio has a built-in way of cleaning up your code. Select some code, press ctrl + i (on Windows) or ⌘ + i (on macOS), and R will reformat the code for you. It’s not always perfect, but it’s really helpful for getting indentation right without having to manually hit space a billion times.",
    "crumbs": [
      "Resources",
      "R style suggestions"
    ]
  },
  {
    "objectID": "resource/style.html#main-style-things-to-pay-attention-to-for-this-class",
    "href": "resource/style.html#main-style-things-to-pay-attention-to-for-this-class",
    "title": "R style suggestions",
    "section": "Main style things to pay attention to for this class",
    "text": "Main style things to pay attention to for this class\n\nImportant note: I won’t ever grade you on any of this! If you submit something like filter(mpg,cty&gt;10,class==\"compact\"), I might recommend adding spaces, but it won’t affect your grade or points or anything.\n\n\nSpacing\n\nSee the “Spacing” section in the tidyverse style guide.\n\nPut spaces after commas (like in regular English):\n\n# Good\nfilter(mpg, cty &gt; 10)\n\n# Bad\nfilter(mpg , cty &gt; 10)\nfilter(mpg ,cty &gt; 10)\nfilter(mpg,cty &gt; 10)\n\nPut spaces around operators like +, -, &gt;, =, etc.:\n\n# Good\nfilter(mpg, cty &gt; 10)\n\n# Bad\nfilter(mpg, cty&gt;10)\nfilter(mpg, cty&gt; 10)\nfilter(mpg, cty &gt;10)\n\nDon’t put spaces around parentheses that are parts of functions:\n\n# Good\nfilter(mpg, cty &gt; 10)\n\n# Bad\nfilter (mpg, cty &gt; 10)\nfilter ( mpg, cty &gt; 10)\nfilter( mpg, cty &gt; 10 )\n\n\n\nLong lines\n\nSee the “Long lines” section in the tidyverse style guide.\n\nIt’s generally good practice to not have really long lines of code. A good suggestion is to keep lines at a maximum of 80 characters. Instead of counting characters by hand (ew), in RStudio go to “Tools” &gt; “Global Options” &gt; “Code” &gt; “Display” and check the box for “Show margin”. You should now see a really thin line indicating 80 characters. Again, you can go beyond this—that’s fine. It’s just good practice to avoid going too far past it.\nYou can add line breaks inside longer lines of code. Line breaks should come after commas, and things like function arguments should align within the function:\n\n# Good\nfilter(mpg, cty &gt; 10, class == \"compact\")\n\n# Good\nfilter(mpg, cty &gt; 10, \n       class == \"compact\")\n\n# Good\nfilter(mpg,\n       cty &gt; 10,\n       class == \"compact\")\n\n# Bad\nfilter(mpg, cty &gt; 10, class %in% c(\"compact\", \"pickup\", \"midsize\", \"subcompact\", \"suv\", \"2seater\", \"minivan\"))\n\n# Good\nfilter(mpg, \n       cty &gt; 10, \n       class %in% c(\"compact\", \"pickup\", \"midsize\", \"subcompact\", \n                    \"suv\", \"2seater\", \"minivan\"))\n\n\n\nPipes (|&gt;) and ggplot layers (+)\nPut each layer of a ggplot plot on separate lines, with the + at the end of the line, indented with two spaces:\n\n# Good\nggplot(mpg, aes(x = cty, y = hwy, color = class)) +\n  geom_point() +\n  geom_smooth() +\n  theme_bw()\n\n# Bad\nggplot(mpg, aes(x = cty, y = hwy, color = class)) +\n  geom_point() + geom_smooth() +\n  theme_bw()\n\n# Super bad\nggplot(mpg, aes(x = cty, y = hwy, color = class)) + geom_point() + geom_smooth() + theme_bw()\n\n# Super bad and won't even work\nggplot(mpg, aes(x = cty, y = hwy, color = class))\n  + geom_point()\n  + geom_smooth() \n  + theme_bw()\n\nPut each step in a dplyr pipeline on separate lines, with the |&gt; at the end of the line, indented with two spaces:\n\n# Good\nmpg |&gt; \n  filter(cty &gt; 10) |&gt; \n  group_by(class) |&gt; \n  summarize(avg_hwy = mean(hwy))\n\n# Bad\nmpg |&gt; filter(cty &gt; 10) |&gt; group_by(class) |&gt; \n  summarize(avg_hwy = mean(hwy))\n\n# Super bad\nmpg |&gt; filter(cty &gt; 10) |&gt; group_by(class) |&gt; summarize(avg_hwy = mean(hwy))\n\n# Super bad and won't even work\nmpg |&gt; \n  filter(cty &gt; 10)\n  |&gt; group_by(class)\n  |&gt; summarize(avg_hwy = mean(hwy))\n\n\n\nComments\n\nSee the “Comments” section in the tidyverse style guide.\n\nComments should start with a comment symbol and a single space: #\n\n# Good\n\n#Bad\n\n    #Bad\n\nIf the comment is really short (and won’t cause you to go over 80 characters in the line), you can include it in the same line as the code, separated by at least two spaces (it works with one space, but using a couple can enhance readability):\n\nmpg |&gt; \n  filter(cty &gt; 10) |&gt;  # Only rows where cty is 10 +\n  group_by(class) |&gt;  # Divide into class groups\n  summarize(avg_hwy = mean(hwy))  # Find the average hwy in each group\n\nYou can add extra spaces to get inline comments to align, if you want:\n\nmpg |&gt; \n  filter(cty &gt; 10) |&gt;            # Only rows where cty is 10 +\n  group_by(class) |&gt;             # Divide into class groups\n  summarize(avg_hwy = mean(hwy))  # Find the average hwy in each group\n\nIf the comment is really long, you can break it into multiple lines. RStudio can do this for you if you go to “Code” &gt; “Reflow comment”\n\n# Good\n# Happy families are all alike; every unhappy family is unhappy in its own way.\n# Everything was in confusion in the Oblonskys’ house. The wife had discovered\n# that the husband was carrying on an intrigue with a French girl, who had been\n# a governess in their family, and she had announced to her husband that she\n# could not go on living in the same house with him. This position of affairs\n# had now lasted three days, and not only the husband and wife themselves, but\n# all the members of their family and household, were painfully conscious of it.\n\n# Bad\n# Happy families are all alike; every unhappy family is unhappy in its own way. Everything was in confusion in the Oblonskys’ house. The wife had discovered that the husband was carrying on an intrigue with a French girl, who had been a governess in their family, and she had announced to her husband that she could not go on living in the same house with him. This position of affairs had now lasted three days, and not only the husband and wife themselves, but all the members of their family and household, were painfully conscious of it.\n\nThough, if you’re dealing with comments that are that long, consider putting the text in Quarto instead and having it be actual prose.",
    "crumbs": [
      "Resources",
      "R style suggestions"
    ]
  },
  {
    "objectID": "resource/quarto.html",
    "href": "resource/quarto.html",
    "title": "Using Quarto",
    "section": "",
    "text": "Quarto Markdown is regular Markdown with R code and output sprinkled in. You can do everything you can with regular Markdown, but you can incorporate graphs, tables, and other code output directly in your document. You can create HTML, PDF, and Word documents, PowerPoint and HTML presentations, websites, books, and even interactive dashboards with Quarto. This whole course website is created with Quarto.\nQuarto’s predecessor was called R Markdown and worked exclusively with R (though there are ways to use other languages in document). Quarto is essentially “R Markdown 2.0,” but it is designed to be language agnostic. You can use R, Python, Julia, Observable JS, and even Stata code all in the same document. It is magical.\nHere are the most important things you’ll need to know about Quarto in this class:",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Quarto"
    ]
  },
  {
    "objectID": "resource/quarto.html#key-terms",
    "href": "resource/quarto.html#key-terms",
    "title": "Using Quarto",
    "section": "Key terms",
    "text": "Key terms\n\nDocument: A Markdown file where you type stuff\nChunk: A piece of R code that is included in your document. It looks like this:\n```{r}\n# Code goes here\n1 + 1\n```\nThere must be an empty line before and after the chunk. The final three backticks must be the only thing on the line—if you add more text, or if you forget to add the backticks, or accidentally delete the backticks, your document will not render correctly.\nRender: When you render a document, R runs each of the chunks sequentially and converts the output of each chunk into Markdown. R then runs the document through pandoc to convert it to HTML or PDF or Word (or whatever output you’ve selected).\nYou can render by clicking on the “Render” button at the top of the editor window, or by pressing ⌘⇧K on macOS or control + shift + K on Windows.",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Quarto"
    ]
  },
  {
    "objectID": "resource/quarto.html#add-chunks",
    "href": "resource/quarto.html#add-chunks",
    "title": "Using Quarto",
    "section": "Add chunks",
    "text": "Add chunks\nThere are three ways to insert chunks:\n\nPress ⌘⌥I on macOS or control + alt + I on Windows\nClick on the “Insert” button at the top of the editor window\n\n\n\n\n\n\n\n\n\nManually type all the backticks and curly braces (don’t do this)",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Quarto"
    ]
  },
  {
    "objectID": "resource/quarto.html#chunk-names",
    "href": "resource/quarto.html#chunk-names",
    "title": "Using Quarto",
    "section": "Chunk names",
    "text": "Chunk names\nYou can add names to chunks to make it easier to navigate your document. If you click on the little dropdown menu at the bottom of your editor in RStudio, you can see a table of contents that shows all the headings and chunks. If you name chunks, they’ll appear in the list. If you don’t include a name, the chunk will still show up, but you won’t know what it does.\n\n\n\n\n\n\n\n\n\nThere are two ways to add a chunk name:\n\nAs a special comment called label:, following #| at the top of the chunk (this is the preferred way):\n```{r}\n#| label: name-of-this-chunk\n\n1 + 1\n```\nImmediately after the {r in the first line of the chunk (this is the older way):\n```{r name-of-this-chunk}\n1 + 1\n```\n\nNames cannot contain spaces, but they can contain underscores and dashes. All chunk names in your document must be unique.",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Quarto"
    ]
  },
  {
    "objectID": "resource/quarto.html#chunk-options",
    "href": "resource/quarto.html#chunk-options",
    "title": "Using Quarto",
    "section": "Chunk options",
    "text": "Chunk options\nThere are a bunch of different options you can set for each chunk. You can see a complete list in the R Markdown Reference Guide or at {knitr}’s website.\nSet chunk options as special comments following #| at the top of the chunk (this is the preferred way):\n```{r}\n#| label: fig-some-plot\n#| fig-cap: \"Here's a caption for this plot\"\n#| fig-width: 6\n#| fig-height: 4\n#| echo: false\n\nggplot(mpg, aes(x = displ, y = hwy, color = drv)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n```\nTechnically you can also set these options inside the {r} section of the chunk—this is the old way to do it, but it gets really gross and long when you have lots of settings:\n{r fig-some-plot, fig.width=6, fig.height=4, echo=FALSE, fig.cap = \"Here's a caption for this plot\"}\nHere are some of the most common chunk options you’ll use in this class:\n\nlabel: fig-whatever: Try to always use chunk labels. If you want things to be cross-referenceable, use a fig- prefix on chunks that make figures and a tbl- prefix on chunks that make tables\ntbl-cap: \"Blah\": Add a caption to your table\nfig-cap: \"Blah\": Add a caption to your figure\nfig-width: 5 and fig-height: 3 (or whatever number you want): Set the dimensions for figures\necho: false: The code is not shown in the final document, but the results are\nmessage: false: Any messages that R generates (like all the notes that appear after you load a package) are omitted\nwarning: false: Any warnings that R generates are omitted\ninclude: false: The chunk still runs, but the code and results are not included in the final document",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Quarto"
    ]
  },
  {
    "objectID": "resource/quarto.html#inline-chunks",
    "href": "resource/quarto.html#inline-chunks",
    "title": "Using Quarto",
    "section": "Inline chunks",
    "text": "Inline chunks\nYou can also include R output directly in your text, which is really helpful if you want to report numbers from your analysis. To do this, use `r r_code_here`.\nIt’s generally easiest to calculate numbers in a regular chunk beforehand and then use an inline chunk to display the value in your text. For instance, this document…\n```{r}\n#| label: find-avg-mpg\n#| echo: false\n\navg_mpg &lt;- mean(mtcars$mpg)\n```\n\nThe average fuel efficiency for cars from 1974 was `r round(avg_mpg, 1)` miles per gallon.\n… would render to this:\n\nThe average fuel efficiency for cars from 1974 was 20.1 miles per gallon.",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Quarto"
    ]
  },
  {
    "objectID": "resource/quarto.html#output-formats",
    "href": "resource/quarto.html#output-formats",
    "title": "Using Quarto",
    "section": "Output formats",
    "text": "Output formats\nYou can specify what kind of document you create when you render in the YAML front matter.\ntitle: \"My document\"\nformat:\n  html: default\n  pdf: default\n  docx: default\nThe indentation of the YAML section matters, especially when you have settings nested under each output type. Here’s what a typical format section might look like:\n---\ntitle: \"My document\"\nauthor: \"My name\"\ndate: \"January 12, 2026\"\nformat: \n  html_document: \n    toc: yes\n  pdf_document: \n    toc: yes\n  word_document: \n    toc: yes\n---",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Quarto"
    ]
  },
  {
    "objectID": "resource/markdown.html",
    "href": "resource/markdown.html",
    "title": "Using Markdown",
    "section": "",
    "text": "Markdown is a special kind of markup language that lets you format text with simple syntax. You can then use a converter program like pandoc to convert Markdown into whatever format you want: HTML, PDF, Word, PowerPoint, etc. (see the full list of output types here)",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Markdown"
    ]
  },
  {
    "objectID": "resource/markdown.html#basic-markdown-formatting",
    "href": "resource/markdown.html#basic-markdown-formatting",
    "title": "Using Markdown",
    "section": "Basic Markdown formatting",
    "text": "Basic Markdown formatting\n\n\n\n\n\n\n\nType…\n…to get\n\n\n\n\nSome text in a paragraph.\n\nMore text in the next paragraph. Always\nuse empty lines between paragraphs.\nSome text in a paragraph.\nMore text in the next paragraph. Always use empty lines between paragraphs.\n\n\n*Italic* or _Italic_\nItalic\n\n\n**Bold** or __Bold__\nBold\n\n\n# Heading 1\nHeading 1\n\n\n## Heading 2\nHeading 2\n\n\n### Heading 3\nHeading 3\n\n\n(Go up to heading level 6 with ######)\n\n\n\n[Link text](https://www.example.com)\nLink text\n\n\n![Image caption](path/to/image.png)\n\n\n\nImage caption\n\n\n\n\n`Inline code` with backticks\nInline code with backticks\n\n\nBlock of code with triple backticks:\n\n\n\n```\nBlock of code in between\ntriple backticks\n```\nBlock of code in between\ntriple backticks\n\n\nOptionally specify a language:\n\n\n\n``` r\nx &lt;- c(1, 3, 5, 7)\nplot(x)\n```\nx &lt;- c(1, 3, 5, 7)\nplot(x)\n\n\n&gt; Blockquote\n\nBlockquote\n\n\n\n- Things in\n- an unordered\n- list\n\nThings in\nan unordered\nlist\n\n\n\n1. Things in\n1. an ordered\n2. list\n3. Notice that the\n8. numbers don't\n18. matter\n\nThings in\nan ordered\nlist\nNotice that the\nnumbers don’t\nmatter\n\n\n\nHorizontal line\n---\nHorizontal line",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Markdown"
    ]
  },
  {
    "objectID": "resource/markdown.html#math",
    "href": "resource/markdown.html#math",
    "title": "Using Markdown",
    "section": "Math",
    "text": "Math\n\nBasic math commands\nMarkdown uses LaTeX to create fancy mathematical equations. There are like a billion little options and features available for math equations—you can find helpful examples of the the most common basic commands here. In this class, these will be the most common things you’ll use:\n\n\n\n\n\n  \n    \n    \n    \n  \n  \n    \n      Description\n      Command\n      Output\n    \n  \n  \n    \n      Letters\n    \n    Roman letters\na b c d e f\n\\(a\\ b\\ c\\ d\\ e\\ f\\)\n    Greek letters (see this for all possible letters)\n\\alpha \\beta \\Gamma \\gamma \\Delta \\delta \\epsilon\n\\(\\alpha\\ \\beta\\ \\Gamma\\ \\gamma\\ \\Delta\\ \\delta\\ \\epsilon\\)\n    Letters will automatically be italicized and treated as math variables;\nif you want actual text in the math, use \\text{}\nEw: Treatment = \\beta\nGood: \\text{Treatment} = \\beta\nEw: \\(Treatment = \\beta\\)\nGood: \\(\\text{Treatment} = \\beta\\)\n    Extra spaces will automatically be removed; if you want a space, use \\ \nNo space: x y\nSpace: x\\ y\nNo space: \\(x y\\)\nSpace: \\(x\\ y\\)\n    \n      Superscripts and subscripts\n    \n    Use ^ to make one character superscripted.\nx^2\n\\(x^2\\)\n    Wrap the superscripted part in {} if there’s more than one character\nx^{2+y}\n\\(x^{2+y}\\)\n    Use _ to make one character subscripted\n\\beta_1\n\\(\\beta_1\\)\n    Wrap the subscripted part in {} if there’s more than one character\n\\beta_{i, t}\n\\(\\beta_{i, t}\\)\n    Use superscripts and subscripts simultaneously\n\\beta_1^{\\text{Treatment}}\n\\(\\beta_1^{\\text{Treatment}}\\)\n    You can even nest them\nx^{2^{2^2}}\n\\(x^{2^{2^2}}\\)\n    \n      Math operations\n    \n    Addition\n2 + 5 = 7\n\\(2 + 5 = 7\\)\n    Subtraction\n2 - 5 = -3\n\\(2 - 5 = -3\\)\n    Multiplication\nx \\times y\nx \\cdot y\n\\(x \\times y\\)\n\\(x \\cdot y\\)\n    Division\n8 \\div 2\n\\(8 \\div 2\\)\n    Fractions\n\\frac{8}{2}\n\\(\\frac{8}{2}\\)\n    Square roots; use [3] for other roots\n\\sqrt{81} = 9\n\\sqrt[3]{27} = 3\n\\(\\sqrt{81} = 9\\)\n\\(\\sqrt[3]{27} = 3\\)\n    Summation; use sub/superscripts for extra details\n\\sum x\n\\sum_{n=1}^{\\infty} \\frac{1}{n}\n\\(\\sum x\\)\n\\(\\sum_{n=1}^{\\infty} \\frac{1}{n}\\)\n    Products; use sub/superscripts for extra details\n\\prod x\n\\prod_{n=1}^{5} n^2\n\\(\\prod x\\)\n\\(\\prod_{n=1}^{5} n^2\\)\n    Integrals; use sub/superscripts for extra details\n\\int x^2 \\ dx\n\\int_{1}^{100} x^2 \\ dx\n\\(\\int x^2 \\ dx\\)\n\\(\\int_{1}^{100} x^2 \\ dx\\)\n    \n      Extra symbols\n    \n    Add a bar for things like averages\n\\bar{x}\n\\(\\bar{x}\\)\n    Use an overline for longer things\nEw: \\bar{abcdef}\nGood: \\overline{abcdef}\nEw: \\(\\bar{abcdef}\\)\nGood: \\(\\overline{abcdef}\\)\n    Add a hat for things like estimates\n\\hat{y}\n\\(\\hat{y}\\)\n    Use a wide hat for longer things\nEw: \\hat{abcdef}\nGood: \\widehat{abcdef}\nEw: \\(\\hat{abcdef}\\)\nGood: \\(\\widehat{abcdef}\\)\n    Use arrows for DAG-like things\nZ \\rightarrow Y \\leftarrow X\n\\(Z \\rightarrow Y \\leftarrow X\\)\n    \n      Bonus fun\n    \n    Use colors!; see here for more details and here for a list of color names\n{\\color{red} y} = {\\color{blue} \\beta_1 x_1}\n\\({\\color{red} y} = {\\color{blue} \\beta_1 x_1}\\)\n  \n  \n\n\n\n\n\n\nUsing math inline\nYou can use math in two different ways: inline or in a display block. To use math inline, wrap it in single dollar signs, like $y = mx + b$:\n\n\n\n\n\n\nTipInline math\n\n\n\nType…\nBased on the DAG, the regression model for estimating the effect of education on wages\nis $\\hat{y} = \\beta_0 + \\beta_1 x_1 + \\epsilon$, or $\\text{Wages} = \\beta_0 + \\beta_1 \\text{Education} + \\epsilon$.\n…to get…\n\nBased on the DAG, the regression model for estimating the effect of education on wages is \\(\\hat{y} = \\beta_0 + \\beta_1 x_1 + \\epsilon\\), or \\(\\text{Wages} = \\beta_0 + \\beta_1 \\text{Education} + \\epsilon\\)\n\n\n\n\n\nUsing math in a block\nTo put an equation on its own line in a display block, wrap it in double dollar signs, like this:\n\n\n\n\n\n\nTipBlock math\n\n\n\nType…\nThe quadratic equation was an important part of high school math:\n\n$$\nx = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}\n$$\n\nBut now we just use computers to solve for $x$.\n…to get…\n\nThe quadratic equation was an important part of high school math:\n\\[\nx = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}\n\\]\nBut now we just use computers to solve for \\(x\\).\n\n\n\n\n\nDollar signs and math\nBecause dollar signs are used to indicate math equations, you can’t just use dollar signs like normal if you’re writing about actual dollars. For instance, if you write This book costs $5.75 and this other costs $40, Markdown will treat everything that comes between the dollar signs as math, like so: “This book costs \\(5.75 and this other costs \\)40”.\nTo get around that, put a backslash (\\) in front of the dollar signs, so that This book costs \\$5.75 and this other costs \\$40 becomes “This book costs $5.75 and this other costs $40”.",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Markdown"
    ]
  },
  {
    "objectID": "resource/markdown.html#tables",
    "href": "resource/markdown.html#tables",
    "title": "Using Markdown",
    "section": "Tables",
    "text": "Tables\nThere are a few different ways to hand-create tables in Markdown—I say “hand-create” because it’s normally way easier to use R to generate these things with packages like {gt} or {knitr} or {kableExtra}. The two most common are simple tables and pipe tables. You should look at the full documentation here.\n\n\n\n\n\n\nTipSimple tables\n\n\n\nFor simple tables, type…\n  Right     Left     Center     Default\n-------     ------ ----------   -------\n     12     12        12            12\n    123     123       123          123\n      1     1          1             1\n\nTable: Caption goes here\n…to get…\n\nCaption goes here\n\n\nRight\nLeft\nCenter\nDefault\n\n\n\n\n12\n12\n12\n12\n\n\n123\n123\n123\n123\n\n\n1\n1\n1\n1\n\n\n\n\n\n\n\n\n\n\n\nTipPipe tables\n\n\n\nFor pipe tables, type…\n| Right | Left | Default | Center |\n|------:|:-----|---------|:------:|\n|   12  |  12  |    12   |    12  |\n|  123  |  123 |   123   |   123  |\n|    1  |    1 |     1   |     1  |\n\nTable: Caption goes here\n…to get…\n\nCaption goes here\n\n\nRight\nLeft\nDefault\nCenter\n\n\n\n\n12\n12\n12\n12\n\n\n123\n123\n123\n123\n\n\n1\n1\n1\n1",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Markdown"
    ]
  },
  {
    "objectID": "resource/markdown.html#footnotes",
    "href": "resource/markdown.html#footnotes",
    "title": "Using Markdown",
    "section": "Footnotes",
    "text": "Footnotes\nThere are two different ways to add footnotes (see here for complete documentation): regular and inline.\nRegular notes need (1) an identifier and (2) the actual note. The identifier can be whatever you want. Some people like to use numbers like [^1], but if you ever rearrange paragraphs or add notes before #1, the numbering will be wrong (in your Markdown file, not in the output; everything will be correct in the output). Because of that, I prefer to use some sort of text label:\n\n\n\n\n\n\nTipFootnotes\n\n\n\nType…\nHere is a footnote reference[^1] and here is another [^note-on-dags].\n\n[^1]: This is a note.\n\n[^note-on-dags]: DAGs are neat. \n\nAnd here's more of the document.\n…to get…\n\nHere is a footnote reference1 and here is another.2\nAnd here’s more of the document.\n\n\n\n\n\nThis is a note.↩︎\n\n\n\n\nDAGs are neat.↩︎\n\n\n\n\n\n\n\nYou can also use inline footnotes with ^[Text of the note goes here], which are often easier because you don’t need to worry about identifiers:\n\n\n\n\n\n\nTipInline footnotes\n\n\n\nType…\nCausal inference is neat.^[But it can be hard too!]\n…to get…\n\nCausal inference is neat.1\n\n\n\n\n\nBut it can be hard too!↩︎",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Markdown"
    ]
  },
  {
    "objectID": "resource/markdown.html#front-matter",
    "href": "resource/markdown.html#front-matter",
    "title": "Using Markdown",
    "section": "Front matter",
    "text": "Front matter\nYou can include a special section at the top of a Markdown document that contains metadata (or data about your document) like the title, date, author, etc. This section uses a special simple syntax named YAML (or “YAML Ain’t Markup Language”) that follows this basic outline: setting: value for setting. Here’s an example YAML metadata section. Note that it must start and end with three dashes (---).\n---\ntitle: Title of your document\ndate: \"January 12, 2026\"\nauthor: \"Your name\"\n---\nYou can put the values inside quotes (like the date and name in the example above), or you can leave them outside of quotes (like the title in the example above). I typically use quotes just to be safe—if the value you’re using has a colon (:) in it, it’ll confuse Markdown since it’ll be something like title: My cool title: a subtitle, which has two colons. It’s better to do this:\n---\ntitle: \"My cool title: a subtitle\"\n---\nIf you want to use quotes inside one of the values (e.g. your document is An evaluation of \"scare quotes\"), you can use single quotes instead:\n---\ntitle: 'An evaluation of \"scare quotes\"'\n---",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Markdown"
    ]
  },
  {
    "objectID": "resource/markdown.html#citations",
    "href": "resource/markdown.html#citations",
    "title": "Using Markdown",
    "section": "Citations",
    "text": "Citations\nOne of the most powerful features of Markdown + pandoc is the ability to automatically cite things and generate bibliographies. to use citations, you need to create a BibTeX file (ends in .bib) that contains a database of the things you want to cite. You can do this with bibliography managers designed to work with BibTeX directly (like BibDesk on macOS), or you can use Zotero (macOS and Windows) to export a .bib file. You can download an example .bib file of all the readings from this class here.\nComplete details for using citations can be found here. In brief, you need to do three things:\n\nAdd a bibliography: entry to the YAML metadata:\n---\ntitle: Title of your document\ndate: \"January 12, 2026\"\nauthor: \"Your name\"\nbibliography: name_of_file.bib\n---\nChoose a citation style based on a CSL file. The default is Chicago author-date, but you can choose from 2,000+ at this repository. Download the CSL file, put it in your project folder, and add an entry to the YAML metadata:\n---\ntitle: Title of your document\ndate: \"January 12, 2026\"\nauthor: \"Your name\"\nbibliography: name_of_file.bib\ncsl: \"apa.csl\"\n---\nSome of the most common CSLs are:\n\nChicago author-date\nChicago note-bibliography\nAPA 7th edition\nMLA 9th edition\n\nCite things in your document. Check the documentation for full details of how to do this. Essentially, you use @citationkey either inside square brackets ([]) or outside of them, depending on how you’re using the reference in your text:\n\n\n\n\n\n\n\nType…\n…to get…\n\n\n\n\nCausal inference is neat [@Rohrer:2018;\n@AngristPischke:2015].\nCausal inference is neat (Rohrer 2018; Angrist and Pischke 2015).\n\n\nCausal inference is neat [see @Rohrer:2018, p. 34;\nalso @AngristPischke:2015, chapter 1].\nCausal inference is neat (see Rohrer 2018, 34; also Angrist and Pischke 2015, chap. 1).\n\n\nAngrist and Pischke say causal inference is neat\n[-@AngristPischke:2015; see also @Rohrer:2018].\nAngrist and Pischke say causal inference is neat (2015; see also Rohrer 2018).\n\n\n@AngristPischke:2015 [chapter 1] say causal\ninference is neat, and @Rohrer:2018 agrees.\nAngrist and Pischke (2015, chap. 1) say causal inference is neat, and Rohrer (2018) agrees.\n\n\n\nAfter compiling, you should have a perfectly formatted bibliography added to the end of your document too:\n\nAngrist, Joshua D., and Jörn-Steffen Pischke. 2015. Mastering ’Metrics: The Path from Cause to Effect. Princeton, NJ: Princeton University Press.\nRohrer, Julia M. 2018. “Thinking Clearly About Correlations and Causation: Graphical Causal Models for Observational Data.” Advances in Methods and Practices in Psychological Science 1 (1): 27–42. https://doi.org/10.1177/2515245917745629.",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Markdown"
    ]
  },
  {
    "objectID": "resource/markdown.html#other-references",
    "href": "resource/markdown.html#other-references",
    "title": "Using Markdown",
    "section": "Other references",
    "text": "Other references\nThese websites have additional details and examples and practice tools:\n\nCommonMark’s Markdown tutorial: A quick interactive Markdown tutorial.\nMarkdown tutorial: Another interactive tutorial to practice using Markdown.\nMarkdown cheatsheet: Useful one-page reminder of Markdown syntax.\nThe Plain Person’s Guide to Plain Text Social Science: A comprehensive explanation and tutorial about why you should write data-based reports in Markdown.",
    "crumbs": [
      "Resources",
      "Guides",
      "Using Markdown"
    ]
  },
  {
    "objectID": "resource/index.html",
    "href": "resource/index.html",
    "title": "Helpful resources",
    "section": "",
    "text": "I have included some extra resources and guides related to graphic design, visualization, R, data, and other relevant topics. Enjoy!",
    "crumbs": [
      "Resources",
      "Helpful resources"
    ]
  },
  {
    "objectID": "resource/design.html",
    "href": "resource/design.html",
    "title": "Design",
    "section": "",
    "text": "Vischeck: Simulate how your images look for people with different forms of colorblindness (web-based)\nColor Oracle: Simulate how your images look for people with different forms of colorblindness (desktop-based, more types of colorblindness)",
    "crumbs": [
      "Resources",
      "Design"
    ]
  },
  {
    "objectID": "resource/design.html#accessibility",
    "href": "resource/design.html#accessibility",
    "title": "Design",
    "section": "",
    "text": "Vischeck: Simulate how your images look for people with different forms of colorblindness (web-based)\nColor Oracle: Simulate how your images look for people with different forms of colorblindness (desktop-based, more types of colorblindness)",
    "crumbs": [
      "Resources",
      "Design"
    ]
  },
  {
    "objectID": "resource/design.html#colors",
    "href": "resource/design.html#colors",
    "title": "Design",
    "section": "Colors",
    "text": "Colors\n\nAdobe Color: Create, share, and explore rule-based and custom color palettes.\nColourLovers: Like Facebook for color palettes.\nCoolors: Generate random palettes that look great.\nviridis: Perceptually uniform color scales.\nScientific Colour-Maps: Perceptually uniform color scales like viridis. Use them in R with {scico}.\nColorBrewer: Sequential, diverging, and qualitative color palettes that take accessibility into account.\nCARTOColors: More sequential, diverging, and qualitative color palettes that take accessibility into account. Use them with {rcartocolor}.\nPaletteer: The {paletteer} package for R includes hundreds of different palettes.\nHCL palettes: The {colorspace} package for R includes a ton of qualitative, sequential, and diverging HCL (hue-chroma-luminance) palettes that use fancy mathematical rules that maintain perceptual distance\nColorgorical: Create color palettes based on fancy mathematical rules for perceptual distance.\nColorpicker for data: More fancy mathematical rules for color palettes (explanation).\niWantHue: Yet another perceptual distance-based color palette builder.\nPhotochrome: Word-based color palettes.\nPolicyViz Design Color Tools: Large collection of useful color resources",
    "crumbs": [
      "Resources",
      "Design"
    ]
  },
  {
    "objectID": "resource/design.html#fonts",
    "href": "resource/design.html#fonts",
    "title": "Design",
    "section": "Fonts",
    "text": "Fonts\n\nGoogle Fonts: Huge collection of free, well-made fonts.\nfontpair: A directory of all sorts of Google Fonts pairings (for when you’re looking for good contrasting or complementary fonts)\nThe Ultimate Collection of Google Font Pairings: Another list of great, well-designed font pairings\n“Pairing typefaces”: Google Fonts’s own guidelines for finding good pairings\nFont Mixer: An online app for finding and testing different font combinations",
    "crumbs": [
      "Resources",
      "Design"
    ]
  },
  {
    "objectID": "resource/design.html#graphic-assets",
    "href": "resource/design.html#graphic-assets",
    "title": "Design",
    "section": "Graphic assets",
    "text": "Graphic assets\n\nImages\n\nUse the Creative Commons filters on Google Images or Flickr\nUnsplash\nPexels\nPixabay\nStockSnap.io\nBurst\nfreephotos.cc\n\n\n\nVectors\n\nNoun Project: Thousands of free simple vector images\naiconica: 1,000+ vector icons\nVecteezy: Thousands of free vector images\n\n\n\nVectors, photos, videos, and other assets\n\nStockio",
    "crumbs": [
      "Resources",
      "Design"
    ]
  },
  {
    "objectID": "resource/colors.html",
    "href": "resource/colors.html",
    "title": "Color palettes",
    "section": "",
    "text": "When choosing colors, you need to make sure you work with a palette that matches the nature of your data. There are three broad categories of color-able data: sequential, diverging, and qualitative.\nHere’s are three plots I’ll use throughout this page to illustrate their differences (and show off different colors). The code is hidden to save space—you can show the code and copy/paste it if you want to follow along:\n\n\nCode\nlibrary(tidyverse)\nlibrary(gapminder)\nlibrary(palmerpenguins)\nlibrary(ggokabeito)\nlibrary(scico)\nlibrary(rcartocolor)\nlibrary(MetBrewer)\nlibrary(MoMAColors)\nlibrary(patchwork)\n\nplot_diverging &lt;- tribble(\n  ~category, ~pct,\n  \"Strongly disagree\", 0.12,\n  \"Disagree\", 0.18,\n  \"Neutral\", 0.15,\n  \"Agree\", 0.27,\n  \"Strongly agree\", 0.28\n) |&gt;\n  mutate(category = fct_inorder(category)) |&gt;\n  ggplot(aes(x = pct, y = category, fill = category)) +\n  geom_col() +\n  guides(fill = \"none\") +\n  theme_bw() +\n  theme(plot.title = element_text(face = \"bold\"))\n\nplot_sequential &lt;- penguins |&gt;\n  drop_na(sex) |&gt;\n  ggplot(aes(x = bill_length_mm, y = body_mass_g, color = flipper_length_mm)) +\n  geom_point() +\n  theme_bw() +\n  theme(plot.title = element_text(face = \"bold\"))\n\nplot_qualitative &lt;- gapminder |&gt;\n  filter(year %in% c(1967, 1987, 2007)) |&gt;\n  group_by(year, continent) |&gt;\n  summarize(avg_lifexp = mean(lifeExp)) |&gt;\n  mutate(year = factor(year)) |&gt;\n  ggplot(aes(x = year, y = avg_lifexp, fill = continent)) +\n  geom_col(position = \"dodge\") +\n  theme_bw() +\n  theme(plot.title = element_text(face = \"bold\"))\n\n\n\n\nWith sequential data, colors represent a range from low value to a high value, so the colors either stay within one shade or hue of a color, or use multiple related hues\n\nDefault single blue hueMultiple red-purple hues (RdPu from ColorBrewer)\n\n\n\nplot_sequential\n\n\n\n\n\n\n\nFigure 1\n\n\n\n\n\n\n\n\nplot_sequential +\n  scale_color_distiller(palette = \"RdPu\", direction = 1)\n\n\n\n\n\n\n\nFigure 2\n\n\n\n\n\n\n\n\n\n\n\nWith diverging data, colors represent values above and below some central value, like negative to zero to positive; disagree to neutral to agree; etc. These palettes typically involve three colors: two for the extremes and one for the middle\n\nDefault ggplot colorsDiverging red-yellow-blue palette (RdYlBu from ColorBrewer)\n\n\nBy default, ggplot doesn’t actually do anything with diverging scales. If you have numeric data, it’ll use a blue gradient; if you have categorical data, it’ll use distinct colors. You’re in charge of applying a diverging palette.\n\n# This doesn't show up as diverging\nplot_diverging\n\n\n\n\n\n\n\nFigure 3\n\n\n\n\n\n\n\n\nplot_diverging +\n  scale_fill_brewer(palette = \"RdYlBu\", direction = 1)\n\n\n\n\n\n\n\nFigure 4\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWarningDon’t use diverging palettes for non-diverging data!\n\n\n\nPeople will often throw diverging palettes onto plots that aren’t actually diverging, like this:\n\nplot_sequential +\n  scale_color_distiller(palette = \"RdBu\", direction = 1)\n\n\n\n\n\n\n\nFigure 5\n\n\n\n\n\nDon’t do this! It looks weird having 200 be a super-faded middle color. Flipper length here ranges from a low number to a high number—the colors should reflect that.\n\n\n\n\n\nWith qualitative data, colors represent distinct categories and don’t have an inherent order. The colors shouldn’t look like they have a natural progression.\n\nDefault ggplot colorsviridis colors\n\n\n\nplot_qualitative\n\n\n\n\n\n\n\nFigure 6\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_viridis_d()\n\n\n\n\n\n\n\nFigure 7",
    "crumbs": [
      "Resources",
      "Color palettes"
    ]
  },
  {
    "objectID": "resource/colors.html#categories-of-color-palettes",
    "href": "resource/colors.html#categories-of-color-palettes",
    "title": "Color palettes",
    "section": "",
    "text": "When choosing colors, you need to make sure you work with a palette that matches the nature of your data. There are three broad categories of color-able data: sequential, diverging, and qualitative.\nHere’s are three plots I’ll use throughout this page to illustrate their differences (and show off different colors). The code is hidden to save space—you can show the code and copy/paste it if you want to follow along:\n\n\nCode\nlibrary(tidyverse)\nlibrary(gapminder)\nlibrary(palmerpenguins)\nlibrary(ggokabeito)\nlibrary(scico)\nlibrary(rcartocolor)\nlibrary(MetBrewer)\nlibrary(MoMAColors)\nlibrary(patchwork)\n\nplot_diverging &lt;- tribble(\n  ~category, ~pct,\n  \"Strongly disagree\", 0.12,\n  \"Disagree\", 0.18,\n  \"Neutral\", 0.15,\n  \"Agree\", 0.27,\n  \"Strongly agree\", 0.28\n) |&gt;\n  mutate(category = fct_inorder(category)) |&gt;\n  ggplot(aes(x = pct, y = category, fill = category)) +\n  geom_col() +\n  guides(fill = \"none\") +\n  theme_bw() +\n  theme(plot.title = element_text(face = \"bold\"))\n\nplot_sequential &lt;- penguins |&gt;\n  drop_na(sex) |&gt;\n  ggplot(aes(x = bill_length_mm, y = body_mass_g, color = flipper_length_mm)) +\n  geom_point() +\n  theme_bw() +\n  theme(plot.title = element_text(face = \"bold\"))\n\nplot_qualitative &lt;- gapminder |&gt;\n  filter(year %in% c(1967, 1987, 2007)) |&gt;\n  group_by(year, continent) |&gt;\n  summarize(avg_lifexp = mean(lifeExp)) |&gt;\n  mutate(year = factor(year)) |&gt;\n  ggplot(aes(x = year, y = avg_lifexp, fill = continent)) +\n  geom_col(position = \"dodge\") +\n  theme_bw() +\n  theme(plot.title = element_text(face = \"bold\"))\n\n\n\n\nWith sequential data, colors represent a range from low value to a high value, so the colors either stay within one shade or hue of a color, or use multiple related hues\n\nDefault single blue hueMultiple red-purple hues (RdPu from ColorBrewer)\n\n\n\nplot_sequential\n\n\n\n\n\n\n\nFigure 1\n\n\n\n\n\n\n\n\nplot_sequential +\n  scale_color_distiller(palette = \"RdPu\", direction = 1)\n\n\n\n\n\n\n\nFigure 2\n\n\n\n\n\n\n\n\n\n\n\nWith diverging data, colors represent values above and below some central value, like negative to zero to positive; disagree to neutral to agree; etc. These palettes typically involve three colors: two for the extremes and one for the middle\n\nDefault ggplot colorsDiverging red-yellow-blue palette (RdYlBu from ColorBrewer)\n\n\nBy default, ggplot doesn’t actually do anything with diverging scales. If you have numeric data, it’ll use a blue gradient; if you have categorical data, it’ll use distinct colors. You’re in charge of applying a diverging palette.\n\n# This doesn't show up as diverging\nplot_diverging\n\n\n\n\n\n\n\nFigure 3\n\n\n\n\n\n\n\n\nplot_diverging +\n  scale_fill_brewer(palette = \"RdYlBu\", direction = 1)\n\n\n\n\n\n\n\nFigure 4\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWarningDon’t use diverging palettes for non-diverging data!\n\n\n\nPeople will often throw diverging palettes onto plots that aren’t actually diverging, like this:\n\nplot_sequential +\n  scale_color_distiller(palette = \"RdBu\", direction = 1)\n\n\n\n\n\n\n\nFigure 5\n\n\n\n\n\nDon’t do this! It looks weird having 200 be a super-faded middle color. Flipper length here ranges from a low number to a high number—the colors should reflect that.\n\n\n\n\n\nWith qualitative data, colors represent distinct categories and don’t have an inherent order. The colors shouldn’t look like they have a natural progression.\n\nDefault ggplot colorsviridis colors\n\n\n\nplot_qualitative\n\n\n\n\n\n\n\nFigure 6\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_viridis_d()\n\n\n\n\n\n\n\nFigure 7",
    "crumbs": [
      "Resources",
      "Color palettes"
    ]
  },
  {
    "objectID": "resource/colors.html#using-custom-colors",
    "href": "resource/colors.html#using-custom-colors",
    "title": "Color palettes",
    "section": "Using custom colors",
    "text": "Using custom colors\nYou can use any custom colors with scale_fill_manual()/scale_color_manual() (for qualitative/categorical colors) or scale_fill_gradident()/scale_color_gradient() (for sequential/continuous colors).\nFeed these functions a vector of colors, either as named colors like ■red, ■goldenrod3, ■midnightblue, and so on (see here for R’s huge list of built-in color names), or as hex codes like ■#FF4136, ■#0074D9, and ■#FF851B.\n\nHex colorsNamed colors in a gradient\n\n\nI copied these colors from clrs.cc.\n\nplot_qualitative +\n  scale_fill_manual(\n    values = c(\"#0074D9\", \"#B10DC9\", \"#85144b\", \"#FF4136\", \"#FF851B\")\n  )\n\n\n\n\n\n\n\n\n\n\n\nplot_sequential +\n  scale_color_gradient(low = \"chocolate1\", high = \"chocolate4\")\n\n\n\n\n\n\n\n\n\n\n\nOften organizations have specific color palettes that you’re supposed to use. For instance, GSU has a special “Georgia State Blue” (■#0039A6) and a red accent (■#CC0000). The Urban Institute has a specific organizational color palette with all sorts of guidelines for comparing two groups, three groups, sequential data, diverging data, and other special situations. They have specific red and blue colors to use for political parties too, like ■#1696d2 for Democrats and ■#db2b27 for Republicans.\nI often find it helpful to make a little object that contains all the custom colors I want to use so I don’t have to remember what the cryptic hex codes mean. Here’s GSU’s full palette:\n\ngsu_colors &lt;- c(\n  \"#0039A6\", \"#CC0000\", \"#374057\", \"#0071CE\",\n  \"#00AEEF\", \"#97CAEB\", \"#EEEEEE\", \"#CCCCCC\", \"#767679\"\n)\n\nYou can access these colors by number:\n\ngsu_colors[1:2]\n## [1] \"#0039A6\" \"#CC0000\"\ngsu_colors[5]\n## [1] \"#00AEEF\"\ngsu_colors[c(3, 5, 9)]\n## [1] \"#374057\" \"#00AEEF\" \"#767679\"\n\nAnd you can use the show_col() function from the {scales} library to show them all:\n\nscales::show_col(gsu_colors)\n\n\n\n\n\n\n\n\nYou can use them in scale_fill_manual()/scale_color_manual() too:\n\nplot_qualitative +\n  scale_fill_manual(\n    values = gsu_colors[1:5]\n  )\n\n\n\n\n\n\n\n\nIf you want to be extra fancy, you can create more official custom color palettes like scale_fill_gsu().",
    "crumbs": [
      "Resources",
      "Color palettes"
    ]
  },
  {
    "objectID": "resource/colors.html#perceptually-uniform-and-scientifically-calibrated-palettes",
    "href": "resource/colors.html#perceptually-uniform-and-scientifically-calibrated-palettes",
    "title": "Color palettes",
    "section": "Perceptually uniform and scientifically calibrated palettes",
    "text": "Perceptually uniform and scientifically calibrated palettes\nYou aren’t limited to just the default ggplot color palettes, or even the default viridis palettes. There are lots of other perceptually uniform palettes that use special ranges of color that can either (1) be used as a sequential gradient or (2) be chopped up into equal distances to create recognizable distinct colors.\n\nThe Okabe-Ito palette\nMasataka Okabe and Kei Ito developed a qualitative color palette for all types of color-vision deficiencies in 2008, and Claus Wilke uses it throughout his Fundamentals of Data Visualization book that we use in this class (he explains why here).\n\nYou can use it with the {ggokabeito} package and scale_fill_okabe_ito()/scale_color_okabe_ito():\n\nplot_qualitative +\n  scale_fill_okabe_ito()\n\n\n\n\n\n\n\n\n\n\nviridis\nYou’ve seen the regular green/blue/yellow viridis palette throughout the class, but there are are a bunch of other palettes within viridis like magma, plasma, inferno, mako, rocket, and turbo.\n\n\n\n\n\nNone of the viridis palettes are diverging, but they work great for both sequential and qualitative data.\nThe viridis palettes come with {ggplot2} and you can use them with scale_fill_viridis_d()/scale_color_viridis_d() for discrete data and scale_fill_viridis_c()/scale_color_viridis_c() for continuous data.\n\nplasmainfernomakoturbo\n\n\n\nplot_qualitative +\n  scale_fill_viridis_d(option = \"plasma\")\n\n\n\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_viridis_d(option = \"inferno\")\n\n\n\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_viridis_d(option = \"mako\")\n\n\n\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_viridis_d(option = \"turbo\")\n\n\n\n\n\n\n\n\n\n\n\n\n\nScientific colour maps\nThe {scico} package provides a ton of other similar well-designed palettes from the Scientific Colour Maps project. The project includes sequential, diverging, and qualitative palettes and even has multi-sequential and cyclic palettes.\n\nAfter loading the {scico} package, you can use these palettes with scale_fill_scico_d()/scale_color_scico_d() for discrete data and scale_fill_scico_c()/scale_color_scico_c() for continuous data.\n\nbatlowbamakohawaiiroma (diverging)broc (diverging)\n\n\n\nplot_qualitative +\n  scale_fill_scico_d(palette = \"batlow\")\n\n\n\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_scico_d(palette = \"bamako\")\n\n\n\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_scico_d(palette = \"hawaii\")\n\n\n\n\n\n\n\n\n\n\n\nplot_diverging +\n  scale_fill_scico_d(palette = \"roma\")\n\n\n\n\n\n\n\n\n\n\n\nplot_diverging +\n  scale_fill_scico_d(palette = \"broc\")\n\n\n\n\n\n\n\n\n\n\n\n\n\nColorBrewer\nGeographer Cynthia Brewer developed a set of color palettes designed specifically for improving the readability of maps, but her palettes work incredibly well for regular plots too. There’s also a fantastic companion website for exploring all the different palettes, categories by sequential/diverging/qualitatitve, with options to filter by colorblind friendliness and print friendliness.\n\nTo use one of the palettes, note what it’s called at the website and use that name as the palette argument. The ColorBrewer palettes come with {ggplot2} and you can use them with scale_fill_brewer()/scale_color_brewer() for discrete data and scale_fill_distiller()/scale_color_distiller() for continuous data.\n\nYlOrRd (sequential)PuOr (diverging)Set1 (qualitative)\n\n\n\nplot_sequential +\n  scale_color_distiller(palette = \"YlOrRd\")\n\n\n\n\n\n\n\n\n\n\n\nplot_diverging +\n  scale_fill_brewer(palette = \"PuOr\")\n\n\n\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_brewer(palette = \"Set1\")\n\n\n\n\n\n\n\n\n\n\n\n\n\nCARTOColors\nThe commerical GIS service CARTO created CARTOColors: a set of open source geographic-like colors just like ColorBrewer. Again, these were originally designed for maps, but they work great for regular data visualization too.\n\n\n\n\n\nYou’ll need to install the {rcartocolor} package to use them. After loading {rcartocolor}, you can use any of the palettes with scale_fill_carto_d()/scale_color_carto_d() for discrete data and scale_fill_carto_c()/scale_color_carto_c() for continuous data. Use the name of the palette at the CARTOColors website in the palette argument.\n\nPurpOr (sequential)Temps (diverging)Prism (qualitative)\n\n\n\nplot_sequential +\n  scale_color_carto_c(palette = \"PurpOr\")\n\n\n\n\n\n\n\n\n\n\n\nplot_diverging +\n  scale_fill_carto_d(palette = \"Temps\", direction = -1)\n\n\n\n\n\n\n\n\n\n\n\n# Extract 5 colors from the Prism palette and use them with scale_fill_manual()\nclrs &lt;- carto_pal(12, \"Prism\")\n\nplot_qualitative +\n  scale_fill_manual(values = clrs[c(1, 4, 6, 7, 8)])",
    "crumbs": [
      "Resources",
      "Color palettes"
    ]
  },
  {
    "objectID": "resource/colors.html#fun-and-artsy-but-still-useful-palettes",
    "href": "resource/colors.html#fun-and-artsy-but-still-useful-palettes",
    "title": "Color palettes",
    "section": "Fun and artsy (but still useful!) palettes",
    "text": "Fun and artsy (but still useful!) palettes\nThere are also palettes that are hand-picked for beauty and/or fun. Not all of these are perceptually uniform or colorblind friendly, but they’re great for when you want to have pretty graphics that fit a certain vibe.\n\nLiteral art: {MetBrewer} and {MoMAColors}\nUse palettes inspired by works in the Metropolitan Museum of Art and the Museum of Modern Art in New York. There are sequential, diverging, and qualitative palettes, and many are marked as colorblind friendly in {MetBrewer} and {MoMAColors}\nUse them by putting met.brewer() or moma.colors() inside scale_fill_manual()/scale_color_manual() or scale_fill_gradientn()/scale_color_gradientn():\n\n{MetBrewer}\n\nOKeeffe2 (sequential)Hiroshige (diverging)Johnson (qualitative)\n\n\n\nplot_sequential +\n  scale_color_gradientn(colors = met.brewer(\"OKeeffe2\"))\n\n\n\n\n\n\n\n\n\n\n\n\n# Grab 5 of the middle colors from the palette\nclrs &lt;- met.brewer(\"Hiroshige\")\n\nplot_diverging +\n  scale_fill_manual(values = clrs[3:7])\n\n\n\n\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_manual(values = met.brewer(\"Johnson\"))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{MoMAColors}\n\nVanGogh (sequential)Kippenberger (diverging)ustwo (qualitative)\n\n\n\nplot_sequential +\n  scale_color_gradientn(colors = moma.colors(\"VanGogh\")[2:7])\n\n\n\n\n\n\n\n\n\n\n\n\n# Grab 5 of the middle colors from the palette\nclrs &lt;- moma.colors(\"Kippenberger\")\n\nplot_diverging +\n  scale_fill_manual(values = clrs[c(2, 4, 6, 8, 10)])\n\n\n\n\n\n\n\n\n\n\n\n\nplot_qualitative +\n  scale_fill_manual(values = moma.colors(\"ustwo\", 5))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOther fun things\nThere are so many others. The {paletteer} package contains thousands of others—it’s like a central collection of every possible palette.\nYou can also access individual palettes without using {paletteer}, including these:\nMusic\n\n{tayloRswift}: Colors from all albums up through “The Tortured Poets Department”\n{beyonce}: 130 different palettes from beyoncepalettes.tumblr.com\n{rockthemes}: Janelle Monae, Muse, No Doubt, Red Hot Chili Peppers, etc.\n{popthemes}: Spice Girls, Aqua, No Doubt, etc.\n\nNational parks\n\n{nationalparkcolors}: Colors from 25 different US national parks\n{NatParksPalettes}: Colors from 30 different US and international national parks\n\nHistory\n\n{suffrager}: Colors from old suffragette posters\n{inauguration}: Colors from the 2021 presidential inauguration\n{ggpomological}: Colors from old drawings of fruit\n\nTV and movies\n\n{tvthemes}: Colors from a ton of TV shows, including The Simpsons, Parks & Recreation, Spongebob Squarepants, Game of Thrones, etc.\n{wesanderson}: Colors from Wes Anderson movies\n{trekcolors}: Colors from Star Trek\n{severance}: Colors from the Apple TV show Severance\n{ghibli}: Colors from Studio Ghibli movies\n{harrypotter}: Colors from Harry Potter movies\n\nOther things\n\n{nbapalettes}: Colors from NBA teams\n{LaCroixColoR}: Colors from La Croix cans",
    "crumbs": [
      "Resources",
      "Color palettes"
    ]
  },
  {
    "objectID": "resource/ai-bs.html",
    "href": "resource/ai-bs.html",
    "title": "AI, LLMs, BS, and vibe coding",
    "section": "",
    "text": "I highly recommend not using ChatGPT or similar large language models (LLMs) in this class.\nI am not opposed to LLMs in many situations. I use GitHub Copilot and Claude Code for computer programming-related tasks all the time, and I have ongoing research where we’re experimenting with using Meta’s Ollama to try automatically categorizing thousands of nonprofit mission statements. Using LLMs requires careful skill and attention and practice, and they tend to be useful only in specific limited cases.",
    "crumbs": [
      "Resources",
      "AI, LLMs, BS, and vibe coding"
    ]
  },
  {
    "objectID": "resource/ai-bs.html#writing-and-thinking",
    "href": "resource/ai-bs.html#writing-and-thinking",
    "title": "AI, LLMs, BS, and vibe coding",
    "section": "Writing and thinking",
    "text": "Writing and thinking\nI am deeply opposed to LLMs for writing.\nGoogle Docs and Microsoft Word now have built in text-generation tools where you can start writing a sentence and let the machine take over the rest. ChatGPT and other services let you generate multi-paragraph essays with plausible-looking text. Please do not use these.\nThere’s a reason most university classes require some sort of writing, like reading reflections, essay questions, and research papers. The process of writing is actually the process of thinking:\n\nWriting is hard because the process of getting something onto the page helps us figure out what we think—about a topic, a problem or an idea. If we turn to AI to do the writing, we’re not going to be doing the thinking either. That may not matter if you’re writing an email to set up a meeting, but it will matter if you’re writing a business plan, a policy statement or a court case. (Rosenzweig 2023)\n\nUsing LLMs and AI to generate a reflection on the week’s readings will not help you think through the materials. You can create text and meet the suggested word count and finish the assignment, but the text will be meaningless. There’s an official philosophical term for this kind of writing: bullshit (Hicks, Humphries, and Slater 2024; Frankfurt 2005).1\n1 I’m a super straight-laced Mormon and, like, never ever swear or curse, but in this case, the word has a formal philosophical meaning (Frankfurt 2005), so it doesn’t count :)",
    "crumbs": [
      "Resources",
      "AI, LLMs, BS, and vibe coding"
    ]
  },
  {
    "objectID": "resource/ai-bs.html#bullshit",
    "href": "resource/ai-bs.html#bullshit",
    "title": "AI, LLMs, BS, and vibe coding",
    "section": "Bullshit",
    "text": "Bullshit\nPhilosophical bullshit is “speech or text produced without concern for its truth” (Hicks, Humphries, and Slater 2024, 2). Bullshit isn’t truth, but it’s also not lies (i.e. the opposite of truth). It’s text that exists to make the author sound like they know what they’re talking about. A bullshitter doesn’t care if the text is true or not—truth isn’t even part of the equation:\n\n[A bullshitter] does not reject the authority of the truth, as the liar does, and oppose himself to it. He pays no attention to it at all (Frankfurt 2005, 61).\n\nLLMs and AI systems like ChatGPT, Gemini, Claude, and so on are bullshit machines. That might sound hyperbolic, but at a technological level, that’s literally what they do. LLMs use fancy statistics to take an initial prompt or starting phrase and then generate the most plausible words or phrases that are likely to follow. They don’t care whether the text it creates is true—they only care about whether it looks plausible.\nThis is why these systems will generate citations to articles that don’t exist, or generate facts that aren’t true, or fail at simple math questions. They aren’t meant to tell the truth. Their only goal is to create stuff that looks plausible:\n\nThe problem here isn’t that large language models hallucinate, lie, or misrepresent the world in some way. It’s that they are not designed to represent the world at all; instead, they are designed to convey convincing lines of text. (Hicks, Humphries, and Slater 2024, 3)\n\nDo not replace the important work of writing with AI bullshit slop. Remember that the point of writing is to help crystalize your thinking. Chugging out words that make it look like you read and understood the content will not help you learn.\nA key theme of the class is the search for truth. Generating useless content will not help with that.\nIn your session check-ins and assignments, I want to see good engagement with the readings. I want to see your thinking process. I want to see you make connections between the readings. I want to see your personal insights. I don’t want to see a bunch of words that look like a human wrote them. That’s not useful for future-you. That’s not useful for me. That’s a waste of time.\nI will not spend time trying to guess if your assignments are AI-generated.2 If you do turn in AI-produced content, I won’t automatically give you a zero. I’ll grade your work based on its own merits. I’ve found that AI-produced content will typically earn a ✓− (50%) or lower on my check-based grading system without me even needing to look for clues that it might have come from an LLM. Remember that text generated by these platforms is philosophical bullshit. Since it has nothing to do with truth, it will not—by definition—earn good grades.\n2 There are tools that purport to be able to identify the percentage of a given text that is AI, but they do not work and result in all sorts of false positives.",
    "crumbs": [
      "Resources",
      "AI, LLMs, BS, and vibe coding"
    ]
  },
  {
    "objectID": "resource/ai-bs.html#what-about-code",
    "href": "resource/ai-bs.html#what-about-code",
    "title": "AI, LLMs, BS, and vibe coding",
    "section": "What about code?",
    "text": "What about code?\nI am less opposed to LLMs for coding. Kind of.\nI often use LLMs like ChatGPT and GitHub Copilot and Claude Code in my own work (GitHub Copilot in particular is really really good for code—it’s better than ChatGPT, and free for students). These tools are phenomenal resources for coding when you already know what you are doing.\nHowever, using ChatGPT and other LLMs when learning R is actually really detrimental to learning, especially if you just copy/paste directly from what it spits out. It will give you code that is wrong or that contains extra stuff you don’t need, and if you don’t know enough of the language you’re working with, you won’t understand why or what’s going on.\nWhen you ask an LLM for help with code, it will spit out a plausible-looking answer based on a vast trove of training data—millions of lines of code that people have posted to GitHub. The answer that it gives represents a sort of amalgamated average of everyone else’s code. Often it’ll be right and useful. Often it’ll be wrong and will send you down a path of broken code and you’ll spend hours stuck on a problem because the code you’re working with can’t work.",
    "crumbs": [
      "Resources",
      "AI, LLMs, BS, and vibe coding"
    ]
  },
  {
    "objectID": "resource/ai-bs.html#vibe-coding-and-learning",
    "href": "resource/ai-bs.html#vibe-coding-and-learning",
    "title": "AI, LLMs, BS, and vibe coding",
    "section": "Vibe coding and learning",
    "text": "Vibe coding and learning\nRemember that LLMs are (philosophical) bullshit machines. They don’t care if the answer if gives you is wrong or right. They don’t care if the code runs or not. All they care about is if the answer looks plausible.\nThat said, in part due to the massive amount of publicly available code that’s inside their training data, LLMs can work okay with code in limited circumstances. Think of them as fancy documentation—if a programming language or package has good documentation with lots of good examples online, the stuff that LLMs generate about it will generally have good coverage and won’t be completely made up.\nThey work well enough that a whole new approach to programming has emerged: vibe coding. When vibe coding, you essentially tell an LLM what you want it to make and then let it actually build the whole thing. Some code editors actually allow LLMs to create and edit files directly on your computer. Like, you can say\n\nMake a website that has a login page where users can log in and then create and edit blog posts. Create a theme for it that is mostly blue, but with some nice contrasting colors, and use a warm, friendly sans serif font. Add some photos from Flickr too.\n\n… and it will attempt to do that, creating all the necessary files and code. It feels neat and magical to code without coding.\nIf you know what you’re doing, and you mistrust everything the LLM spits out, and hand-check everything it says, vibe coding can save you some time. HOWEVER it is (1) potentially dangerous, and (2) bad for learning.\n\nDanger!\nBecause LLMs are designed to make plausible looking code, they can reference external packages that don’t exist. For instance, you might want to make a lollipop chart, and it’ll say something like\n\nCertainly! First, run remotes::install_github(\"someone/gglollipop\") and then run library(gglollipop) to load it.\n\nBUT GUESS WHAT. There is no package named {gglollipop}. It’s not a thing. Malicious actors also vibe code and look for the names of packages that LLMs think should exist, then they go and create those packages themselves, but include malware in those fake packages. If you’re using an editor that allows LLMs to make changes to your computer, it can run all this code without you knowing what happens and bad things can happen.\nAdditionally, vibe-coded code can run well but be full of security vulnerabilities and issues and inefficiencies and bugs. The code it generates is essentially an average of all other code online—it will have bugs and security issues.\nIt’s also incredibly easy to accidentally expose private information to LLMs, like feeding them passwords, usernames, private data, and so on, especially if you’re mindlessly generating and running code.\nAlways distrust and be suspicious about all code that LLMs generate.\n\n\nBad for learning!\nSome people claim that vibe coding helps them learn how to code. This is most likely not the case—pure vibe coding likely hurts learning. Think of learning to code like learning a language. You could try to learn French by watching hours and hours of French movies, and you’d certainly pick stuff up, but you won’t learn nearly as well as you would by taking a dedicated French class.\nYou need the foundation first. If you take a few years of French classes and then watch hours and hours of French movies, you’ll learn a lot. If you jump right into a pure media-based approach to learning, it’ll be detrimental to learning the language.\nRecent research explores this idea with LLMs:\n\nStudents who substitute some of their learning activities with LLMs (e.g., by generating solutions to exercises) increase the volume of topics they can learn about but decrease their understanding of each topic. Students who complement their learning activities with LLMs (e.g., by asking for explanations) do not increase topic volume but do increase their understanding. We also observe that LLMs widen the gap between students with low and high prior knowledge. (Lehmann, Cornelius, and Sting 2025)\n\nPrior knowledge is essential if you want to do any code-related stuff with LLMs, and even then, LLMs are helpful when asking for explanations (e.g. “This code works, but I don’t know why! Can you explain what’s happening with geom_point() here?”), but far less helpful for learning than just generating plausible-looking answers.\nUsing LLMs requires a good baseline knowledge of R to actually be useful. A good analogy for this is with recipes. ChatGPT is really confident at spitting out plausible-looking recipes. A few months ago, for fun, I asked it to give me a cookie recipe. I got back something with flour, eggs, sugar, and all other standard-looking ingredients, but it also said to include 3/4 cup of baking powder. That’s wild and obviously wrong, but I only knew that because I’ve made cookies before. I’ve seen other AI-generated recipes that call for a cup of horseradish in brownies or 21 pounds of cabbage for a pork dish. In May 2024, Google’s AI recommended adding glue to pizza sauce to stop the cheese from sliding off. Again, to people who have cooked before, these are all obviously wrong (and dangerous in the case of the glue!), but to a complete beginner, these look like plausible instructions.\nI can typically tell when you submit code generated by an LLM; it has a certain vibe/style to it and often gives you extraneous code that you don’t actually need to use. Like this—this comes right from ChatGPT:\n# Load the required libraries\nlibrary(dplyr)\n\n# Read a file named cars.csv into the R session\ndata &lt;- read.csv(\"data/cars.csv\")\n\n# Calculate the average value of cty by class\naverage_cty_by_class &lt;- data %&gt;%\n  group_by(class) %&gt;%\n  summarize(average_cty = mean(cty, na.rm = TRUE), .groups = \"drop\")\n\n# Show the results\nprint(average_cty_by_class)\n\n\n\n\n\n\nCautionThe “tells”\n\n\n\nHere’s how I can tell that that ↑ code comes from an LLM:\n\nComments at every stage\nread.csv() instead of read_csv(),\nThe older %&gt;% pipe instead of the newer |&gt; pipe\nna.rm = TRUE inside mean()\n.groups = \"drop\" inside summarize()\nUsing print() to show the created object\n\n\n\n\n\n\n\n\n\nNoteBUT…\n\n\n\nHowever, nothing in that ChatGPT code ↑ is actually wrong! It is 100% correct and is totally normal. If there are missing values in the data, you should use na.rm in mean(), otherwise things mess up. The %&gt;% pipe is fine (see this for more about that). Adding .groups = \"drop\" inside summarize() is valid too—it prevents extra messages about leftover groupings (see this for more about that). Adding comments about the different steps is good and normal and should happen too!\nThe issue with this code is that the vibes are slightly off. It’s using features that you’ve never run into if you’re writing R code for the first time. It’s using extra settings that you wouldn’t use in this particular circumstance (e.g. there’s technically no need to use .groups = \"drop\" here because you’re only grouping by one column, not two, so it automatically drops the group). Someone who already knows R will see that output and say “Yeah, that’s all fine, but I wouldn’t do it exactly that way”; brand new R users don’t know why the code looks like that and they just hope it works.\nIt’s like when people first discover the thesaurus. You’ve all seen overwrought, over-thesuarized sentences where the word choice is slightly off. The words can all be grammatically correct, but they can feel off in context.\n\n\nIn general, don’t ever just copy/paste from ChatGPT and hope it runs. If you do use these tools, use them to ask for explanations. Make sure you know what every line of code is doing. For example, if it spits out summarize(average_cty = mean(cty, na.rm = TRUE), .groups = \"drop\"), and you don’t know what those na.rm = TRUE or .groups = \"drop\" things mean, look at the help page for mean() and see what na.rm actually does so you can decide if you really need to use it or not, or ask the LLM why it included it.\nI will call out code that looks vibe-coded in your assignments. Please don’t do it.\nI will give you a zero if you include fake data in your assignments. Please don’t do it.",
    "crumbs": [
      "Resources",
      "AI, LLMs, BS, and vibe coding"
    ]
  },
  {
    "objectID": "news/index.html",
    "href": "news/index.html",
    "title": "News",
    "section": "",
    "text": "TipSubscribe!\n\n\n\nYou can use a feed reader like Feedly or use an RSS-to-email service like Blogtrottr to subscribe to these updates and messages. I’ll also e-mail out links to them when there are new updates.\n\n\n\n RSS\n\n\n\n\n\n\n\n\n\n\n\n\n\n    \n        \n            Date\n            Title\n            Categories\n        \n    \n    \n        \n        \n            \n                February 3, 2026 at 4:28 PM\n            \n\n            \n                Week 3 FAQs\n\n                \n                \n                \n                    What’s the difference between the |&gt; and %&gt;% pipes?\n                \n                    Why can we sometimes do ggplot(dataset) and sometimes dataset |&gt; ggplot()?\n                \n                    Why do we sometimes combine code with + and sometimes with |&gt;?\n                \n                    Why doesn’t group_by(species) work but group_by(Species) does?\n                \n                    Why does aes() sometimes appear in ggplot() and sometimes in geom_WHATEVER()?\n                \n                    Installing vs. using packages\n                \n                    Why are my axis labels all crowded and on top of each other? How do I fix that?\n                \n                    Why isn’t the example code using data = whatever and mapping = aes() in ggplot() anymore? Do we not have to use argument names?\n                \n                    What’s the difference between geom_bar() and geom_col()?\n                \n                    What’s the difference between read_csv() vs. read.csv()?\n                \n                    What’s the difference between facet_grid() and facet_wrap()?\n                \n                    Why do I sometimes see facet_wrap(vars(blah)) and sometimes facet_wrap(~ blah)?\n                \n                    What’s the difference between the fill and color aesthetics?\n                \n                    Why did we need to group and summarize before making the Lord of the Rings plots? I didn’t and the plot still worked\n                \n                    How do I know if/when I should put variables as x or fill or as facets, etc?\n                \n                    Why doesn’t R work with wide data? When would wide data be useful?\n                \n                \n                \n            \n\n            \n            \n            \n                \n                    FAQs\n                \n            \n            \n            \n        \n        \n        \n            \n                January 27, 2026 at 4:07 PM\n            \n\n            \n                Week 2 FAQs\n\n                \n                \n                \n                    Why do you use ✓s for grades?\n                \n                    Why does # mean both headings and code comments?\n                \n                    I will never do anything with graphic design—why did we have to learn these principles?\n                \n                    What does all this graphic design stuff have to do with R and ggplot?\n                \n                    How does CRAP relate to other things like the Gestalt Principles?\n                \n                    Does something need to have all four elements to be well designed? Or can it have contrast and not alignment?\n                \n                    Are the CRAP principles hard-and-fast rules? Will following CRAP lead to the same final designs?\n                \n                    Does CRAP only work for single-page things like graphs and posters? Or does it work for reports and books?\n                \n                    I wanted to try other fonts, but I can only see a few in Microsoft Word? Where can I find fonts to use?\n                \n                    Are there resources for knowing which fonts pair well together?\n                \n                    Are there other color palettes we can use in R beyond the defaults?\n                \n                    Is there a way to check that my color palettes are accessible if I’m not using a premade one?\n                \n                    I noticed Illustrator isn’t free for GSU students anymore. Are there other graphics editors?\n                \n                    How do hex codes work? How do they create colors?\n                \n                \n                \n            \n\n            \n            \n            \n                \n                    FAQs\n                \n            \n            \n            \n        \n        \n        \n            \n                January 27, 2026 at 11:35 AM\n            \n\n            \n                FAQs about LLMs, R, and this class\n\n                \n                \n                \n                    Will R ever be fully replaced by AI?\n                \n                    Will you incorporate LLMs and AI prompting into the course in the future?\n                \n                    Why won’t you incorporate LLMs and AI prompting into the course?\n                \n                \n                \n            \n\n            \n            \n            \n                \n                    FAQs\n                \n            \n            \n            \n        \n        \n        \n            \n                January 27, 2026 at 11:27 AM\n            \n\n            \n                LLMs are bad and dangerous for learning how to code in this class\n\n                \n                \n                \n                    LLMs are only useful if you know what you’re doing already\n                \n                    Possible ways to use LLMs to help with learning, kind of\n                \n                    Even if you use them to help you learn, they can teach you the wrong things\n                \n                \n                \n            \n\n            \n            \n            \n                \n                    advice\n                \n            \n            \n            \n        \n        \n        \n            \n                January 26, 2026 at 11:21 PM\n            \n\n            \n                Making cleaner, nicer Quarto documents\n\n                \n                \n                \n                    Render often\n                \n                    Check for broken code chunks\n                \n                    Check that your text looks okay\n                \n                    Don’t install packages in your document\n                \n                    Clean up warnings and messages\n                \n                    Global chunk options\n                \n                    Fancy document settings\n                \n                    Chunk names\n                \n                \n                \n            \n\n            \n            \n            \n                \n                    advice\n                \n            \n            \n            \n        \n        \n        \n            \n                January 26, 2026 at 11:06 PM\n            \n\n            \n                Copy, paste, and tweak\n\n                \n                \n                \n                \n                \n            \n\n            \n            \n            \n                \n                    advice\n                \n            \n            \n            \n        \n        \n        \n            \n                January 26, 2026 at 11:03 PM\n            \n\n            \n                Week 1 tips and FAQs\n\n                \n                \n                \n                    What’s the difference between Source and Visual mode in the editor window?\n                \n                    What’s the difference between R Markdown and Quarto?\n                \n                    Why don’t I have options to render to PDF (or Word or HTML)?\n                \n                    Rendered document format for iCollege\n                \n                    What is this  thing that we can render to?\n                \n                    How does group_by() work? Why did we have to group by island and not body_mass and island?\n                \n                    How do we know which type of graph to use for different types of data?\n                \n                    Do you have any tips for remembering all the different functions we’re learning? There are so many!\n                \n                    My histogram bars are too wide / too narrow / not visible. How do I fix that?\n                \n                \n                \n            \n\n            \n            \n            \n                \n                    FAQs\n                \n            \n            \n            \n        \n        \n        \n            \n                January 12, 2026 at 9:02 AM\n            \n\n            \n                How to ask for help\n\n                \n                \n                \n                    The 30-minute rule\n                \n                    Don’t suffer in silence!\n                \n                    Use Discord in public\n                \n                    Help us help you\n                \n                    High resolution questions\n                \n                    Unanswered questions\n                \n                    Discord question etiquette\n                \n                    Student appointments\n                \n                \n                \n            \n\n            \n            \n            \n                \n                    advice\n                \n            \n            \n            \n        \n        \n        \n            \n                January 12, 2026 at 8:52 AM\n            \n\n            \n                First day of class!\n\n                \n                \n                \n                \n                \n            \n\n            \n            \n            \n                \n                    getting started\n                \n            \n            \n            \n        \n        \n        \n            \n                January 5, 2026 at 12:35 PM\n            \n\n            \n                Building community on Discord\n\n                \n                \n                \n                    Class community\n                \n                    Online community\n                \n                \n                \n            \n\n            \n            \n            \n                \n                    advice\n                \n            \n            \n            \n        \n        \n        \n            \n                January 5, 2026 at 12:13 PM\n            \n\n            \n                Important R stuff\n\n                \n                \n                \n                \n                \n            \n\n            \n            \n            \n                \n                    getting started\n                \n            \n            \n            \n        \n        \n        \n            \n                January 5, 2026 at 11:55 AM\n            \n\n            \n                Announcements and updates\n\n                \n                \n                \n                \n                \n            \n\n            \n            \n            \n                \n                    getting started\n                \n            \n            \n            \n        \n        \n        \n            \n                January 5, 2026 at 11:26 AM\n            \n\n            \n                Welcome to class!\n\n                \n                \n                \n                \n                \n            \n\n            \n            \n            \n                \n                    getting started\n                \n            \n            \n            \n        \n        \n    \n\n\nNo matching items"
  },
  {
    "objectID": "news/2026-01-27_llms-bad-for-learning-code.html",
    "href": "news/2026-01-27_llms-bad-for-learning-code.html",
    "title": "LLMs are bad and dangerous for learning how to code in this class",
    "section": "",
    "text": "← News\n\n\n\n\nIn the first week of class, I had you read an article about how ChatGPT is philosophical “bullshit”, as well as this other post about AI and LLMs in this class.\nIn the past couple semesters, I’ve seen a surprising increase in the amount of ChatGPT-based weekly check-ins and graph interpretations in the exercises. (In the past, I’ve even had students tell me they put PDFs of the slides into ChatGPT to generate interesting and confusing things.) Don’t do this! LLMs cannot find three things that you personally found interesting from the readings. LLMs are not you.\nIt’s a huge waste of time for all of us for me to spend time evaluating and grading output from ChatGPT. I want to read what you think and do, not what a computer invents.\n\n\n\n\n\n\nNoteMy personal stance on AI and LLMs\n\n\n\nMany of you have asked about how I think about and use LLMs in my own work (and in the class materials). Please check this short little page where I explain what I do with text, images, code, research, and learning.\nIn short, I do not use LLMs to create any of the materials for this class, and I do not use them to grade or evaluate any of your work.\n\n\n\n\nLLMs are only useful if you know what you’re doing already\nAs I mention in that post, LLMs are great resources for coding when you already know what you are doing. If you don’t know what you’re doing, they’re actually really, really, really detrimental to learning.\nThe main theme of this class is that you can use graphs to represent the truth of data, but there’s been an alarming increase in completely fake data in many assignments.\nChatGPT is advanced enough that you can upload one the plots that you have to recreate for an exercise and have it generate working R code to recreate it—or something close to it.\nMagical, I guess?\nBut also awful. First, you’re not learning anything, and second, the only way it can do that with the datasets I’m giving you is by creating fake data.\nThis is tricky because making synthetic data is good practice for humans to do. In week 8 you will learn about reprexes and how you should simplify complex plots down into minimal working examples to ask for help. This often involves either making a fake little toy dataset or using one of the built-in ones like mpg or penguins so that other people can run the code on their computer without needing to download and load and clean your specific data. After getting help and figuring out what’s wrong, it’s then your job to adapt the fix to your specific issue.\nChatGPT is doing kind of the same thing. It doesn’t know what your data looks like, so it makes up an example dataset. For instance, if you ask it to make a histogram of inflation-adjusted, per child spending on K-12 education in 2010 (which you’ll do in exercise 8), it might give you something like this:\nlibrary(tidyverse)\n\nset.seed(42)\n\nkids_k12 &lt;- tibble(\n  inf_adj_perchild = rnorm(1000, mean = 1000, sd = 800),\n  region = sample(\n    c(\"West\", \"Midwest\", \"South\", \"Northeast\"),\n    1000,\n    replace = TRUE\n  )\n)\n\nggplot(kids_k12, aes(x = inf_adj_perchild, fill = region)) + \n  geom_histogram(binwidth = 1000, color = \"white\") + \n  facet_wrap(vars(region))\n↑ That’s good practice for a reproducible example. That creates a column called inf_adj_perchild with 1000 numbers in it with an average of $1000 and a standard deviation of $800, and it creates a column called region that randomly chooses one of those four regions. It even makes a histogram. Run it in R and it’ll work. Go ahead! Try it!\nBut none of that is real. Literally nothing.\nRemember the definition of philosophical bullshit: it’s “speech or text produced without concern for its truth.” LLMs don’t care whether the text or code or data they generate are true—they only care about whether it looks plausible.\nFor the past couple semesters, as ChatGPT has become (seemingly) more powerful, I’ve had more and more students regularly paste its code output directly in their assignments, likely because they think it’s real, since RStudio actually does run the code successfully.\nI’ve even had several students submit completely made up stuff for mini projects and final projects. In your final project, your job is to take a dataset, make three different plots with it, and combine the plots into one graphic that tells some sort of story. I’ve (really truly) received projects like this:\n\n\n\nA simulated version of several actual final projects I’ve received in this class\n\n\n\n\nI created that image by going to ChatGPT and typing this:\n\nGenerate an infographic based on the gapminder dataset from R that has three plot types—a map, a scatterplot, and a bar chart. Give it some sort of title and short description in the subtitle, and a caption and use a good color scheme and make the background of the image fancy with a subtle gradient. Add some arrows and text boxes to annotate interesting things. Make sure each subplot has an informative title.\n\nAt a very quick glance, that looks like a plausible image. But holy crap it falls apart fast, both comically and tragically. Comically because, like, look at the y-axis in the scatterplot; or the x-axis ticks in the population growth chart that are sometimes spaced every 20 years, sometimes every 10 years, and has 1980 there twice; or the weird blobs in the map.\nTragically—and most importantly—literally nothing in this image is real and none of the annotations make sense and none of the colors make sense and everything here is completely meaningless and devoid of any information. It’s pure philosophical bullshit—an image “produced without concern for its truth.”\n(Again, I’m not even kidding that I’ve received projects exactly like this, or projects that create and use completely make up random data. This is increasingly common!)\n\n\n\nPossible ways to use LLMs to help with learning, kind of\nIf you do want to use an LLM to help with coding, one relatively okay way is to treat it as forgetful and sorta unreliable interactive documentation. Ask what different lines of code are doing and why things work the way they do.\nIf you ever see arguments and options that you don’t understand, you can ask about them. Don’t just include mystery arguments and functions in your code—make sure you know what each thing is doing.\nHere are some examples of what that process looks like—two where the LLM is helpful, and one where it is subtly misleading and forgetful and unreliable.\n\nEasy helpful one first. I asked this:\n\nI’m using geom_label() and I saw an example online that had an argument with hjust = 0. What does that do?\n\nAnd it gave an explanation and an example and a bonus tip about nudge_x:\n\nPart 1Part 2\n\n\n\n\n\n\n\n\n\nThat’s neat! (But also you could’ve found the same information by running ?geom_label and looking at the help page)\n\nAnother easy helpful one. I asked this:\n\nI have a ggplot plot and I want all the points to be blue, but when I used this with geom_point, all the points were red\n```\ngeom_point(aes(color = “blue”))\n```\n\nAnd it gave an explanation and an example and a helpful rule of thumb and a bonus reminder about color vs. fill:\n\nPart 1Part 2\n\n\n\n\n\n\n\n\n\nThis one is cool because you can’t find that exact information anywhere in the documentation. It’s a more complex situation, but the LLM figured out the different moving parts and used all that information to confidently stumble into the right answer.\n\nNow for one that’s more complex and subtly wrong/misleading.\nSome context first.\nWhen you use group_by() and summarize() on two groups, R will stop grouping by the last one and leave the others after it’s done summarizing. That’s why you’ve seen messages like this all semester:\n'summarise()' has grouped output by 'Gender'. You can \noverride using the '.groups' argument\nIt’s generally nothing to worry about (unless you’re using mutate() later and doing things like calculating proportions, like you did in Exercise 4).\nIf you ask ChatGPT for code to calculate the average city MPG for cars by class in the mpg dataset, it will happily do it, and it’ll generate something like this:\n# Load the required libraries\nlibrary(dplyr)\nlibrary(ggplot2)\n\n# Calculate the average value of cty by class\naverage_cty_by_class &lt;- mpg |&gt;\n  group_by(class) |&gt;\n  summarize(average_cty = mean(cty, na.rm = TRUE), .groups = \"drop\")\n\n# Show the results\nprint(average_cty_by_class)\nAnd that code will run, and it is actually correct.\nBUT it’s doing some weird roundabout things. First, print(average_cty_by_class) is unnecessary. If you just run the name of the object by itself like average_cty_by_class, it’ll print. The explicit print() function is redundant (and a good sign that this was created by ChatGPT).\nThe bigger issue, though is the summarize() function that it generated. It’s doing two weird things:\n\nIt includes .groups = \"drop\" and,\nIt includes na.rm = TRUE\n\nNeither of those are necessary, since\n\nYou only have one group (class) and it automatically gets dropped after summarize(), and\nThere are no missing values in cty and general best practice (for me, at least) is to not enable na.rm = TRUE everywhere all the time.\n\nBUT that code is technically not wrong, and it is a useful reminder of how group_by() |&gt; summarize() works.1\n1 But as a beginner, you don’t know that.Don’t just copy/paste that code and hope it works and submit your assignment. Let’s use the LLM as a way to interact with the documentation.\nI asked ChatGPT this:\n\nI’m using R and tidyverse to calculate the average of a column across a group from another column. I have code that looks like this:\n```\nmpg |&gt;\ngroup_by(class) |&gt;\nsummarize(average_cty = mean(cty, na.rm = TRUE), .groups = “drop”)\n```\nbut I’m not sure what na.rm means here, or what .groups = “drop” means here. Can you explain it?\n\nAnd it generated a big long answer. First, it made some explanations:\n\nPart 1Part 2Part 3\n\n\n\n\n\n\n\n\n\n\n\n\nThat’s all generally correct.\nBut it’s missing some detail. We’re only grouping by one thing, so R will automatically drop the last (and only) group and return an ungrouped data frame. So I asked a follow-up question:\n\nIt shows an example with two groups (NOTICE THE FAKE DATA HERE! It makes up values of 1, 2, 3, and 4 for Japan, China, France, and Germany, and THAT’S TOTALLY FINE because this is just an illustration!), and it shows the leftover continent grouping:\n\nIt then shows what that data looks like if you drop the groups:\n\nThat’s all good. It then shows my original question with one group:\n\nAnd—here’s the wild part—it concludes by saying that .groups = \"drop\" isn’t necessary.\nIn the middle of generating all that explanation, it forgot that it had started out trying to show me that .groups = \"drop\" was important, and it ended its explanation by saying that it’s not actually needed.\nThat’s what I mean when I say that it’s a forgetful and unreliable resource. Lots of that code is helpful as an illustration of what’s going on. Lots of the explanation is good and fine. But it subtly changed its mind halfway through and didn’t realize it (because it can’t realize it! it’s just a chain of statistically likely text!)\n\n\n\nEven if you use them to help you learn, they can teach you the wrong things\nHopefully you can see where this is dangerous for learning. It can often “teach” you wrong, and you can only recognize that if you know stuff already.\nIt’s extra dangerous if you then take that example output, paste it into your exercise, and submit it.\nI’m not even concerned about the plagiarism aspect of that—code is code and there are only a few ways to write {dplyr} code that will do this, and it’s easy to adapt from real human-based examples online, so I’m less worried about stealing other people’s work here.\nI’m concerned that it’s not real data.\nIt made up values of 1, 2, 3, and 4 for some countries to illustrate grouping and summarizing. That’s good and normal.\nNone of that is real. Don’t treat it as real."
  },
  {
    "objectID": "news/2026-01-27_faqs_week-02.html",
    "href": "news/2026-01-27_faqs_week-02.html",
    "title": "Week 2 FAQs",
    "section": "",
    "text": "← News\n\n\n\n\nHi everyone!\nSince exercise 2 involved no code, I don’t have much in the way of code tips or anything, but I do have some responses to questions that a lot of you had!\n\nWhy do you use ✓s for grades?\nMany of you wondered why I didn’t take different points off for wrong or slightly wrong answers in the first exercise (not so much with this exercise 2, since it was just a redesign). You’re used to more standard grading practices where you lose points for minor errors and whatnot.\nI’ve never liked this system of grading and have always tried to avoid it. I believe that curiosity is essential to learning. Paranoia over missing a decimal point in an answer kills curiosity.\nThere’s a scene in season 1 of Ted Lasso where Ted cites a made-up quote by Walt Whitman (see timestamp 2:15 here):\n\nBe curious, not judgmental.\n\nDespite the fact that Walt Whitman never said this, I really like this sentiment, and I think it 100% applies to learning.\nOne of the objectives of this class is “Be curious and confident in consuming and producing data visualizations”—from even before Ted Lasso was a thing. I want you to embrace curiosity when learning this R and design stuff. I don’t want to spend all my time judging every little error, and I don’t want you to live in fear of judgment.\nI have a few strategies for encouraging judgment-free curiosity in this class:\n\nLess informative grading: Researchers who study pedagogy (i.e. teaching methods) have long found evidence that less informative grading improves student motivation. In 2024 two economists published a paper that found national-level evidence for this idea based a change in national policy on grading systems in Sweden (Collins and Lundstedt 2024). Sweden had long used a four-level grading system in its public school system: fail, pass, pass with distinction, and pass with special distinction. In the 2012/2013 academic year, though, they switched to an American-style A–F system. Nationally, student performance dropped significantly—graduation rates dropped, grades dropped, and motivation dropped.\nGranular grading systems (A, A−, B+, B, etc.) actually hurt student motivation because lots of effort is spent trying to move up the scale (i.e. thinking “If I can just get two more questions right on this assignment, I’ll go from a B+ to an A−”).\nLess informative systems actually increase motivation because you’re not worried about exact point totals and can instead have space to play around, make mistakes, and be curious.\nHence the ✓+, ✓, and ✓− system I use.\nI’m not grading your coding ability, I’m not checking each line of code to make sure it produces some exact final figure, and I’m not looking for perfect. Also note that a ✓ does not require 100% completion—you will sometimes get stuck with weird errors that you can’t solve, or the demands of pandemic living might occasionally become overwhelming. I’m looking for good faith effort, that’s all. Try hard, do good work, and you’ll get a ✓.\nI reserve ✓−s for when the effort is bare minimum or noticeably not completed (e.g., the code is copied/pasted from somewhere on the internet and doesn’t run; your weekly check-in has just a couple words for each point; you only turn in one page of the assignment; etc.). I’ll sometimes use intermediate ✓s like ✓−+ when work isn’t quite fully ✓− and not quite fully ✓.\nExciting and muddy things: Your weekly check-ins let you tell me what new and exciting things you’re learning, and they let me know where you’re getting stuck so I can get things unstuck. These don’t need to be written formally with citations or anything—use these to tell me the cool things you’re finding. This is space for judgment-free curiosity!\n#TidyTuesday: The whole point of the #TidyTuesday assignment is to let you do something neat with R. It’s entirely self directed. Make something cool.\n\n\n\nWhy does # mean both headings and code comments?\nThis is a tricky quirk of using Quarto. In Markdown, the # symbol is how you create headings, and you can combine them to create nested headings and subheadings:\n# Task 1: Check-in\n\nSome text\n\n# Task 2: Something\n\n## A subheading\n\nSome more text\nYou make these headings outside of R code chunks.\nIn R, the # is how you add comments to your code. Anything after a # doesn’t count as code and won’t run. You can add comments to whole lines:\n# Filter the mpg data, group it, and summarize it\nmpg |&gt; \n  filter(cty &gt; 10) |&gt;\n  group_by(class) |&gt;\n  summarize(avg_hwy = mean(hwy))\nOr you can add comments to the ends of lines:\nmpg |&gt; \n  filter(cty &gt; 10) |&gt;  # Only rows where cty is 10+\n  group_by(class) |&gt;  # Divide into class groups\n  summarize(avg_hwy = mean(hwy))  # Find the average hwy in each group\nSo,\n\nWhen writing text, # creates headings\nWhen writing code in an R chunk, # creates comments\n\nThey can even get used in the same document:\n# Task 1: Check-in\n\nSome text\n\n# Task 2: Something\n\n## A subheading\n\nSome more text\n\n```{r}\n# Here's some code\nggplot(mpg, ...) + \n  geom_point()\n```\n\nAnd some more text\n\n\nI will never do anything with graphic design—why did we have to learn these principles?\nYes you will :)\nFor one thing, all the graphs you’ll make in the rest of this class are designed objects. For the mini projects and the final project, you’ll need to make well-designed outputs.\nBut even outside of this class, you will use these principles. If you write a report, you’ll likely use headings, and you’ll need to think about their alignment and proximity and contrast. If you do any sort of research, you’ll need to make images for your papers, and you’ll need to make posters for conferences, and you’ll need to make slides for presentations. You will even inevitably have to make some sort of sign—even something like “The meeting scheduled for noon has been moved to room BLAH at 1 PM”—to put on a conference room door, or whatever.\nAs I mentioned in the lecture, once you know about CRAP, you’ll start using it everywhere—every billboard, poster, book, website, etc. you see, you’ll try to identify what the designed tried to align each element with, which fonts they used, why they used the colors they did, why they grouped the text and images the way they did, and so on. Or when you come across something that you intuitively feel is ugly and poorly designed, you’ll be able to say why. It’s like a secret code that’s been unlocked.\nYou will use this stuff—I promise.\n\n\nWhat does all this graphic design stuff have to do with R and ggplot?\nEverything! Starting with week 5, you’ll learn how to adjust the colors and fonts and sizes for all the different elements of your plots with ggplot, and you’ll need to follow good CRAP principles to make sure you do it well.\n\n\nHow does CRAP relate to other things like the Gestalt Principles?\nIn your readings for week 2, you learned about the Gestalt Principles for human perception, which describe how humans see and perceive patterns in things. You also learned about CRAP—contrast, repetition, alignment, and proximity. There are other categorizations of design principles as well that we didn’t cover. What’s up with all these things?\nAll these general principles capture something deeper and more systematic about how humans think about the world, and they mostly overlap (like, proximity is both a Gestalt principle and the “P” in CRAP). Human minds like it when things are grouped correctly and ordered in nice visual hierarchies with pleasant aesthetics. Both CRAP and the Gestalt Principles provide guidance for how to visually group things in good ways.\n\n\nDoes something need to have all four elements to be well designed? Or can it have contrast and not alignment?\nIn general you’ll want to consider all four at the same time. Remember this slide from the lecture?\n\n\n\nSlide from lecture on graphic design\n\n\nThe image on the left actually is okay, contrast-wise. It uses the same font (yay repetition) and different weights within the font (yay contrast). But even with the C and the R in CRAP, it still looks messy and hard to read. Aligning everything fixes it.\n\n\nAre the CRAP principles hard-and-fast rules? Will following CRAP lead to the same final designs?\nA few of you said that you worried that having a checklist like CRAP would lead to homogenous designs (i.e. everyone will make the same things) or said that it’s unclear which of the four principles is more important or should take precedence.\nTwo people can take the same content and—iteratively working through CRAP and making sure everything has contrast, repetition, alignment, and proximity—create completely different designs for it. This checklist doesn’t provide any universally correct answers, and none of the principles are more or less important than the others.\nYou all created a huge variety of posters. Some of you used a single font with varied weights (e.g., light and semibold); some of you used multiple fonts (e.g., sans serif and slab serif); some of you centered everything; some of you left-aligned everything; some of you had half of the elements left-aligned and half right-aligned. Some of you had extra images; some had tons of color; some embraced whitespace and minimalism. It was amazing to see all the variation!\nAnd CRAP was hidden beneath all the variation. Most of you were deliberate about aligning things on the page, choosing contrasting colors or fonts, grouping information in logical ways, and repeating similar visual cues and ideas. There are no correct answers, but correct principles can be followed.\nIf you want to know more about basic design skills like this, I’d highly recommend getting The Non-Designer’s Design and Type Book. It’s a fantastic resource and goes way more in depth into CRAP and basic typography.\n\n\nDoes CRAP only work for single-page things like graphs and posters? Or does it work for reports and books?\nIt works for reports and books and everything else! Take a look at Oxfam’s 2024 annual report, for instance. There are 24 pages, but it all has the same general feel, with repeated fonts and colors, strong typographic contrast between light and bold fonts, and the same types of heading and paragraph styles throughout. Or look at CARE USA’s annual report, or even an Urban Institute report. Or look at any of your textbooks—each chapter start page will be the same, all the headings and subheadings will be the same, all the captions will look the same, etc. CRAP is there!\nOrganizations do this kind of branding on purpose and will have clear visual style guides that they try to use. GSU has specific guidelines for using logos and fonts and colors in ways that follow general graphic design principles. The Urban Institute has the most comprehensive style guide for data visualization specifically that I’ve ever seen. Like, check out their basic graph skeleton (complete with contrast, repetition, alignment, and proximity):\n\n\n\nUrban Institute chart parts\n\n\nI even do this for this class. Notice that the color scheme in the slides matches the color scheme of the website. It actually comes from the plasma color scale from viridis! I repeat and contrast these same 8 colors throughout the course:\nviridisLite::viridis(8, option = \"plasma\", begin = 0.1, end = 0.9)\n\n\n\n\n\n\n\n\n\nI also repeat the same contrasting fonts throughout the site and slides: Fira Sans Condensed (chunky fun sans serif) and Barlow (regular sans serif).\n\n\nI wanted to try other fonts, but I can only see a few in Microsoft Word? Where can I find fonts to use?\nThe best, easiest place to find thousands of different fonts is Google Fonts. You can sort them by font family (i.e. sans serif, serif, etc.), by font weight (i.e. do they have ultra thin and ultra thick versions, etc.), and by popularity (i.e. do lots of other people use and like them). And best of all, they’re free.\nDownload them from Google and then install them on your computer by double clicking on the .otf or .ttf files. If you’re on Windows, you’ll need to install these as an administrator by right clicking and choosing “Install as administrator”. Once you do that, you’ll be able to use them in all the programs on your computer, including Word.\n\n\nAre there resources for knowing which fonts pair well together?\nYes! People make these all the time (and their websites often disappear), but if you search for “google font pairings” you’ll find all sorts of tools and blog posts and guides to good pairings. But remember that these are always 100% subjective, so use them as ideas, not as unchanging rules.\nI’ve included some helpful ones at the Fonts section at the design resources page, like fontpair.\n\n\nAre there other color palettes we can use in R beyond the defaults?\nYep! See this for all sorts of different palettes.\n\n\nIs there a way to check that my color palettes are accessible if I’m not using a premade one?\nYep! Check out the “Accessibility” section of the Design page in the Resources section for some websites that help with this.\n\n\nI noticed Illustrator isn’t free for GSU students anymore. Are there other graphics editors?\nYeah, unfortunately GSU doesn’t provide free access its Creative Cloud software for students (but it does for employees, including student employees). For future exercises and projects, you don’t have to use Illustrator—there are (free!) alternatives. See here for more details.\n\n\nHow do hex codes work? How do they create colors?\nOh man hex codes are so cool. Check out this fascinating video about one guy’s journey to learn how to read them:\n\n\n\n\nPut simply, a hex code shows you the proportion of red, green, and blue in a color. The first two digits of the 6-digit code are for red; the second two are for green; the last two are for blue.\nThe digits are a little weird. Instead of being based on regular numbers, like where 0 means nothing and 9 means the max (with numbers in between, like 5 would be the middle-ish), the digits use base 16 (or hexadecimal), so the full range of numbers goes from 0 to F:\n0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F\nSo, if a hex color is #000000◉ (or 00 00 00, with spaces to better see the R, G, and B values), it would be 0% red, 0% green, and 0% blue, which is black!\nTo boost one of these colors to 100%, you’d use F, which is the highest value in hexadecimal notation.\n\nTo get pure red, you’d make the red digits FF and leave the green and blue digits at 0, like #FF0000◉.\nPure green would be 100% green and 0% of the other colors, or #00FF00◉\nPure blue would be 100% blue and 0% of the other colors, or #0000FF◉\nYou get white by setting all the colors to 100%, or #FFFFFF◉\n\nYou can get tons of different colors by mixing different proportions of red, blue, and green.\n\nWe know from kindergarten that purple is a mix of red and blue, so we can make red and blue both be 100% and leave green at 0: #FF00FF◉\nIf that’s too bright, we can make the red and blue less intense. Instead of using 100% of each, we can use 50% of each with the hexadecimal number 8 (which is in the middle of the numbers 0 to F): #800080◉\nYellow light is a mix of red and green with no blue, so #FFFF00◉. If we lower the green to 50% we’ll get orange, like #FF8000◉\n\nIn practice, as shown in this video, very very few people can intuitively read these codes. Most of the time, you copy and paste them into whatever you’re doing. You can find them by using color pickers, like this one that appears when you search Google for “color picker”. These tools show you all sorts of different representations of the color, like RGB values that range from 0 to 255, CMYK values that range from 0% to 100%, hex codes, and so on:\n\n\n\n\n\n\nReferences\n\nCollins, Matthew, and Jonas Lundstedt. 2024. “The Effects of More Informative Grading on Student Outcomes.” Journal of Economic Behavior & Organization 218 (February): 514–49. https://doi.org/10.1016/j.jebo.2023.12.001."
  },
  {
    "objectID": "news/2026-01-26_copy-paste-tweak.html",
    "href": "news/2026-01-26_copy-paste-tweak.html",
    "title": "Copy, paste, and tweak",
    "section": "",
    "text": "← News\n\n\n\n\nLearning programming is a little different from learning other skills or materials. In other classes you’ve taken, you read articles or textbooks, take notes on them, talk about the readings in class, maybe complete problem sets or exercises about the materials, and then you take a test.\nWith programming, though, the approach is typically different. You read things, you copy code, you paste that code into a file on your computer, and you tinker with the code to see how it works and what changes as you change things.\nThe R community in particular has embraced this approach to learning how to code. Posit, the company that develops RStudio, has a whole team of professional educators dedicated to improving R pedagogy, and they use this approach in all their teaching materials. The Software Carpentry project (a group dedicated to teaching data and programming skills) does too. I’m a fan of it as well. As one of the textbooks I teach from in another class states:\n\nTake the “copy, paste, and tweak” approach: Especially when you learn your first programming language or you need to understand particularly complicated code, it is often much easier to take existing code that you know works and modify it to suit your ends. This is as opposed to trying to type out the code from scratch. We call this the “copy, paste, and tweak” approach. So early on, we suggest not trying to write code from memory, but rather take existing examples we have provided you, then copy, paste, and tweak them to suit your goals. After you start feeling more confident, you can slowly move away from this approach and write code from scratch. Think of the “copy, paste, and tweak” approach as training wheels for a child learning to ride a bike. After getting comfortable, they won’t need them anymore.\n\nTo make your copying/pasting life easier, each session has an extensive example page and an accompanying video showing how to create the different visualizations. Copy/paste/tweak liberally from the example pages!\nEvery chunk of code on the course website has a neat little  clipboard icon that you can use to copy the whole chunk:\n\n# Click on the clipboard icon in the top right corner → to copy this code\nx &lt;- 1:5\nx + 5\n## [1]  6  7  8  9 10\n\nUse that button!\nThis is also why I have you do stuff in Quarto. Everything in your exercises is completely reproducible. The document tells you exactly what you ran to get the data and results and figures that you made. Copy and paste from your past assignments liberally. Copy and paste from the examples liberally.\nDo not be super noble and force yourself to write everything from scratch!\nFinally, if you ever get frustrated when running code or making a plot because it goes wild and vomits geoms all over the page, don’t worry! It happens to everyone! There’s actually a whole hashtag for #accidentalaRt where people post their plotting disasters. Scroll through the feed at Bluesky or LinkedIn and see the marvelous accidental art people make. It’s fantastic."
  },
  {
    "objectID": "news/2026-01-12_how-to-ask-for-help.html",
    "href": "news/2026-01-12_how-to-ask-for-help.html",
    "title": "How to ask for help",
    "section": "",
    "text": "← News\n\n\n\n\nWhen working through the examples or exercises, you will get stuck. It’s inevitable.\nYou absolutely can (and should) reach out when stuck. I’m super responsive on Discord and e-mail. If you ask a question on the #help-me channel in Discord, others can help too. No question is too tricky or embarrassing, I promise. Computers are extraordinarily literal and tiny typos will often mess you up for a long time—I’ve lost countless time because of missing commas and misspelled words (curse you lenght()).\nThis class is different from most of your other past classes. In many classes, you can work through the readings and materials without ever interacting with your classmates or professor—you can just follow the class schedule, get the assignments done, and finish it all.\nWhile you can theoretically do that here (and some students to), I do not recommend it. As I talk about here, building a class community is crucial for success in this course.\nYou can (and should!) ask questions when you get stuck. Post them on Discord for everyone to see. Don’t feel bad about asking me or anyone else for help!\n\nThe 30-minute rule\nI’m a big believer in the 30-minute rule:\n\n\n\n\n\n\nTipThe 30-minute rule\n\n\n\nIf you’re stuck on an issue for more than 30 minutes, stop, take a break, and ask for help somewhere.\n\n\nThere are a few easy guidelines to remember when asking for help:\n\n\nDon’t suffer in silence!\nDo not suffer in silence. When you’re stuck, reach out. Do not wallow in your stuck-ness.\nI’ve had past students tell me that’s like the one thing they’ll remember from my classes—do not suffer in silence. I mean it, and I’ll keep saying it throughout the semester (because often in your past courses and degrees, you’ve been discouraged from reaching out or from building communities or whatever—that is not the case here).\n\n\nUse Discord in public\nLots of you have been emailing me or sending me private messages on Discord for assistance, and that’s great and I’m happy to respond like that. However, one way to help build a stronger community for this class is to ask questions in public in the #help-me channel instead. There are a couple reasons for this:\n\nIt reduces duplication: Throughout the semester, many of you will have almost identical questions, and I’ll often copy/paste screenshots and identical answers between different private conversations asking for help. Having those questions and answers in #help-me instead will let you get answers to common questions faster, and it makes life easier for everyone!\nIt allows you to help: Some of you have R experience already, and even if you don’t, as the summer goes on, you’ll get more comfortable with it and will start being able to answer your classmates’ questions. You might have just fixed a similar issue in a past exercise, or you might be able to spot a typo in their code, or you might otherwise know how to help. Step in and help! Discord is for building a community, not just for getting assistance from me.\n\nYou might feel apprehensive about asking in public. Don’t worry: I can assure you that there are no dumb R questions. If you have a question about something, someone else does too!\n\n\nHelp us help you\nAsk questions with as complete information as possible. Do not just post a photo from your phone and say something like “help?” or “my code isn’t working” and that’s it—provide more background (it’s hard to read your computer’s mind).\nExplain specifically what you’re trying to do and provide code when possible. You can actually format R code on Discord if you include it between triple backticks like this (press shift + enter to add a line break in a Discord message):\n```\nggplot(blah) + geom_point()\n```\nIf you add “r” after the first set of triple backticks it will add R-based syntax highlighting too (you can use other languages like “python” or “sql” or whatever too, but you don’t need to worry about that for this class):\n```r\nggplot(blah) + geom_point()\n```\nYou can also take screenshots to supplement your question (use ⌘+shift+4 on macOS to save a screenshot to your Desktop, or ⌘+⌥+shift+4 to save a screenshot directly to the clipboard; use Windows+shift+S on Windows to save a screenshot directly to the clipboard). Do not send a screenshot as your entire question though (it’s very tempting to just post a picture of an error and hope that someone can fix it)—provide context. Screenshots are helpful, but code/text is better—it’s harder for people to get the code out of a screenshot in Discord and into RStudio on their computer to troubleshoot, since you can’t copy/paste from an image.\nTry making your question a reproducible example (or reprex). You’ll learn more about reprexes in session 8, but it’s an incredibly important skill to have. See here for some resources about it\n\n\nHigh resolution questions\nRelatedly, embrace high resolution writing (vs. low resolution writing), when asking questions, so that your messages contain a lot of detail and context.\nFor instance, here’s an example of low resolution question-asking:\n\n\n\n\n\n\nNote#help-me\n\n\n\nPerson A: I’m stuck on Exercise X\nPerson B: Ok cool—what’s the problem you’re having?\n\n(10 minutes later…)\n\nPerson A: My code isn’t running\nPerson B: What does your code look like?\n\n(10 minutes later…)\n\nPerson A: It’s giving me an error\nPerson A: ggplot() + geom_point()\nPerson B: What is the error? What do you have in your code before that one line?\n\n(20 minutes later…)\n\nPerson A: [Phone photo of part of the screen]\nPerson B: It might be an issue with X or Y, but it’s hard to see…\n\n(10 minutes later…)\n\nPerson A: [Phone photo of a different part of the screen]\n\n(…and so on until the issue is figured out)\n\n\n\nPhew. That process takes forever and is incredibly slow.\nHere’s a high resolution version of the same situation:\n\n\n\n\n\n\nNote#help-me\n\n\n\nPerson A: I’m stuck on Exercise X. For some reason, my code isn’t running and it’s giving me an error that says Error in ggplot(): could not find function \"ggplot\". It happens after I run this code:\nggplot(data = mpg, aes(x = hwy, y = displ)) + \n  geom_point()\nEarlier in the document I have this code: library(tidyverse), but when I run that, I get this error: Error in library(): there is no package called tidyverse’.\nDoes anyone know what might be going on?\nPerson B: Ah cool, that’s an easy fix! That just means that you don’t have the tidyverse library installed on your computer. You can fix it by either using the Packages panel in RStudio to install it, or run this in your console:\ninstall.packages(\"tidyverse\")\n↑ That should fix things\n\n(10 minutes later…)\n\nPerson A: That worked—thanks!\n\n\nThat second example is much longer than just saying “my code isn’t working”, but it gets an answer significantly faster because it contains complete details to help someone else help.\nEmbrace high resolution writing.\n\n\nUnanswered questions\nStuff like this happens all the time on websites where people ask for help (and in Discord):\n\n\n\n\n\n\nNote#help\n\n\n\nPerson A: I’m stuck with this issue and can’t get X to work\n\n(10 minutes later…)\n\nPerson A: Oh wait, never mind, I fixed it!\n\n(Person A disappears…)\n\n\n\nIf you ask a question and then figure out the answer yourself, let us know how you did it! It’s likely that other people have similar questions and issues, and seeing solved-but-unexplained questions is sad:\n\n\n\nxkcd #979: “Wisdom of the Ancients”\n\n\n\n\nDiscord question etiquette\nThe #help-me channel on Discord is a little different from the other channels. It’s more like a forum, where questions have titles and all responses appear in question-specific threads. Try to follow a few general guidelines there:\n\nUse informative titles: Don’t create a post called “Help!” or “Homework question” or “Stuck!” or things like that. Similar to the idea of high-resolution question asking, try to make your title more informative, like “Can’t change color in plot in exercise 3” or something like that.\nKeep conversations on topic: You absolutely should look at other peoples’ questions to see how they’re answered—and you can answer and participate in them too! This is another reason for informative titles—it’ll be hard for other people to browse through past questions if they’re all called “Help!”. If you have a different question or topic, make a new post—don’t ask it in an unrelated question.\nClose the question if it’s been answered: Similar to the idea of unanswered questions, if your question has been answered, it’s generally good practice to say so in the post. Like, add a comment like “Thanks! That fixed it!” or something—or even add a ✅ emoji reaction. That’ll signal to me that I can close the post. The post will still be there in #help-me, but it won’t be up at the top with active questions.\n\n\n\nStudent appointments\nYou can meet with me for student hours by signing up for an appointment at my scheduling page. The link is also accessible at the top of the syllabus page and on the main homepage of the class site.\nThe scheduling page connects to my personal and work calendars and should only show times when I’m available. If you sign up for an online appointment, you’ll receive an e-mail with a special Zoom link that you can use for the meeting.\nMake sure the e-mail you use is correct—if you don’t get a confirmation e-mail with the meeting details, it’s likely that there was a typo in your e-mail address.\nIf you need to change or cancel the appointment, you can do that using a link in the confirmation e-mail.\nOn rare occasions, I will cancel an appointment from my end. This only happens if I forget to put a work or personal appointment on my calendar, so Zoom thinks I’m free when I’m really not.\nIf I cancel an appointment with you, don’t worry. I don’t hate you or anything. I’m not trying to avoid you. I most likely had some accidental or unforeseen scheduling conflict. In my cancellation note, I’ll say something like “Oh no! I’m so sorry! Can you sign up for a different time please?!”. Do that :)"
  },
  {
    "objectID": "news/2026-01-05_welcome.html",
    "href": "news/2026-01-05_welcome.html",
    "title": "Welcome to class!",
    "section": "",
    "text": "← News\n\n\n\n\nHello everyone!\nI’m Andrew Heiss, your professor for PMAP 8551/4551 (Data visualization with R) this spring, and I’m so excited for the class! Out of all the different classes I teach, this is probably my favorite. It’s so satisfying to run a few lines of code and see beautiful data-based graphics.\nI have a few important announcements before class:\n\nBefore class, I’d love to get to know each you a little first, so I’ve created a quick survey to fill out. I’ve sent you a link to it via iCollege. Please take it at your earliest convenience.\nThe entire course is available at a special class website at https://datavizsp26.classes.andrewheiss.com/ (surprise—you’re at it right now). Bookmark this site—it’ll be your best friend for the next couple months. I only use iCollege for collecting your assignments and posting answer keys (since it’s password protected). This website is the official source of dates and all other class information. Because it’s not part of iCollege, you’ll be able to reference it even after you graduate and lose access to GSU resources. You can even share it with others—it’s just a website!\nPlease read the main explanatory pages at your earliest convenience. The instructions and expectations for the class are divided across different pages, all accessible from the menu bar at the top of the site. Please read the main pages for the syllabus, content, lessons, examples, and assignments.\nAs you’ll see on the syllabus and schedule pages, the class is divided into 15 sessions (corresponding to a typical 15-week semester). You’ll follow this general process each week:\n\nGo to the content page, read the readings, and watch the slides/lectures\nGo to the lesson page and do the lessons\nDo the assignment, referring to the example page as you go\n\nIf you look at the syllabus page, you’ll notice that there are no physical textbooks for the class. Everything is free. Neat.\n\nQuick background about me: I’m an assistant professor here at the Andrew Young School, where I’ve been teaching MPA/MPP microeconomics, program evaluation, and data visualization. I moved here from Utah in Fall 2019, where I was a visiting professor of public management at the Marriott School of Business at Brigham Young University (BYU). While at BYU, I taught microeconomics, statistics, and data visualization (basically the same stuff I’m teaching now). I finished my PhD in public policy and political science from Duke in 2017, and before then I finished my MPA in nonprofit management from BYU in 2012. When I’m not teaching, I research international nonprofits and human rights.\nI’m also a graphic designer (mostly print; sometimes web). I minored in design as an undergrad and worked remotely for an academic press at BYU throughout my PhD (yay side hustles), where I typeset a couple dozen academic books and dozens of articles. I still do design work now (though not as much) and am the main typesetter for a small nonprofit press named BCC Press. The fun thing about my design background is that it spills over into my research, statistical work, and teaching—it’s in part why I created this class!\nWhen I’m not teaching or researching, I’m normally chilling at home with my 6 kids (see https://www.heissatopia.com for photos and hilarious stories).\nAgain, I’m really excited to get started next week. This semester should be a blast!"
  },
  {
    "objectID": "news/2026-01-05_building-community.html",
    "href": "news/2026-01-05_building-community.html",
    "title": "Building community on Discord",
    "section": "",
    "text": "← News\n\n\n\n\nThe most common question I get from students before the class is this:\n\nI have no background in programming or in R—will I be able to learn things and succeed in this class?\n\nAbsolutely.\nI’ve designed this class to be accessible by people with any level of R experience. If you’ve never used R—awesome! If you’ve been using R for years—awesome! You’ll all learn new skills.\nTo get the most out of this class and minimize the inevitable frustration that comes with learning a programming language, do not try to do everything on your own. Community is essential.\n\nClass community\nThroughout these pandemic years I’ve been studying the research on online teaching to see how to make my online classes as successful as possible. One almost universal key to success I’ve found is that learning requires social interaction to be successful (Glazier 2016). In fact, one of the greatest predictors of success is whether students build relationships with their classmates and their professor.\nThis is true for both online classes and face-to-face classes! It’s entirely possible to take a face-to-face class and have almost no social interaction. The worst, most useless class I ever took as an undergraduate was a required Intro to US History class that met twice a week for 2 hours in a massive auditorium with 900 (!!!) other students. It was awful and I learned nothing.\nTo enable this, we’re using Discord as the main place for asking questions and having a class community. The link to join the Discord server is on iCollege (since I don’t want it public for the rest of the internet).\nJoin the server and interact with me and your classmates! Don’t lurk in silence in the shadows. Do reach out and talk to your classmates (and me!).\nTo that end, one of the best ways to get to know each other is to help each other. Ask questions on Discord. If you see someone’s question there and you know how to help, answer!\nYou can also work on exercises and projects in groups if you want. Use Zoom to share screens with each other during calls so you can see what you’re doing. In the real programming world, a common technique for working on code is pair programming, where two people work on the same script. If we were meeting in class, we’d do this face-to-face, working during class in groups of 2–3 with me walking around and helping. Feel free to replicate that experience and work with others. It’s not cheating! (As long as you don’t turn in identical work)\n\n\nOnline community\nOne of the great parts about the online R community is that the team at Posit has actually hired people to help promote community norms. Like that’s their whole job—community evangelist. The R world is probably one of the nicest corners of the programming internet because of these norms—there’s an emphasis on helping beginners, being kind and respectful, and cheerfully helping as much as possible. Watch the #rstats hashtag on Bluesky or Mastodon, look at the “r” tag on StackOverflow, and look at discussions at the Posit Community and you’ll see kindness in action.\nThis was not always the case. 10ish years ago, before the RStudio/Posit people made a concerted effort to create community, the online R world was pretty mean and toxic, with forums run by a few really grumpy statisticians who’d belittle you if you asked a poorly worded question. It was awful. That kind of attitude often still persists in other languages (hooo boy try asking a beginner question about Python at StackOverflow 😬), but the R world has tried really hard to be welcoming.\nI embrace that attitude when teaching R, and I encourage you all to do the same. Reach out for help early and often. Do not suffer in silence. Do not spend hours and hours stuck on an issue before reaching out for help.\n\nHelp make this semester fantastic by talking, reaching out, and otherwise socially interacting!\n\n\n\n\n\nReferences\n\nGlazier, Rebecca A. 2016. “Building Rapport to Improve Retention and Success in Online Classes.” Journal of Political Science Education 12 (4): 437–56. https://doi.org/10.1080/15512169.2016.1155994."
  },
  {
    "objectID": "lesson/index.html",
    "href": "lesson/index.html",
    "title": "Interactive lessons",
    "section": "",
    "text": "Each class session has an interactive lesson that you will work through after doing the readings and watching the lecture. These lessons are a central part of the class—they will teach you how to use {ggplot2} and other packages in the tidyverse to create beautiful and truthful visualizations with R.\nInteractive code sections look like this. Make changes in the text box and click on the green “Run Code” button to see the results. Sometimes there will be a tab with a hint or solution.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nModify the code here to show the relationship between health and wealth for 2002 instead of 2007.\n\n Interactive editor Hint\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nHint: You’ll want to change something in the code that creates gapminder_filtered. The text in the subtitle won’t change automatically, so you’ll want to edit that too.\n\n\n\n\n\nIf you’re curious how this works, each interactive code section uses the amazing {quarto-webr} package to run R directly in your browser.",
    "crumbs": [
      "Lessons",
      "Overview",
      "Interactive lessons"
    ]
  },
  {
    "objectID": "lesson/14-lesson.html",
    "href": "lesson/14-lesson.html",
    "title": "Text",
    "section": "",
    "text": "There’s no lesson for this session. In your exercise this week you’ll visualize text data using {tidytext}, and the best way to figure that out is to just play with data.\nSo head over to the example to see how it’s done, or the exercise to get started!",
    "crumbs": [
      "Lessons",
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "lesson/12-lesson.html",
    "href": "lesson/12-lesson.html",
    "title": "Space",
    "section": "",
    "text": "There is a short lesson this week! You’ll learn the basics of joining two different datasets together, both vertically and horizontally.\nThere are a few imaginary datasets I’ve created for you to play with:",
    "crumbs": [
      "Lessons",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "lesson/12-lesson.html#combining-datasets-vertically",
    "href": "lesson/12-lesson.html#combining-datasets-vertically",
    "title": "Space",
    "section": "Combining datasets vertically",
    "text": "Combining datasets vertically\nRecall from the Lord of the Rings data in exercise 3 that you had to combine three different CSV files into dataset. You used bind_rows() to stack each of these on top of each other.\n\nlotr &lt;- bind_rows(fellowship, tt, rotk)\n\nThat worked well because each of the individual data frames had the same columns in them, and R was able to line up the matching columns. If columns were missing, R would have placed NA in the appropriate locations.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nCombine national_data and puerto_rico_data into a single dataset named us_data using bind_rows. Pay attention to what happens with the inflation column. Also notice that the columns in the Puerto Rico data are in a different order.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nus_data &lt;- bind_rows(national_data, puerto_rico_data)\nus_data",
    "crumbs": [
      "Lessons",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "lesson/12-lesson.html#combining-datasets-horizontally",
    "href": "lesson/12-lesson.html#combining-datasets-horizontally",
    "title": "Space",
    "section": "Combining datasets horizontally",
    "text": "Combining datasets horizontally\nBinding rows vertically is the easiest way to combine two datasets, but most often you won’t be doing that. You’ll only do this if you’re combining datasets that come from the same source, like if a state offers separate CSV files of the same data for each county.\nIn most cases, though, you’ll need to combine completely different datasets, bringing one or more columns from one into another. With vertical combining, R needs column names with the same names in order to figure out where the data lines up. With horizontal combining, R needs values inside one or more columns to be the same in order to figure out where the data lines up.\nThere is technically a function named bind_cols(), but you’ll rarely want to use it. It doesn’t attempt to match any rows—it just glues two datasets together:\n\nbind_cols(national_data, \n          # Repeat PR 3 times so that it has the same number of rows as national_data\n          bind_rows(puerto_rico_data, puerto_rico_data, puerto_rico_data))\n## New names:\n## • `state` -&gt; `state...1`\n## • `year` -&gt; `year...2`\n## • `unemployment` -&gt; `unemployment...3`\n## • `population` -&gt; `population...5`\n## • `state` -&gt; `state...6`\n## • `unemployment` -&gt; `unemployment...7`\n## • `population` -&gt; `population...8`\n## • `year` -&gt; `year...9`\n## # A tibble: 9 × 9\n##   state...1 year...2 unemployment...3 inflation population...5 state...6\n##   &lt;chr&gt;        &lt;dbl&gt;            &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt; &lt;chr&gt;    \n## 1 GA            2018              5         2              100 PR       \n## 2 GA            2019              5.3       1.8            200 PR       \n## 3 GA            2020              5.2       2.5            300 PR       \n## 4 NC            2018              6.1       1.8            350 PR       \n## 5 NC            2019              5.9       1.6            375 PR       \n## 6 NC            2020              5.3       1.8            400 PR       \n## 7 CO            2018              4.7       2.7            200 PR       \n## 8 CO            2019              4.4       2.6            300 PR       \n## 9 CO            2020              5.1       2.5            400 PR       \n## # ℹ 3 more variables: unemployment...7 &lt;dbl&gt;, population...8 &lt;dbl&gt;,\n## #   year...9 &lt;dbl&gt;\n\nThat’s… not great.\nInstead, we need to use a function that is more careful about bringing in data. Fortunately there are a few good options:\n\ninner_join()\nleft_join()\nright_join()\n\nThe most helpful way of understanding these different functions is to go here and stare at the animations for a little while to see which pieces of which dataset go where. (There are lots of others, like full_join(), semi_join(), and anti_join(), and they have helpful animations, but I rarely use those.)\nFor each of these functions, you need at least one common ID column in both datasets in order for R to know where things line up.\nLet’s practice how these all work and see what the differences between them are.",
    "crumbs": [
      "Lessons",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "lesson/12-lesson.html#inner_join",
    "href": "lesson/12-lesson.html#inner_join",
    "title": "Space",
    "section": "inner_join()",
    "text": "inner_join()\nFirst, go to this page in a new tab and stare at the mesmerizing animation.\nLet’s look at two datasets, x and y:\n\nx\n## # A tibble: 3 × 2\n##      id some_variable\n##   &lt;dbl&gt; &lt;chr&gt;        \n## 1     1 x1           \n## 2     2 x2           \n## 3     3 x3\n\n\ny\n## # A tibble: 3 × 2\n##      id some_other_variable\n##   &lt;dbl&gt; &lt;chr&gt;              \n## 1     1 y1                 \n## 2     2 y2                 \n## 3     4 y4\n\nBoth datasets have an id column that is the same across each (though the values aren’t necessarily the same). Because there’s a shared column, we can join these two based on that column.\nIf we use inner_join(), the resulting dataset will only keep the rows from the first where there are matching values from the second:\n\ninner_join(x, y, by = join_by(id))\n## # A tibble: 2 × 3\n##      id some_variable some_other_variable\n##   &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;              \n## 1     1 x1            y1                 \n## 2     2 x2            y2\n\nNotice how it got rid of the row with id = 3 from the first and the row with id = 4 from the second.\nYou can also write this with pipes, which is really common when working with {dplyr}:\n\nx |&gt; \n  inner_join(y, by = \"id\")\n## # A tibble: 2 × 3\n##      id some_variable some_other_variable\n##   &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;              \n## 1     1 x1            y1                 \n## 2     2 x2            y2\n\nLet’s say we have two datasets: national_data_2019 and national_libraries_2019:\n\nnational_data_2019\n## # A tibble: 3 × 4\n##   state unemployment inflation population\n##   &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;\n## 1 GA             5.3       1.8        200\n## 2 NC             5.9       1.6        375\n## 3 CO             4.4       2.6        300\n\n\nnational_libraries_2019\n## # A tibble: 2 × 3\n##   state libraries schools\n##   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n## 1 CO          240     440\n## 2 NC          210     590\n\nWe want to bring the libraries and schools columns into the general national data. Notice how both datasets have a state column.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nCreate a new dataset named combined_data that uses inner_join() to merge national_data_2019 and national_libraries_2019.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\ncombined_data &lt;- inner_join(national_data_2019, national_libraries_2019, by = join_by(state))\ncombined_data\n\n# Piping with |&gt; also works\ncombined_data &lt;- national_data_2019 |&gt;\n  inner_join(national_libraries_2019, by = join_by(state))\ncombined_data",
    "crumbs": [
      "Lessons",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "lesson/12-lesson.html#left_join",
    "href": "lesson/12-lesson.html#left_join",
    "title": "Space",
    "section": "left_join()",
    "text": "left_join()\nAgain, go to this page in a new tab and stare at the animation.\nLeft joining is less destructive than inner joining. With left joining, any rows in the first dataset that don’t have matches in the second don’t get thrown away and instead are filled with NA:\n\nleft_join(x, y, by = join_by(id))\n## # A tibble: 3 × 3\n##      id some_variable some_other_variable\n##   &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;              \n## 1     1 x1            y1                 \n## 2     2 x2            y2                 \n## 3     3 x3            &lt;NA&gt;\n\nNotice how the row with id = 4 from the second dataset is gone, but the row with id = 3 from the first is still there, with NA for some_other_variable.\nI find this much more useful when combining data. I often have a larger dataset with all the main variables I care about, perhaps with every combination of country and year over 20 years and 180 countries. If I find another dataset I want to join, and it has missing data for some of the years or countries, I don’t want the combined data to throw away all the rows from the main big dataset that don’t match! I still want those!\n(Look at this for a real life example: I create a dataset I name panel_skeleton that is just all the combinations of countries and years (Afghanistan 1990, Afghanistan 1991, etc.), and then I bring in all sorts of other datasets that match the same countries and years. When there aren’t matches, nothing in the skeleton gets thrown away—R just adds missing values instead.)\n\n\n\n\n\n\nImportantYour turn\n\n\n\nCreate a new dataset named combined_data that uses left_join() to merge national_data_2019 and national_libraries_2019 by state.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nnational_data_with_region &lt;- left_join(national_data_2019, state_regions, by = join_by(state))\nnational_data_with_region\n\n# Piping with |&gt; also works\nnational_data_with_region &lt;- national_data_2019 |&gt; \n  left_join(state_regions, by = join_by(state))\nnational_data_with_region\n\n\n\n\n\nLeft joining is also often surprisingly helpful for recoding lots of variables. Right now in our fake national data, we have a column for state, but it would be nice if we could have a column for region so we could facet or fill or color by region in a plot. Hunting around on the internet, you find this dataset that has a column for state and a column for abbreviations:\n\nstate_regions\n## # A tibble: 51 × 2\n##    region    state\n##    &lt;chr&gt;     &lt;chr&gt;\n##  1 West      AK   \n##  2 South     AL   \n##  3 South     AR   \n##  4 West      AZ   \n##  5 West      CA   \n##  6 West      CO   \n##  7 Northeast CT   \n##  8 South     DC   \n##  9 South     DE   \n## 10 South     FL   \n## # ℹ 41 more rows\n\n\n\n\n\n\n\nImportantYour turn\n\n\n\nCreate a new dataset named national_data_with_region that uses left_join() to combine national_data_2019 with state_regions.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nnational_data_with_region &lt;- left_join(national_data_2019, state_regions, by = join_by(state))\nnational_data_with_region\n\n# Piping with |&gt; also works\nnational_data_with_region &lt;- national_data_2019 |&gt; \n  left_join(state_regions, by = join_by(state))\nnational_data_with_region\n\n\n\n\n\nBecause left_join() only keeps rows from the second dataset that match the first, we don’t actually bring in all 50 rows from the state_regions data—only the rows that match the first dataset (national_data_2019) come over. We could have done with if some massive recoding (mutate(region = ifelse(state == \"GA\" | state == \"NC\", \"South\", ifelse(state == \"CO\"), \"West\", NA))), but that’s awful. Left joining is far easier here.\nYou can also join by multiple columns. So far we’ve been working with just national_data_2019, but if you look at national_data, you’ll see there are rows for different years across these states:\n\nnational_data\n## # A tibble: 9 × 5\n##   state  year unemployment inflation population\n##   &lt;chr&gt; &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;\n## 1 GA     2018          5         2          100\n## 2 GA     2019          5.3       1.8        200\n## 3 GA     2020          5.2       2.5        300\n## 4 NC     2018          6.1       1.8        350\n## 5 NC     2019          5.9       1.6        375\n## 6 NC     2020          5.3       1.8        400\n## 7 CO     2018          4.7       2.7        200\n## 8 CO     2019          4.4       2.6        300\n## 9 CO     2020          5.1       2.5        400\n\nPreviously, we’ve been specifying the ID column with by = join_by(state), but now we have two ID columns: state and year. We can specify both with by = join_by(state, year).\n\n\n\n\n\n\nImportantYour turn\n\n\n\nCreate a new dataset named national_data_combined that uses left_join() to combine national_data with national_libraries by state and year.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nnational_data_combined &lt;- left_join(national_data, national_libraries, \n                                    by = join_by(state, year))\nnational_data_combined\n\n# Piping with |&gt; also works\nnational_data_combined &lt;- national_data |&gt; \n  left_join(national_libraries, by = join_by(state, year))\nnational_data_combined\n\n\n\n\n\nIf one dataset has things like state and year, but another only has state, left_join() will still work, but it will only join where the state is the same. For instance, here’s what happens when we join the region data to the yearly national data:\n\nnational_data_with_region &lt;- national_data |&gt; \n  left_join(state_regions, by = join_by(state))\nnational_data_with_region\n## # A tibble: 9 × 6\n##   state  year unemployment inflation population region\n##   &lt;chr&gt; &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt; \n## 1 GA     2018          5         2          100 South \n## 2 GA     2019          5.3       1.8        200 South \n## 3 GA     2020          5.2       2.5        300 South \n## 4 NC     2018          6.1       1.8        350 South \n## 5 NC     2019          5.9       1.6        375 South \n## 6 NC     2020          5.3       1.8        400 South \n## 7 CO     2018          4.7       2.7        200 West  \n## 8 CO     2019          4.4       2.6        300 West  \n## 9 CO     2020          5.1       2.5        400 West\n\nThe “South” region gets added to every row where the state is “GA” and “NC”, even though those rows only appear once in state_regions. left_join() will still match all the values even if states are repeated. Magic!",
    "crumbs": [
      "Lessons",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "lesson/12-lesson.html#common-column-names",
    "href": "lesson/12-lesson.html#common-column-names",
    "title": "Space",
    "section": "Common column names",
    "text": "Common column names\nSo far, the column names in both datasets have been the same, which has greatly simplified life. In fact, if the columns have the same name, we can technically leave out the by argument and R will guess:\n\nnational_data |&gt; \n  left_join(national_libraries)\n## Joining with `by = join_by(state, year)`\n## # A tibble: 9 × 7\n##   state  year unemployment inflation population libraries schools\n##   &lt;chr&gt; &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n## 1 GA     2018          5         2          100        NA      NA\n## 2 GA     2019          5.3       1.8        200        NA      NA\n## 3 GA     2020          5.2       2.5        300        NA      NA\n## 4 NC     2018          6.1       1.8        350       200     610\n## 5 NC     2019          5.9       1.6        375       210     590\n## 6 NC     2020          5.3       1.8        400       220     530\n## 7 CO     2018          4.7       2.7        200       230     470\n## 8 CO     2019          4.4       2.6        300       240     440\n## 9 CO     2020          5.1       2.5        400       270     510\n\nIt’s good practice to be specific about the columns you want and actually use by, but I will often run left_join() without it and then copy the message that it generates (“by = join_by(state, year)”) and paste it into my code.\nBut what if the column names don’t match? Let’s rename the state column in our state/region table for fun:\n\nstate_regions_different &lt;- state_regions |&gt; \n  rename(ST = state)\nstate_regions_different\n## # A tibble: 51 × 2\n##    region    ST   \n##    &lt;chr&gt;     &lt;chr&gt;\n##  1 West      AK   \n##  2 South     AL   \n##  3 South     AR   \n##  4 West      AZ   \n##  5 West      CA   \n##  6 West      CO   \n##  7 Northeast CT   \n##  8 South     DC   \n##  9 South     DE   \n## 10 South     FL   \n## # ℹ 41 more rows\n\nNow watch what happens when we try to join the datasets:\n\nnational_data |&gt; \n  left_join(state_regions_different)\n## Error in `left_join()`:\n## ! `by` must be supplied when `x` and `y` have no common variables.\n## ℹ Use `cross_join()` to perform a cross-join.\n\nThere are no common variables, so we get an error. The state and ST columns really are common variables, but R doesn’t know that.\nWe have two options:\n\nRename one of the columns so it matches (either change state to ST or change ST to state)\nTell left_join() which columns are the same\n\nWe can do option two by modifying the by argument like so:\n\nnational_data |&gt; \n  left_join(state_regions_different, by = join_by(state == ST))\n## # A tibble: 9 × 6\n##   state  year unemployment inflation population region\n##   &lt;chr&gt; &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt; \n## 1 GA     2018          5         2          100 South \n## 2 GA     2019          5.3       1.8        200 South \n## 3 GA     2020          5.2       2.5        300 South \n## 4 NC     2018          6.1       1.8        350 South \n## 5 NC     2019          5.9       1.6        375 South \n## 6 NC     2020          5.3       1.8        400 South \n## 7 CO     2018          4.7       2.7        200 West  \n## 8 CO     2019          4.4       2.6        300 West  \n## 9 CO     2020          5.1       2.5        400 West",
    "crumbs": [
      "Lessons",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "lesson/12-lesson.html#right_join",
    "href": "lesson/12-lesson.html#right_join",
    "title": "Space",
    "section": "right_join()",
    "text": "right_join()\nOnce again, go to this page in a new tab and watch the animation.\nright_join() works exactly like left_join(), but in reverse. The second dataset is the base data. Any rows in the second dataset that don’t match in the first will be kept, and any rows from the first that don’t match will get thrown away.\nWatch what happens if we right join national_data and state_regions:\n\nnational_data |&gt; \n  right_join(state_regions, by = join_by(state))\n## # A tibble: 57 × 6\n##    state  year unemployment inflation population region\n##    &lt;chr&gt; &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt; \n##  1 GA     2018          5         2          100 South \n##  2 GA     2019          5.3       1.8        200 South \n##  3 GA     2020          5.2       2.5        300 South \n##  4 NC     2018          6.1       1.8        350 South \n##  5 NC     2019          5.9       1.6        375 South \n##  6 NC     2020          5.3       1.8        400 South \n##  7 CO     2018          4.7       2.7        200 West  \n##  8 CO     2019          4.4       2.6        300 West  \n##  9 CO     2020          5.1       2.5        400 West  \n## 10 AK       NA         NA        NA           NA West  \n## # ℹ 47 more rows\n\nYikes. R kept all the rows in state_regions, brought in the columns from national_data and filled most of the new columns with NA, and then repeated Colorado (and NC and GA) three times for each of the years from national_data. That’s a mess.\nIf we reverse the order, we’ll get the correct merged data:\n\nstate_regions |&gt; \n  right_join(national_data, by = join_by(state))\n## # A tibble: 9 × 6\n##   region state  year unemployment inflation population\n##   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;\n## 1 West   CO     2018          4.7       2.7        200\n## 2 West   CO     2019          4.4       2.6        300\n## 3 West   CO     2020          5.1       2.5        400\n## 4 South  GA     2018          5         2          100\n## 5 South  GA     2019          5.3       1.8        200\n## 6 South  GA     2020          5.2       2.5        300\n## 7 South  NC     2018          6.1       1.8        350\n## 8 South  NC     2019          5.9       1.6        375\n## 9 South  NC     2020          5.3       1.8        400\n\nI rarely use right_join() because I find it more intuitive to just use left_join() since in my head, I’m taking a dataset and stacking columns onto the end of it. If you want to right join instead, neat—just remember to order things correctly.",
    "crumbs": [
      "Lessons",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "lesson/10-lesson.html",
    "href": "lesson/10-lesson.html",
    "title": "Enhancing graphics",
    "section": "",
    "text": "There’s no lesson for this session. In your exercise this week you’ll export a plot from ggplot, open it in a vector editing program, and make it extra pretty and well-designed. The best way to learn this is by actually doing it.\nSo head over to the example to see how it’s done, or the exercise to get started!",
    "crumbs": [
      "Lessons",
      "Special applications",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "lesson/08-lesson.html",
    "href": "lesson/08-lesson.html",
    "title": "Comparisons",
    "section": "",
    "text": "Like the previous session, there isn’t really a lesson this week. You’re not learning how to use any new functions—you’re learning how to apply the geoms you already know in cool and exciting ways. But don’t worry! You’ll have a lesson for session 9!\nFor the lesson, read through the code examples in the example to see how to make small multiples, sparklines, geofacets, and slopegraphs.",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "lesson/06-lesson.html",
    "href": "lesson/06-lesson.html",
    "title": "Uncertainty",
    "section": "",
    "text": "Throughout this lesson, you’ll use the built-in mpg dataset to make histograms, density plots, box plots, violin plots, and other graphics that show uncertainty.\nSorry if mpg is getting repetitive! For short interactive things like this, it’s easier to use built-in and easy-to-load datasets like mpg and gapminder instead of loading CSV files, hence our constant reuse of the dataset. This is fairly normal too—the majority of examples in R help pages (and in peoples’ blog posts) use things like mpg or gapminder, or even iris, which measures the lengths and widths of a bunch of iris flowers in the 1930s (fun fact! I don’t like using iris because the data was originally used in an article in the Annals of Eugenics (😬) in 1936, and the data was collected to advance eugenics, and there’s no good reason to use data like that in 2025.)\nSo we work with cars instead of racist flower data.\nThe mpg dataset is available in R as soon as you load {ggplot2} (or {tidyverse}). You don’t have to run read_csv() or anything—it’s just there in the background already.\nAs a reminder, here are the first few rows of the mpg dataset:\nhead(mpg)\n## # A tibble: 6 × 11\n##   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class \n##   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; \n## 1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compa…\n## 2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compa…\n## 3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compa…\n## 4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compa…\n## 5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compa…\n## 6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compa…",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "lesson/06-lesson.html#histograms",
    "href": "lesson/06-lesson.html#histograms",
    "title": "Uncertainty",
    "section": "Histograms",
    "text": "Histograms\nWhen working with histograms, you always need to think about the bin width. Histograms calculate the counts of rows within specific ranges of data, and the shape of the histogram will change depending on how wide or narrow these ranges (or bins, or buckets) are.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nChange this code to add a specific bin width for city miles per gallon cty (hint: binwidth). Play around with different widths until you find one that represents the data well.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg, mapping = aes(x = cty)) +\n  # 2 is just one binwidth that works. It's not the only right answer.\n  geom_histogram(binwidth = 2)\n\n\n\n\n\nBy default, histograms are filled with a dark grey color and the bars have no borders. Additionally, R places the center of the bars at specific numbers: if you have a bin width of 5, for instance, a bar will show the range from 7.5 to 12.5 instead of 5-10 or 10-15.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nDo the following:\n\nAdd a specific bin width\nAdd a white border (hint: color)\nFill with #E16462\nMake it so the bars start at whole numbers like 10 or 20 (hint: boundary)\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg, mapping = aes(x = cty)) +\n  geom_histogram(binwidth = 2, color = \"white\", fill = \"#E16462\", boundary = 10)\n\n\n\n\n\nYou can add extra aesthetics to encode additional information about the distribution of variables across categories.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nMake a histogram of cty and fill by drv (drive: front, rear, and 4-wheel). Make sure you specify a good bin width.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg, mapping = aes(x = cty, fill = drv)) +\n  geom_histogram(binwidth = 2)\n\n\n\n\n\nThat’s too much information! Instead of only filling, you can separate the data into multiple plots.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nMake a histogram of cty fill and facet by drv. Make sure you specify a good bin width. Make sure you specify a good bin width.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg, mapping = aes(x = cty, fill = drv)) +\n  geom_histogram() +\n  facet_wrap(vars(drv))",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "lesson/06-lesson.html#density-plots",
    "href": "lesson/06-lesson.html#density-plots",
    "title": "Uncertainty",
    "section": "Density plots",
    "text": "Density plots\nWhen working with density plots in this class you don’t need to worry too much about the calculus behind the scenes that creates the curves. But you can change those settings if you really want.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nDo the following:\n\nFill this density plot with #E16462\nAdd a border (hint: color) using #9C3836, with linewidth = 1\nChange the bandwidth (hint: bw) to 0.5, then 1, then 10\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg, mapping = aes(x = cty)) +\n  geom_density(fill = \"#E16462\", color = \"#9C3836\", size = 1, bw = 20)\n\n\n\n\n\nLike histograms, you can map other variables onto the plot. It’s often a good idea to make the curves semi-transparent so you can see the different distributions.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nDo the following:\n\nFill this plot using the drv variable\nMake the density plots 50% transparent\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg, mapping = aes(x = cty, fill = drv)) +\n  geom_density(alpha = 0.5)\n\n\n\n\n\nEven with transparency, it’s often difficult to interpret density plots like this. As an alternative, you can use the {ggridges} package to make ridge plots. Look at the documentation and examples for {ggridges} for lots of details about different plots you can make.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nConvert this plot into a ridge plot.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nlibrary(ggridges)\n\nggplot(data = mpg, mapping = aes(x = cty, fill = drv, y = drv)) +\n  geom_density_ridges()",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "lesson/06-lesson.html#boxes-violins-and-dots",
    "href": "lesson/06-lesson.html#boxes-violins-and-dots",
    "title": "Uncertainty",
    "section": "Boxes, violins, and dots",
    "text": "Boxes, violins, and dots\nFinally, you can use things like boxplots and violin plots to show the distribution of variables, either by themselves or across categories.\nBox plots show the distribution of a variable by highlighting specific details, like the 25th, 50th (median) and 75th percentile, as well as the assumed minimum, assumed maximum, and outliers:\n\n\n\nAnatomy of a boxplot\n\n\nWhen making boxplots with ggplot, you need to map the variable of interest to the x aesthetic (or y if you want a vertical boxplot), and you can optionally map a second categorical variable to the y aesthetic (or x if you want a vertical boxplot).\nYou can adjust the fill and color of the plot, and you can change what counts as outliers with the coef argument. By default outliers are any point that is beyond the 75th percentile + 1.5 × the interquartile range (or below the 25th percentile + 1.5 × IQR), but that’s adjustable.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nDo the following:\n\nFill the boxplot with #E6AD3C\nColor the boxplot with #5ABD51\nChange the definition of outliers to be 5 times the IQR\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg, mapping = aes(y = cty)) +\n  geom_boxplot(fill = \"#E6AD3C\", color = \"#5ABD51\", coef = 5)\n\n\n\n\n\nYou can also use violin plots instead of boxplot, which show the mirrored density distribution. When doing this, it’s often helpful to add other geoms like jittered points to show more of the data\n\n\n\n\n\n\nImportantYour turn\n\n\n\nDo the following\n\nChange this boxplot to use violins instead\nAdd jittered points with a jittering width of 0.1 and sized at 0.5\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg, mapping = aes(y = cty, x = drv, fill = drv)) +\n  geom_violin() +\n  geom_point(position = position_jitter(width = 0.1), size = 0.5)",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "lesson/04-lesson.html",
    "href": "lesson/04-lesson.html",
    "title": "Amounts and proportions",
    "section": "",
    "text": "When you visualize proportions with ggplot, you’ll typically go through a two-step process:",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "lesson/04-lesson.html#manipulating-data-with-dplyr",
    "href": "lesson/04-lesson.html#manipulating-data-with-dplyr",
    "title": "Amounts and proportions",
    "section": "Manipulating data with {dplyr}",
    "text": "Manipulating data with {dplyr}\nYou had some experience with {dplyr} functions in the RStudio primers, but we’ll briefly review them here.\nThere are 6 important verbs that you’ll typically use when working with data:\n\nExtract rows/cases with filter()\nExtract columns/variables with select()\nArrange/sort rows with arrange()\nMake new columns/variables with mutate()\nMake group summaries with group_by |&gt; summarize()\n\nEvery {dplyr} verb follows the same pattern. The first argument is always a data frame, and the function always returns a data frame:\n\nVERB(DATA_TO_TRANSFORM, STUFF_IT_DOES)\n\n\nFiltering with filter()\nThe filter() function takes two arguments: a data frame to transform, and a set of tests. It will return each row for which the test is TRUE.\nThis code, for instance, will look at the gapminder dataset and return all rows where country is equal to “Denmark”:\n\nfilter(gapminder, country == \"Denmark\")\n## # A tibble: 12 × 6\n##    country continent  year lifeExp     pop gdpPercap\n##    &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;\n##  1 Denmark Europe     1952    70.8 4334000     9692.\n##  2 Denmark Europe     1957    71.8 4487831    11100.\n##  3 Denmark Europe     1962    72.4 4646899    13583.\n##  4 Denmark Europe     1967    73.0 4838800    15937.\n##  5 Denmark Europe     1972    73.5 4991596    18866.\n##  6 Denmark Europe     1977    74.7 5088419    20423.\n##  7 Denmark Europe     1982    74.6 5117810    21688.\n##  8 Denmark Europe     1987    74.8 5127024    25116.\n##  9 Denmark Europe     1992    75.3 5171393    26407.\n## 10 Denmark Europe     1997    76.1 5283663    29804.\n## 11 Denmark Europe     2002    77.2 5374693    32167.\n## 12 Denmark Europe     2007    78.3 5468120    35278.\n\nNotice that there are two equal signs (==). This is because it’s a logical test, similar to greater than (&gt;) or less than (&lt;). When you use a single equal sign, you set an argument (like data = gapminder); when you use two, you are doing a test. There are lots of different ways to do logical tests:\n\n\n\nTest\nMeaning\n\n\n\n\nx &lt; y\nLess than\n\n\nx &gt; y\nGreater than\n\n\nx == y\nEqual to\n\n\nx &lt;= y\nLess than or equal to\n\n\nx &gt;= y\nGreater than or equal to\n\n\nx != y\nNot equal to\n\n\nx %in% y\nIn (group membership)\n\n\nis.na(x)\nIs missing\n\n\n!is.na(x)\nIs not missing\n\n\n\n\n\n\n\n\n\nImportantYour turn\n\n\n\nUse filter() and logical tests to show:\n\nThe data for Canada\nAll data for countries in Oceania\nRows where life expectancy is greater than 82\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n# The data for Canada\nfilter(gapminder, country == \"Canada\")\n\n# All data for countries in Oceania\nfilter(gapminder, continent == \"Oceania\")\n\n# Rows where life expectancy is greater than 82\nfilter(gapminder, lifeExp &gt; 82)\n\n\n\n\n\nYou can also use multiple conditions, and these will extract rows that meet every test. By default, if you separate the tests with a comma, R will consider this an “and” test and find rows that are both Denmark and greater than 2000.\n\nfilter(gapminder, country == \"Denmark\", year &gt; 2000)\n## # A tibble: 2 × 6\n##   country continent  year lifeExp     pop gdpPercap\n##   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;\n## 1 Denmark Europe     2002    77.2 5374693    32167.\n## 2 Denmark Europe     2007    78.3 5468120    35278.\n\nYou can also use “or” with “|” and “not” with “!”:\n\n\n\nOperator\nMeaning\n\n\n\n\na & b\nand\n\n\na | b\nor\n\n\n!a\nnot\n\n\n\n\n\n\n\n\n\nImportantYour turn\n\n\n\nUse filter() and logical tests to show:\n\nCanada before 1970\nCountries where life expectancy in 2007 is below 50\nCountries where life expectancy in 2007 is below 50 and are not in Africa\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n# Canada before 1970\nfilter(gapminder, country == \"Canada\", year &lt; 1970)\n\n# Countries where life expectancy in 2007 is below 50\nfilter(gapminder, year == 2007, lifeExp &lt; 50)\n\n# Countries where life expectancy in 2007 is below 50 and are not in Africa\nfilter(gapminder, year == 2007, lifeExp &lt; 50, continent != \"Africa\")\n\n\n\n\n\nBeware of some common mistakes! You can’t collapse multiple tests into one. Instead, use two separate tests:\n\n# This won't work!\nfilter(gapminder, 1960 &lt; year &lt; 1980)\n\n# This will work\nfilter(gapminder, 1960 &lt; year, year &lt; 1980)\n\nAlso, you can avoid stringing together lots of tests by using the %in% operator, which checks to see if a value is in a list of values.\n\n# This works, but is tedious\nfilter(gapminder, \n       country == \"Mexico\" | country == \"Canada\" | country == \"United States\")\n\n# This is more concise and easier to add other countries later\nfilter(gapminder, \n       country %in% c(\"Mexico\", \"Canada\", \"United States\"))\n\n\n\nAdding new columns with mutate()\nYou create new columns with the mutate() function. You can create a single column like this:\n\nmutate(gapminder, gdp = gdpPercap * pop)\n## # A tibble: 1,704 × 7\n##    country     continent  year lifeExp      pop gdpPercap          gdp\n##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;        &lt;dbl&gt;\n##  1 Afghanistan Asia       1952    28.8  8425333      779.  6567086330.\n##  2 Afghanistan Asia       1957    30.3  9240934      821.  7585448670.\n##  3 Afghanistan Asia       1962    32.0 10267083      853.  8758855797.\n##  4 Afghanistan Asia       1967    34.0 11537966      836.  9648014150.\n##  5 Afghanistan Asia       1972    36.1 13079460      740.  9678553274.\n##  6 Afghanistan Asia       1977    38.4 14880372      786. 11697659231.\n##  7 Afghanistan Asia       1982    39.9 12881816      978. 12598563401.\n##  8 Afghanistan Asia       1987    40.8 13867957      852. 11820990309.\n##  9 Afghanistan Asia       1992    41.7 16317921      649. 10595901589.\n## 10 Afghanistan Asia       1997    41.8 22227415      635. 14121995875.\n## # ℹ 1,694 more rows\n\nAnd you can create multiple columns by including a comma-separated list of new columns to create:\n\nmutate(gapminder, gdp = gdpPercap * pop,\n                  pop_mill = round(pop / 1000000))\n## # A tibble: 1,704 × 8\n##    country     continent  year lifeExp      pop gdpPercap          gdp pop_mill\n##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;\n##  1 Afghanistan Asia       1952    28.8  8425333      779.  6567086330.        8\n##  2 Afghanistan Asia       1957    30.3  9240934      821.  7585448670.        9\n##  3 Afghanistan Asia       1962    32.0 10267083      853.  8758855797.       10\n##  4 Afghanistan Asia       1967    34.0 11537966      836.  9648014150.       12\n##  5 Afghanistan Asia       1972    36.1 13079460      740.  9678553274.       13\n##  6 Afghanistan Asia       1977    38.4 14880372      786. 11697659231.       15\n##  7 Afghanistan Asia       1982    39.9 12881816      978. 12598563401.       13\n##  8 Afghanistan Asia       1987    40.8 13867957      852. 11820990309.       14\n##  9 Afghanistan Asia       1992    41.7 16317921      649. 10595901589.       16\n## 10 Afghanistan Asia       1997    41.8 22227415      635. 14121995875.       22\n## # ℹ 1,694 more rows\n\nYou can also do conditional tests within mutate() using the ifelse() function. This works like the =IFELSE function in Excel. Feed the function three arguments: (1) a test, (2) the value if the test is true, and (3) the value if the test is false:\n\nifelse(TEST, VALUE_IF_TRUE, VALUE_IF_FALSE)\n\nWe can create a new column that is a binary indicator for whether the country’s row is after 1960:\n\nmutate(gapminder, after_1960 = ifelse(year &gt; 1960, TRUE, FALSE))\n## # A tibble: 1,704 × 7\n##    country     continent  year lifeExp      pop gdpPercap after_1960\n##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt; &lt;lgl&gt;     \n##  1 Afghanistan Asia       1952    28.8  8425333      779. FALSE     \n##  2 Afghanistan Asia       1957    30.3  9240934      821. FALSE     \n##  3 Afghanistan Asia       1962    32.0 10267083      853. TRUE      \n##  4 Afghanistan Asia       1967    34.0 11537966      836. TRUE      \n##  5 Afghanistan Asia       1972    36.1 13079460      740. TRUE      \n##  6 Afghanistan Asia       1977    38.4 14880372      786. TRUE      \n##  7 Afghanistan Asia       1982    39.9 12881816      978. TRUE      \n##  8 Afghanistan Asia       1987    40.8 13867957      852. TRUE      \n##  9 Afghanistan Asia       1992    41.7 16317921      649. TRUE      \n## 10 Afghanistan Asia       1997    41.8 22227415      635. TRUE      \n## # ℹ 1,694 more rows\n\nWe can also use text labels instead of TRUE and FALSE:\n\nmutate(gapminder, \n       after_1960 = ifelse(year &gt; 1960, \"After 1960\", \"Before 1960\"))\n## # A tibble: 1,704 × 7\n##    country     continent  year lifeExp      pop gdpPercap after_1960 \n##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;      \n##  1 Afghanistan Asia       1952    28.8  8425333      779. Before 1960\n##  2 Afghanistan Asia       1957    30.3  9240934      821. Before 1960\n##  3 Afghanistan Asia       1962    32.0 10267083      853. After 1960 \n##  4 Afghanistan Asia       1967    34.0 11537966      836. After 1960 \n##  5 Afghanistan Asia       1972    36.1 13079460      740. After 1960 \n##  6 Afghanistan Asia       1977    38.4 14880372      786. After 1960 \n##  7 Afghanistan Asia       1982    39.9 12881816      978. After 1960 \n##  8 Afghanistan Asia       1987    40.8 13867957      852. After 1960 \n##  9 Afghanistan Asia       1992    41.7 16317921      649. After 1960 \n## 10 Afghanistan Asia       1997    41.8 22227415      635. After 1960 \n## # ℹ 1,694 more rows\n\n\n\n\n\n\n\nImportantYour turn\n\n\n\nUse mutate() to:\n\nAdd an africa column that is TRUE if the country is on the African continent\nAdd a column for logged GDP per capita\nAdd an africa_asia column that says “Africa or Asia” if the country is in Africa or Asia, and “Not Africa or Asia” if it’s not\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n# Add an africa column that is TRUE if the country is on the African continent\nmutate(gapminder, africa = continent == \"Africa\")\n\n# Add a column for logged GDP per capita\nmutate(gapminder, log_gdpPercap = log(gdpPercap))\n\n# Add an africa_asia column that says “Africa or Asia” if the country is in\n# Africa or Asia, and “Not Africa or Asia” if it’s not\nmutate(\n  gapminder, \n  africa_asia = \n    ifelse(continent %in% c(\"Africa\", \"Asia\"), \"Africa or Asia\", \"Not Africa or Asia\")\n)\n\n\n\n\n\n\n\nCombining multiple verbs with pipes (|&gt;)\nWhat if you want to filter to include only rows from 2002 and make a new column with the logged GDP per capita? Doing this requires both filter() and mutate(), so we need to find a way to use both at once.\nOne solution is to use intermediate variables for each step:\n\ngapminder_2002_filtered &lt;- filter(gapminder, year == 2002)\n\ngapminder_2002_logged &lt;- mutate(gapminder_2002_filtered, log_gdpPercap = log(gdpPercap))\n\nThat works fine, but your environment panel will start getting full of lots of intermediate data frames.\nAnother solution is to nest the functions inside each other. Remember that all {dplyr} functions return data frames, so you can feed the results of one into another:\n\nfilter(mutate(gapminder, log_gdpPercap = log(gdpPercap)), \n       year == 2002)\n\nThat works too, but it gets really complicated once you have even more functions, and it’s hard to keep track of which function’s arguments go where. I’d avoid doing this entirely.\n\n\n\n\n\n\nImportantPipe styles\n\n\n\nSee this short “Pipes” guide to learn about R’s two different styles of pipe: |&gt; and %&gt;%\n\n\nOne really nice solution is to use a pipe, or |&gt;. The pipe takes an object on the left and passes it as the first argument of the function on the right.\n\n# gapminder will automatically get placed in the _____ spot\ngapminder |&gt; filter(_____, country == \"Canada\")\n\nThese two lines of code do the same thing:\n\nfilter(gapminder, country == \"Canada\")\n\ngapminder |&gt; filter(country == \"Canada\")\n\nUsing pipes, you can start with a data frame, pass it to one verb, then pass the output of that verb to the next verb, and so on. When reading any code with a |&gt;, it’s easiest to read the |&gt; as “and then”. This would read:\n\nTake the gapminder dataset and then filter it so that it only has rows from 2002 and then add a new column with the logged GDP per capita\n\n\ngapminder |&gt; \n  filter(year == 2002) |&gt; \n  mutate(log_gdpPercap = log(gdpPercap))\n\nHere’s another way to think about pipes more conceptually. This isn’t valid R code, obviously, but imagine you’re going to take yourself, and then wake up, get out of bed, get dressed, and leave the house. Writing that whole process as nested functions would look like this:\n\nleave_house(get_dressed(get_out_of_bed(wake_up(me, time = \"8:00\"), side = \"correct\"), pants = TRUE, shirt = TRUE), car = TRUE, bike = FALSE)\n\nInstead of nesting everything, we can use pipes to chain these together. This would read\n\nTake myself, and then wake up at 8:00, and then get out of bed on the correct side, and then get dressed with pants and a shirt, and then leave the house in a car\n\n\nme |&gt; \n  wake_up(time = \"8:00\") |&gt; \n  get_out_of_bed(side = \"correct\") |&gt; \n  get_dressed(pants = TRUE, shirt = TRUE) |&gt; \n  leave_house(car = TRUE, bike = FALSE)\n\n\n\nSummarizing data by groups with group_by() |&gt; summarize()\nThe summarize() verb takes an entire frame and calculates summary information about it. For instance, this will find the average life expectancy for the whole gapminder data:\n\ngapminder |&gt; summarize(mean_life = mean(lifeExp))\n## # A tibble: 1 × 1\n##   mean_life\n##       &lt;dbl&gt;\n## 1      59.5\n\nYou can also make multiple summary variables, just like mutate(), and it will return a column for each:\n\ngapminder |&gt; summarize(mean_life = mean(lifeExp),\n                        min_life = min(lifeExp))\n## # A tibble: 1 × 2\n##   mean_life min_life\n##       &lt;dbl&gt;    &lt;dbl&gt;\n## 1      59.5     23.6\n\n\n\n\n\n\n\nImportantYour turn\n\n\n\nUse summarize() to calculate:\n\nThe first (minimum) year in the gapminder dataset\nThe last (maximum) year in the dataset\nThe number of rows in the dataset (use the {dplyr} cheatsheet)\nThe number of distinct countries in the dataset (use the {dplyr} cheatsheet)\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\ngapminder |&gt; \n  summarize(first = min(year),\n            last = max(year),\n            num_rows = n(),\n            num_unique = n_distinct(country))\n\n\n\n\n\n\n\n\n\n\n\nImportantYour turn\n\n\n\nUse filter() and summarize() to calculate the median life expectancy on the African continent in 2007:\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\ngapminder |&gt;\n  filter(continent == \"Africa\", year == 2007) |&gt;\n  summarize(n_countries = n_distinct(country), \n            med_le = median(lifeExp))\n\n\n\n\n\nNotice that summarize() on its own summarizes the whole dataset, so you only get a single row back. These values are the averages and minimums for the entire data frame. If you group your data into separate subgroups, you can use summarize() to calculate summary statistics for each group. Do this with group_by().\nThe group_by() function puts rows into groups based on values in a column. If you run this:\n\ngapminder |&gt; group_by(continent)\n## # A tibble: 1,704 × 6\n## # Groups:   continent [5]\n##    country     continent  year lifeExp      pop gdpPercap\n##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n##  1 Afghanistan Asia       1952    28.8  8425333      779.\n##  2 Afghanistan Asia       1957    30.3  9240934      821.\n##  3 Afghanistan Asia       1962    32.0 10267083      853.\n##  4 Afghanistan Asia       1967    34.0 11537966      836.\n##  5 Afghanistan Asia       1972    36.1 13079460      740.\n##  6 Afghanistan Asia       1977    38.4 14880372      786.\n##  7 Afghanistan Asia       1982    39.9 12881816      978.\n##  8 Afghanistan Asia       1987    40.8 13867957      852.\n##  9 Afghanistan Asia       1992    41.7 16317921      649.\n## 10 Afghanistan Asia       1997    41.8 22227415      635.\n## # ℹ 1,694 more rows\n\n…you won’t see anything different! R has put the dataset into separate invisible groups behind the scenes, but you haven’t done anything with those groups, so nothing has really happened. If you do things with those groups with summarize(), though, group_by() becomes much more useful.\nFor instance, this will take the gapminder data frame, group it by continent, and then summarize it by calculating the number of distinct countries in each group. It will return one row for each group, so there should be a row for each continent:\n\ngapminder |&gt; \n  group_by(continent) |&gt; \n  summarize(n_countries = n_distinct(country)) \n## # A tibble: 5 × 2\n##   continent n_countries\n##   &lt;fct&gt;           &lt;int&gt;\n## 1 Africa             52\n## 2 Americas           25\n## 3 Asia               33\n## 4 Europe             30\n## 5 Oceania             2\n\nYou can calculate multiple summary statistics, as before:\n\ngapminder |&gt; \n  group_by(continent) |&gt; \n  summarize(n_countries = n_distinct(country),\n            avg_life_exp = mean(lifeExp)) \n## # A tibble: 5 × 3\n##   continent n_countries avg_life_exp\n##   &lt;fct&gt;           &lt;int&gt;        &lt;dbl&gt;\n## 1 Africa             52         48.9\n## 2 Americas           25         64.7\n## 3 Asia               33         60.1\n## 4 Europe             30         71.9\n## 5 Oceania             2         74.3\n\n\n\n\n\n\n\nImportantYour turn\n\n\n\nFind the minimum, maximum, and median life expectancy for each continent:\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\ngapminder |&gt; \n  group_by(continent) |&gt; \n  summarize(min_le = min(lifeExp),\n            max_le = max(lifeExp),\n            med_le = median(lifeExp))\n\n\n\n\n\n\n\n\n\n\n\nImportantYour turn\n\n\n\nFind the minimum, maximum, and median life expectancy for each continent in 2007 only:\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\ngapminder |&gt; \n  filter(year == 2007) |&gt; \n  group_by(continent) |&gt; \n  summarize(min_le = min(lifeExp),\n            max_le = max(lifeExp),\n            med_le = median(lifeExp))\n\n\n\n\n\nFinally, you can group by multiple columns and R will create subgroups for every combination of the groups and return the number of rows of combinations. For instance, we can calculate the average life expectancy by both year and continent and we’ll get 60 rows, since there are 5 continents and 12 years (5 × 12 = 60):\n\ngapminder |&gt; \n  group_by(continent, year) |&gt; \n  summarize(avg_life_exp = mean(lifeExp)) \n## # A tibble: 60 × 3\n## # Groups:   continent [5]\n##    continent  year avg_life_exp\n##    &lt;fct&gt;     &lt;int&gt;        &lt;dbl&gt;\n##  1 Africa     1952         39.1\n##  2 Africa     1957         41.3\n##  3 Africa     1962         43.3\n##  4 Africa     1967         45.3\n##  5 Africa     1972         47.5\n##  6 Africa     1977         49.6\n##  7 Africa     1982         51.6\n##  8 Africa     1987         53.3\n##  9 Africa     1992         53.6\n## 10 Africa     1997         53.6\n## # ℹ 50 more rows\n\n\n\nSelecting with select()\nThe last two verbs are far simpler than filter(), mutate(), and group_by() |&gt; summarize().\nYou can choose specific columns with the select() verb. This will only keep two columns: lifeExp and year:\n\ngapminder |&gt; select(lifeExp, year)\n## # A tibble: 1,704 × 2\n##    lifeExp  year\n##      &lt;dbl&gt; &lt;int&gt;\n##  1    28.8  1952\n##  2    30.3  1957\n##  3    32.0  1962\n##  4    34.0  1967\n##  5    36.1  1972\n##  6    38.4  1977\n##  7    39.9  1982\n##  8    40.8  1987\n##  9    41.7  1992\n## 10    41.8  1997\n## # ℹ 1,694 more rows\n\nYou can remove specific columns by prefacing the column names with -, like -lifeExp:\n\ngapminder |&gt; select(-lifeExp)\n## # A tibble: 1,704 × 5\n##    country     continent  year      pop gdpPercap\n##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;    &lt;int&gt;     &lt;dbl&gt;\n##  1 Afghanistan Asia       1952  8425333      779.\n##  2 Afghanistan Asia       1957  9240934      821.\n##  3 Afghanistan Asia       1962 10267083      853.\n##  4 Afghanistan Asia       1967 11537966      836.\n##  5 Afghanistan Asia       1972 13079460      740.\n##  6 Afghanistan Asia       1977 14880372      786.\n##  7 Afghanistan Asia       1982 12881816      978.\n##  8 Afghanistan Asia       1987 13867957      852.\n##  9 Afghanistan Asia       1992 16317921      649.\n## 10 Afghanistan Asia       1997 22227415      635.\n## # ℹ 1,694 more rows\n\nYou can also rename columns using select(). Follow this pattern: select(old_name = new_name).\n\ngapminder |&gt; select(year, country, life_expectancy = lifeExp)\n## # A tibble: 1,704 × 3\n##     year country     life_expectancy\n##    &lt;int&gt; &lt;fct&gt;                 &lt;dbl&gt;\n##  1  1952 Afghanistan            28.8\n##  2  1957 Afghanistan            30.3\n##  3  1962 Afghanistan            32.0\n##  4  1967 Afghanistan            34.0\n##  5  1972 Afghanistan            36.1\n##  6  1977 Afghanistan            38.4\n##  7  1982 Afghanistan            39.9\n##  8  1987 Afghanistan            40.8\n##  9  1992 Afghanistan            41.7\n## 10  1997 Afghanistan            41.8\n## # ℹ 1,694 more rows\n\nAlternatively, there’s a special rename() verb that will, um, rename, while keeping all the other columns:\n\ngapminder |&gt; rename(life_expectancy = lifeExp)\n## # A tibble: 1,704 × 6\n##    country     continent  year life_expectancy      pop gdpPercap\n##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;           &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n##  1 Afghanistan Asia       1952            28.8  8425333      779.\n##  2 Afghanistan Asia       1957            30.3  9240934      821.\n##  3 Afghanistan Asia       1962            32.0 10267083      853.\n##  4 Afghanistan Asia       1967            34.0 11537966      836.\n##  5 Afghanistan Asia       1972            36.1 13079460      740.\n##  6 Afghanistan Asia       1977            38.4 14880372      786.\n##  7 Afghanistan Asia       1982            39.9 12881816      978.\n##  8 Afghanistan Asia       1987            40.8 13867957      852.\n##  9 Afghanistan Asia       1992            41.7 16317921      649.\n## 10 Afghanistan Asia       1997            41.8 22227415      635.\n## # ℹ 1,694 more rows\n\n\n\nArranging data with arrange()\nThe arrange() verb sorts data. By default it sorts ascendingly, putting the lowest values first:\n\ngapminder |&gt; arrange(lifeExp)\n## # A tibble: 1,704 × 6\n##    country      continent  year lifeExp     pop gdpPercap\n##    &lt;fct&gt;        &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;\n##  1 Rwanda       Africa     1992    23.6 7290203      737.\n##  2 Afghanistan  Asia       1952    28.8 8425333      779.\n##  3 Gambia       Africa     1952    30    284320      485.\n##  4 Angola       Africa     1952    30.0 4232095     3521.\n##  5 Sierra Leone Africa     1952    30.3 2143249      880.\n##  6 Afghanistan  Asia       1957    30.3 9240934      821.\n##  7 Cambodia     Asia       1977    31.2 6978607      525.\n##  8 Mozambique   Africa     1952    31.3 6446316      469.\n##  9 Sierra Leone Africa     1957    31.6 2295678     1004.\n## 10 Burkina Faso Africa     1952    32.0 4469979      543.\n## # ℹ 1,694 more rows\n\nYou can reverse that by wrapping the column name with desc():\n\ngapminder |&gt; arrange(desc(lifeExp))\n## # A tibble: 1,704 × 6\n##    country          continent  year lifeExp       pop gdpPercap\n##    &lt;fct&gt;            &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;\n##  1 Japan            Asia       2007    82.6 127467972    31656.\n##  2 Hong Kong, China Asia       2007    82.2   6980412    39725.\n##  3 Japan            Asia       2002    82   127065841    28605.\n##  4 Iceland          Europe     2007    81.8    301931    36181.\n##  5 Switzerland      Europe     2007    81.7   7554661    37506.\n##  6 Hong Kong, China Asia       2002    81.5   6762476    30209.\n##  7 Australia        Oceania    2007    81.2  20434176    34435.\n##  8 Spain            Europe     2007    80.9  40448191    28821.\n##  9 Sweden           Europe     2007    80.9   9031088    33860.\n## 10 Israel           Asia       2007    80.7   6426679    25523.\n## # ℹ 1,694 more rows\n\nYou can sort by multiple columns by specifying them in a comma separated list. For example, we can sort by continent and then sort by life expectancy within the continents:\n\ngapminder |&gt; \n  arrange(continent, desc(lifeExp))\n## # A tibble: 1,704 × 6\n##    country   continent  year lifeExp      pop gdpPercap\n##    &lt;fct&gt;     &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n##  1 Reunion   Africa     2007    76.4   798094     7670.\n##  2 Reunion   Africa     2002    75.7   743981     6316.\n##  3 Reunion   Africa     1997    74.8   684810     6072.\n##  4 Libya     Africa     2007    74.0  6036914    12057.\n##  5 Tunisia   Africa     2007    73.9 10276158     7093.\n##  6 Reunion   Africa     1992    73.6   622191     6101.\n##  7 Tunisia   Africa     2002    73.0  9770575     5723.\n##  8 Mauritius Africa     2007    72.8  1250882    10957.\n##  9 Libya     Africa     2002    72.7  5368585     9535.\n## 10 Algeria   Africa     2007    72.3 33333216     6223.\n## # ℹ 1,694 more rows\n\n\n\nThat’s it!\nThose are the main verbs you’ll deal with in this class. There are dozens of other really useful ones—check out the {dplyr} and {tidyr} cheat sheets.",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "lesson/04-lesson.html#changing-colors-shapes-and-sizes-with-scale_",
    "href": "lesson/04-lesson.html#changing-colors-shapes-and-sizes-with-scale_",
    "title": "Amounts and proportions",
    "section": "Changing colors, shapes, and sizes, with scale_*()",
    "text": "Changing colors, shapes, and sizes, with scale_*()\nRecall from session 3 that the grammar of graphics uses a set of layers to define elements of plots:\n\n\n\n\n\n\n\n\n\nIn tomorrow’s session, you’ll learn all about the Theme layer. Here we’ll briefly cover the Scales layer, which we use for changing aspects of the different aesthetics, like using logged axes or changing colors or shapes.\nAll the functions that deal with scales conveniently follow the same naming pattern:\n\nscale_AESTHETIC_DETAILS()\n\nHere are some common scale functions:\n\nscale_x_continuous()\nscale_y_reverse()\nscale_color_viridis_c()\nscale_shape_manual(values = c(19, 13, 15))\nscale_fill_manual(values = c(\"red\", \"orange\", \"blue\"))\n\nYou can see a list of all of the possible scale functions here, and you should reference that documentation (and the excellent examples) often when working with these functions.\nAs long as you have mapped a variable to an aesthetic with aes(), you can use the scale_*() functions to deal with it. For instance, in this ggplot, we have mapped variables to x, y, and fill, which means we can use those corresponding scale functions to manipulate how those aesthetics are shown. Here we reverse the y-axis (ew, don’t really do this), and we use a discrete viridis color palette:\n\ncontinent_counts &lt;- gapminder |&gt; \n  group_by(continent) |&gt; \n  summarize(countries = n_distinct(country))\n\nggplot(continent_counts, aes(x = continent, y = countries, fill = continent)) +\n  geom_col() +\n  scale_y_reverse() +  # lol this is bad; don't do it in real life\n  scale_fill_viridis_d()\n\n\n\n\n\n\n\n\nYou can also use different arguments in the scale functions—again, check the documentation for examples. For instance, if we want to use the plasma palette from the viridis package, we can set that as an option:\n\nggplot(continent_counts, aes(x = continent, y = countries, fill = continent)) +\n  geom_col() +\n  scale_fill_viridis_d(option = \"plasma\")\n\n\n\n\n\n\n\n\nThat yellow might be too bright and hard to see, so we can tell ggplot to not use the full range of the palette, ending at 90% of the range instead:\n\nggplot(continent_counts, aes(x = continent, y = countries, fill = continent)) +\n  geom_col() +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.9)\n\n\n\n\n\n\n\n\nInstead of letting R calculate the colors from a general palette, you can also specify your own colors with scale_fill_manual() and feeding it a list of values—generally as hex codes or a name from a list of built-in R colors:\n\nggplot(continent_counts, aes(x = continent, y = countries, fill = continent)) +\n  geom_col() +\n  scale_fill_manual(values = c(\"chartreuse4\", \"cornsilk4\", \"black\", \"#fc03b6\", \"#5c47d6\"))\n\n\n\n\n\n\n\n\nScale functions also work for other aesthetics like shape or color or size. For instance, consider this plot, which has all three:\n\ngapminder_2007 &lt;- gapminder |&gt; \n  filter(year == 2007)\n\nggplot(gapminder_2007,\n       aes(x = gdpPercap, y = lifeExp, \n           color = continent, shape = continent, size = pop)) +\n  geom_point() +\n  scale_x_log10()\n\n\n\n\n\n\n\n\nWe can change the colors of the points with scale_color_*():\n\nggplot(gapminder_2007,\n       aes(x = gdpPercap, y = lifeExp, \n           color = continent, shape = continent, size = pop)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_color_manual(values = c(\"chartreuse4\", \"cornsilk4\", \"black\", \"#fc03b6\", \"#5c47d6\"))\n\n\n\n\n\n\n\n\nWe can change the shapes with scale_shape_*(). If you run ?pch in your console or search for pch in the help, you can see all the possible shapes.\n\nggplot(gapminder_2007,\n       aes(x = gdpPercap, y = lifeExp, \n           color = continent, shape = continent, size = pop)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_shape_manual(values = c(12, 9, 17, 19, 15))\n\n\n\n\n\n\n\n\nYou can change the size with scale_size_*(). Here we make it so the smallest possible size is 1 and the largest is 15:\n\nggplot(gapminder_2007,\n       aes(x = gdpPercap, y = lifeExp, \n           color = continent, shape = continent, size = pop)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_size_continuous(range = c(1, 15))\n\n\n\n\n\n\n\n\nWe can even do all three at once:\n\nggplot(gapminder_2007,\n       aes(x = gdpPercap, y = lifeExp, \n           color = continent, shape = continent, size = pop)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_color_manual(values = c(\"chartreuse4\", \"cornsilk4\", \"black\", \"#fc03b6\", \"#5c47d6\")) +\n  scale_shape_manual(values = c(12, 9, 17, 19, 15)) +\n  scale_size_continuous(range = c(1, 15))\n\n\n\n\n\n\n\n\nPhew. That’s ugly.\nOne last thing we can do with scales is format how they show up on the plot. Notice how the population legend uses scientific notation like 2.50e+08. This means you need to move the decimal point 8 places to the right, making it 250000000. Leaving it in scientific notation isn’t great because it makes it really hard to read and interpret.\nIf you load the {scales} library (which is installed as part of {tidyverse} but isn’t automatically loaded), you can use some neat helper functions to reformat the text that shows up in plots. For instance, we can make it so population is formatted as a number with commas every 3 numbers, and the x-axis is formatted as dollars:\n\nlibrary(scales)\n\nggplot(gapminder_2007,\n       aes(x = gdpPercap, y = lifeExp, \n           color = continent, shape = continent, size = pop)) +\n  geom_point() +\n  scale_x_log10(labels = label_dollar()) +\n  scale_size_continuous(labels = label_comma())\n\n\n\n\n\n\n\n\nCheck the documentation for {scales} for details about all the labeling functions it has, including dates, percentages, p-values, LaTeX math, etc.",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "lesson/02-lesson.html",
    "href": "lesson/02-lesson.html",
    "title": "Graphic design",
    "section": "",
    "text": "Recall from the last section of the lecture that you’ll typically work with one of two image file types: bitmap images and vector images.\nBitmaps store image information as tiny squares, or pixels. Specific files types compress these images in different ways: JPEG files smudge together groups of similarly colored pixels to save repetition, while PNG and GIF files look for fields of the exact same color.\n\n\n\n\n\n\n\n\n\nYou use bitmap images for things that go on the internet and when you place images in Word (technically modern versions of Word can handle some types of vector images, but that support isn’t universal yet).\nVector images, on the other hand, do not store image information as pixels. Instead, these use mathematical formulas to draw lines and curves and fill areas with specific colors. This makes them a little more complicated to draw and create, but it also means that you can scale them up or down infinitely—a vector image will look just as crisp on a postage stamp as it would on a billboard.\n\n\n\n\n\n\n\n\n\nHere are some general guidelines:\n\nIf an image has lots of colors (like a photograph), you should use a bitmap file type designed for lots of colors, like JPEG. This is the case regardless of where the image will ultimately end up. If you’re putting it on the internet, it needs to be a JPEG. If you’re blowing it up to fit on a billboard, it will still need to be a JPEG (and you have to use a fancy super high quality camera to get a high enough resolution for that kind of expansion)\nIf an image has a few colors and some text and is not a photograph and you’re using the image in Word or on the internet, you should use a bitmap file type designed for carefully compressing a few colors, like PNG.\nIf an image has a few colors and some text and is not a photograph and you’re planning on using it in multiple sizes (like a logo), or using it in fancier production software like Adobe InDesign (for print) or Adobe After Effects (for video), you should use a vector file type like PDF or SVG.",
    "crumbs": [
      "Lessons",
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "lesson/02-lesson.html#file-types",
    "href": "lesson/02-lesson.html#file-types",
    "title": "Graphic design",
    "section": "",
    "text": "Recall from the last section of the lecture that you’ll typically work with one of two image file types: bitmap images and vector images.\nBitmaps store image information as tiny squares, or pixels. Specific files types compress these images in different ways: JPEG files smudge together groups of similarly colored pixels to save repetition, while PNG and GIF files look for fields of the exact same color.\n\n\n\n\n\n\n\n\n\nYou use bitmap images for things that go on the internet and when you place images in Word (technically modern versions of Word can handle some types of vector images, but that support isn’t universal yet).\nVector images, on the other hand, do not store image information as pixels. Instead, these use mathematical formulas to draw lines and curves and fill areas with specific colors. This makes them a little more complicated to draw and create, but it also means that you can scale them up or down infinitely—a vector image will look just as crisp on a postage stamp as it would on a billboard.\n\n\n\n\n\n\n\n\n\nHere are some general guidelines:\n\nIf an image has lots of colors (like a photograph), you should use a bitmap file type designed for lots of colors, like JPEG. This is the case regardless of where the image will ultimately end up. If you’re putting it on the internet, it needs to be a JPEG. If you’re blowing it up to fit on a billboard, it will still need to be a JPEG (and you have to use a fancy super high quality camera to get a high enough resolution for that kind of expansion)\nIf an image has a few colors and some text and is not a photograph and you’re using the image in Word or on the internet, you should use a bitmap file type designed for carefully compressing a few colors, like PNG.\nIf an image has a few colors and some text and is not a photograph and you’re planning on using it in multiple sizes (like a logo), or using it in fancier production software like Adobe InDesign (for print) or Adobe After Effects (for video), you should use a vector file type like PDF or SVG.",
    "crumbs": [
      "Lessons",
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "lesson/02-lesson.html#select-the-best-file-type",
    "href": "lesson/02-lesson.html#select-the-best-file-type",
    "title": "Graphic design",
    "section": "Select the best file type",
    "text": "Select the best file type\nPractice deciding what kind of file type you should use by looking at these images and choosing what you think works the best.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPNG\n\n\n\n\nJPG\n\n\n\n\nPDF\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPNG\n\n\n\n\nJPG\n\n\n\n\nPDF\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPNG\n\n\n\n\nJPG\n\n\n\n\nPDF\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPNG\n\n\n\n\nJPG\n\n\n\n\nPDF\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPNG\n\n\n\n\nJPG\n\n\n\n\nPDF\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPNG\n\n\n\n\nJPG\n\n\n\n\nPDF",
    "crumbs": [
      "Lessons",
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "\n            Data Visualization\n        ",
    "section": "",
    "text": "Use R, ggplot2, and the principles of graphic design to create beautiful and truthful visualizations of data\n        \n        \n            151F403 • Spring 2026International Social SciencesGakushuin University\n        \n    \n    \n      \n        \n        \n        \n      \n    \n\n\n\n\n\n\nInstructor\n\n Prof. Tim Marchand\n minami-2, Room 411\n tim.marchand@gakushuin.ac.jp\n Bluesky\n\n\n\nCourse details\n\n Thursday\n April 16 – July 17, 2026\n Period 3: 13:15 ~ 15:00\n Anywhere\n\n\n\nContacting me\n\n Schedule an appointment\n Discord\n\nE-mail is the best way to get in contact with me. I will try to respond to all course-related e-mails within 48 hours (really), but also remember that life can be busy and chaotic for everyone (including me!), so if I don’t respond right away, don’t worry!"
  },
  {
    "objectID": "example/15-example.html",
    "href": "example/15-example.html",
    "title": "Truth, beauty, and data revisited",
    "section": "",
    "text": "If you’re interested in learning more about data storytelling and science communication, check out these resources:\n\n BUSM 491R: Telling Stories with Data (BYU, Fall 2017)\n Cole Nussbaumer Knaflic, Storytelling with Data: A Data Visualization Guide for Business Professionals (Hoboken, New Jersey: John Wiley & Sons, Inc., 2015).\n Alan Alda, If I Understood You, Would I Have This Look on My Face? My Adventures in the Art and Science of Relating and Communicating (New York: Random House, 2017).\n Nancy Duarte, Resonate: Present Visual Stories That Transform Audiences (Hoboken, New Jersey: John Wiley & Sons, Inc., 2010).\n “Understanding the way scientists speak,” MSNBC Morning Joe, 2013-04-24\n “Improvisation for Scientists: Workshops by Alan Alda and the Center for Communicating Science,” Stony Brook Journalism, 2010-03-23",
    "crumbs": [
      "Special applications",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "example/13-example.html",
    "href": "example/13-example.html",
    "title": "Time",
    "section": "",
    "text": "For this example, we’re going to use economic data from the US Federal Reserve (the Fed). The St. Louis Fed is in charge of publishing Fed economic data, and they host it all at an online portal named FRED. Instead of downloading individual time series data from the FRED website, we’ll do what with did with the World Bank WDI data and download it directly from the internet with the {tidyquant} package, which includes a function for working with the FRED API/website.\nIf you want to skip the data downloading, you can download the data below (you’ll likely need to right click and choose “Save Link As…”):",
    "crumbs": [
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "example/13-example.html#live-coding-example",
    "href": "example/13-example.html#live-coding-example",
    "title": "Time",
    "section": "Live coding example",
    "text": "Live coding example\n\n\n\n\n\n\n\n\n\n\nImportantSlight differences from the video\n\n\n\nThis is a slightly cleaned up version of the code from the video.",
    "crumbs": [
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "example/13-example.html#get-data",
    "href": "example/13-example.html#get-data",
    "title": "Time",
    "section": "Get data",
    "text": "Get data\nFirst, we load the libraries we’ll be using:\n\n\nCode\nlibrary(tidyverse)  # For ggplot, dplyr, and friends\nlibrary(tidyquant)  # For accessing FRED data\nlibrary(scales)     # For nicer labels\n\n\nThe US Federal Reserve provides thousands of economic datasets at FRED. We can use the {tidyquant} R package to access their servers and download the data directly into R.\nLike we did with the WDI indicators in session 8, we need to find the special internal code for the variables we want to get. We need to pay close attention to the details of each variable, since the same measure can be offered with different combinations of real (adjusted for inflation) or nominal (not adjusted for inflation); monthly, quarterly, or annually; and seasonally adjusted or not seasonally adjusted. For instance, if you want to see US GDP, here are some possibilities (all the possible GDP measures are listed here):\n\nGDPC1: Real (2012 dollars), quarterly, seasonally adjusted\nND000334Q: Real (2012 dollars), quarterly, not seasonally adjusted\nGDPCA: Real (2012 dollars), annual, not seasonally adjusted\nGDP: Nominal, quarterly, seasonally adjusted\nGDPA: Nominal, annual, not seasonally adjusted\n\nThe code for getting data from FRED works a little differently than WDI(), and the output is a little different too, but it’s hopefully not too complicated. We need to feed the tq_get() function (1) a list of indicators we want, (2) a source for those indicators, and (3) a starting and/or ending date.\ntq_get() can actually get data from a ton of different sources like stocks from Yahoo Finance and general financial data from Bloomberg, Quandl, and Tiingo. Most of those other sources require a subscription and a fancy API key that logs you into their servers when getting data, but FRED is free (yay public goods!).\nWe’ll first make a new dataset named fred_raw that gets a bunch of interesting variables from FRED from January 1, 1990 until today.\n\n\nCode\nfred_raw &lt;- tq_get(c(\"RSXFSN\",  # Advance retail sales\n                     \"GDPC1\",  # GDP\n                     \"ICSA\",  # Initial unemployment claims\n                     \"FPCPITOTLZGUSA\",  # Inflation\n                     \"UNRATE\",  # Unemployment rate\n                     \"USREC\"),  # Recessions\n                   get = \"economic.data\",  # Use FRED\n                   from = \"1990-01-01\")\n\n\nDownloading data from FRED every time you knit will get tedious and take a long time (plus if their servers are temporarily down, you won’t be able to get the data). As with the World Bank data we used, it’s good practice to save this raw data as a CSV file and then work with that.\nSince we care about reproducibility, we still want to include the code we used to get data from FRED, we just don’t want it to actually run. You can include chunks but not run them by setting eval=FALSE in the chunk options. In this little example, we show the code for downloading the data, but we don’t evaluate the chunk. We then include a chunk that loads the data from a CSV file with read_csv(), but we don’t include it (include=FALSE). That way, in the rendered file we see the tq_get() code, but in reality it’s loading the data from CSV. Super tricky.\nI first download data from FRED:\n\n```{r get-fred-data, eval=FALSE}\nfred_raw &lt;- tq_get(...)\n\nwrite_csv(fred_raw, \"data/fred_raw.csv\")\n```\n\n```{r load-fred-data-real, include=FALSE}\nfred_raw &lt;- read_csv(\"data/fred_raw.csv\")\n```",
    "crumbs": [
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "example/13-example.html#look-at-and-clean-data",
    "href": "example/13-example.html#look-at-and-clean-data",
    "title": "Time",
    "section": "Look at and clean data",
    "text": "Look at and clean data\nThe data we get from FRED is in a slightly different format than we’re used to with WDI(), but with good reason. With World Bank data, you get data for every country and every year, so there are rows for Afghanistan 2000, Afghanistan 2001, etc. You then get a column for each of the variables you want (population, life expectancy, GDP/capita, etc.)\nWith FRED data, that kind of format doesn’t work for every possible time series variable because time is spaced differently. If you want to work with annual GDP, you should have a row for each year. If you want quarterly GDP, you should have a row for every quarter. If you put these in the same dataset, you’ll end up with all sorts of missing data issues:\n\n\n\ntime\nannual_gdp\nquarterly_gdp\n\n\n\n\n2019, Q1\nX\nX\n\n\n2019, Q2\n\nX\n\n\n2019, Q3\n\nX\n\n\n2019, Q4\n\nX\n\n\n2020, Q1\nX\nX\n\n\n2020, Q2\n\nX\n\n\n\nTo fix this, the {tidyquant} package gives you data in tidy (or long) form and only provides three columns:\n\n\nCode\nhead(fred_raw)\n## # A tibble: 6 × 3\n##   symbol date        price\n##   &lt;chr&gt;  &lt;date&gt;      &lt;dbl&gt;\n## 1 RSXFSN 1992-01-01 126717\n## 2 RSXFSN 1992-02-01 127022\n## 3 RSXFSN 1992-03-01 137978\n## 4 RSXFSN 1992-04-01 142314\n## 5 RSXFSN 1992-05-01 147550\n## 6 RSXFSN 1992-06-01 146991\n\n\nThe symbol column is the ID of the variable from FRED , date is… the date, and price is the value. These columns are called symbol and price because the {tidyquant} package was designed to get and process stock data, so you’d typically see stock symbols (like AAPL or MSFT) and stock prices. When working with FRED data, the price column shows the value of whatever you’re interested in—it’s not technically a price (so unemployment claims, inflation rates, and GDP values are still called price).\nRight now, our fred_raw dataset has only 3 columns, but nearly 3,000 rows since the six indicators we got from the server are all stacked on top of each other. To actually work with these, we need to filter the raw data so that it only includes the indicators we’re interested in. For instance, if we want to plot retail sales, we need to select only the rows where the symbol is RSXFSN. Make a smaller dataset with filter() to do that:\n\n\nCode\nretail_sales &lt;- fred_raw |&gt; \n  filter(symbol == \"RSXFSN\")\n\nretail_sales\n## # A tibble: 408 × 3\n##    symbol date        price\n##    &lt;chr&gt;  &lt;date&gt;      &lt;dbl&gt;\n##  1 RSXFSN 1992-01-01 126717\n##  2 RSXFSN 1992-02-01 127022\n##  3 RSXFSN 1992-03-01 137978\n##  4 RSXFSN 1992-04-01 142314\n##  5 RSXFSN 1992-05-01 147550\n##  6 RSXFSN 1992-06-01 146991\n##  7 RSXFSN 1992-07-01 147657\n##  8 RSXFSN 1992-08-01 147901\n##  9 RSXFSN 1992-09-01 143808\n## 10 RSXFSN 1992-10-01 151260\n## # ℹ 398 more rows\n\n\nIf multiple variables have the same spacing (annual, quarterly, monthly, weekly), you can use filter to select all of them and then the use pivot_wider() or spread() to make separate columns for each. Inflation, unemployment, and retail sales are all monthly, so we can make a dataset for just those:\n\n\nCode\nfred_monthly_things &lt;- fred_raw |&gt; \n  filter(symbol %in% c(\"FPCPITOTLZGUSA\", \"UNRATE\", \"RSXFSN\")) |&gt; \n  # Convert the symbol column into multiple columns, using the \"prices\" for values\n  pivot_wider(names_from = symbol, values_from = price)\n\nfred_monthly_things\n## # A tibble: 433 × 4\n##    date       RSXFSN FPCPITOTLZGUSA UNRATE\n##    &lt;date&gt;      &lt;dbl&gt;          &lt;dbl&gt;  &lt;dbl&gt;\n##  1 1992-01-01 126717           3.03    7.3\n##  2 1992-02-01 127022          NA       7.4\n##  3 1992-03-01 137978          NA       7.4\n##  4 1992-04-01 142314          NA       7.4\n##  5 1992-05-01 147550          NA       7.6\n##  6 1992-06-01 146991          NA       7.8\n##  7 1992-07-01 147657          NA       7.7\n##  8 1992-08-01 147901          NA       7.6\n##  9 1992-09-01 143808          NA       7.6\n## 10 1992-10-01 151260          NA       7.3\n## # ℹ 423 more rows\n\n\nBut wait! There’s a problem! The inflation rate we got isn’t actually monthly—it seems to be annual, which explains all the NAs. Let’s fix it by not including it. We’ll also rename the columns so they’re easier to work with\n\n\nCode\nfred_monthly_things &lt;- fred_raw |&gt; \n  filter(symbol %in% c(\"UNRATE\", \"RSXFSN\")) |&gt; \n  # Convert the symbol column into multiple columns, using the \"prices\" for values\n  pivot_wider(names_from = symbol, values_from = price) |&gt; \n  rename(unemployment = UNRATE, retail_sales = RSXFSN)\n\nfred_monthly_things\n## # A tibble: 433 × 3\n##    date       retail_sales unemployment\n##    &lt;date&gt;            &lt;dbl&gt;        &lt;dbl&gt;\n##  1 1992-01-01       126717          7.3\n##  2 1992-02-01       127022          7.4\n##  3 1992-03-01       137978          7.4\n##  4 1992-04-01       142314          7.4\n##  5 1992-05-01       147550          7.6\n##  6 1992-06-01       146991          7.8\n##  7 1992-07-01       147657          7.7\n##  8 1992-08-01       147901          7.6\n##  9 1992-09-01       143808          7.6\n## 10 1992-10-01       151260          7.3\n## # ℹ 423 more rows\n\n\nAll better.\nWe can make as many subsets of the long, tidy, raw data as we want.",
    "crumbs": [
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "example/13-example.html#plotting-time",
    "href": "example/13-example.html#plotting-time",
    "title": "Time",
    "section": "Plotting time",
    "text": "Plotting time\nLet’s plot some of these and see what the trends look like. We’ll just use geom_line().\nHere’s GDP:\n\n\nCode\n# Get just GDP data from the raw FRED data\ngdp_only &lt;- fred_raw |&gt; \n  filter(symbol == \"GDPC1\")\n\nggplot(gdp_only, aes(x = date, y = price)) +\n  geom_line()\n\n\n\n\n\n\n\n\n\nHere’s retail sales:\n\n\nCode\n# Get just GDP data from the raw FRED data\nretail_sales_only &lt;- fred_raw |&gt; \n  filter(symbol == \"RSXFSN\")\n\nggplot(retail_sales_only, aes(x = date, y = price)) +\n  geom_line()\n\n\n\n\n\n\n\n\n\nAnd here’s unemployment claims:\n\n\nCode\nunemployment_claims_only &lt;- fred_raw |&gt; \n  filter(symbol == \"ICSA\")\n\nggplot(unemployment_claims_only, aes(x = date, y = price)) +\n  geom_line()\n\n\n\n\n\n\n\n\n\nYikes COVID-19.\nThere, we visualized time. ☑️",
    "crumbs": [
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "example/13-example.html#improving-graphics",
    "href": "example/13-example.html#improving-graphics",
    "title": "Time",
    "section": "Improving graphics",
    "text": "Improving graphics\nThese were simple graphs and they’re kind of helpful, but they’re not incredibly informative. We can clean these up a little. First we can change the labels and themes and colors:\n\n\nCode\nggplot(gdp_only, aes(x = date, y = price)) +\n  geom_line(color = \"#0074D9\", linewidth = 1) +\n  scale_y_continuous(labels = label_dollar()) +\n  labs(y = \"Billions of 2012 dollars\",\n       x = NULL,\n       title = \"US Gross Domestic Product\",\n       subtitle = \"Quarterly data; real 2012 dollars\",\n       caption = \"Source: US Bureau of Economic Analysis and FRED\") +\n  theme_bw(base_family = \"Roboto Condensed\") +\n  theme(plot.title = element_text(face = \"bold\"))\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\nThat’s great and almost good enough to publish! We can add one additional layer of information onto the plot and highlight when recessions start and end. We included a recessions variable (USREC) when we got data from FRED, so let’s see what it looks like:\n\n\nCode\nfred_raw |&gt; \n  filter(symbol == \"USREC\")\n## # A tibble: 433 × 3\n##    symbol date       price\n##    &lt;chr&gt;  &lt;date&gt;     &lt;dbl&gt;\n##  1 USREC  1990-01-01     0\n##  2 USREC  1990-02-01     0\n##  3 USREC  1990-03-01     0\n##  4 USREC  1990-04-01     0\n##  5 USREC  1990-05-01     0\n##  6 USREC  1990-06-01     0\n##  7 USREC  1990-07-01     0\n##  8 USREC  1990-08-01     1\n##  9 USREC  1990-09-01     1\n## 10 USREC  1990-10-01     1\n## # ℹ 423 more rows\n\n\nThis is monthly data that shows a 1 if we were in a recession that month and a 0 if we weren’t. The Fed doesn’t decide when recessions happen—the National Bureau of Economic Research (NBER) does, and they have specific guidelines for defining one. We’re probably in one right now, but there’s not enough data for NBER to formally declare it yet.\nThis data is long and tidy, but that makes it harder to work with given our GDP. We want the start and end dates for each recession so that we can shade those areas on the plot. To find those dates, we need to do a little data reshaping. First, we’ll create a temporary variable that marks if there was a switch from 0 to 1 or 1 to 0 in a given row by looking at the previous row\n\n\nCode\nrecessions_tidy &lt;- fred_raw |&gt; \n  filter(symbol == \"USREC\") |&gt; \n  mutate(recession_change = price - lag(price))\nrecessions_tidy\n## # A tibble: 433 × 4\n##    symbol date       price recession_change\n##    &lt;chr&gt;  &lt;date&gt;     &lt;dbl&gt;            &lt;dbl&gt;\n##  1 USREC  1990-01-01     0               NA\n##  2 USREC  1990-02-01     0                0\n##  3 USREC  1990-03-01     0                0\n##  4 USREC  1990-04-01     0                0\n##  5 USREC  1990-05-01     0                0\n##  6 USREC  1990-06-01     0                0\n##  7 USREC  1990-07-01     0                0\n##  8 USREC  1990-08-01     1                1\n##  9 USREC  1990-09-01     1                0\n## 10 USREC  1990-10-01     1                0\n## # ℹ 423 more rows\n\n\nNotice the new column we have that is mostly 0s, but 1 when there’s a switch, like in August 1990. 1 means we went from 0 to 1 (no recession → recession), while -1 means we went from 1 to 0 (recession → no recession).\nWe can see all the start and end dates if we filter:\n\n\nCode\nrecessions_start_end &lt;- fred_raw |&gt; \n  filter(symbol == \"USREC\") |&gt; \n  mutate(recession_change = price - lag(price)) |&gt; \n  filter(recession_change != 0)\nrecessions_start_end\n## # A tibble: 8 × 4\n##   symbol date       price recession_change\n##   &lt;chr&gt;  &lt;date&gt;     &lt;dbl&gt;            &lt;dbl&gt;\n## 1 USREC  1990-08-01     1                1\n## 2 USREC  1991-04-01     0               -1\n## 3 USREC  2001-04-01     1                1\n## 4 USREC  2001-12-01     0               -1\n## 5 USREC  2008-01-01     1                1\n## 6 USREC  2009-07-01     0               -1\n## 7 USREC  2020-03-01     1                1\n## 8 USREC  2020-05-01     0               -1\n\n\nFinally, we can use tibble() to create a brand new little dataset row that includes columns for the start and end dates of each recession. We’ll use a combination of filter() and pull() to extract the start dates (where recession_change is 1) and the end dates (where recession_change is −1), and then we’ll stick those two vectors together in a data frame.\nIf you’re creating this tiny dataset during an actual recession, though, you need to do a little extra step. If you’re currently in a recession, the recession_ends vector will be one element shorted than the recession_starts vector, since the ongoing recession hasn’t ended yet. We can check for this with code. If the recession_ends vector is shorter than recesison_starts, will stick an end date to the recession as today() (today() by itself returns regular text like \"2024-11-18\"; we need to tell R that this is a date by feeding it to ymd())\n\n\nCode\n# Pull out the start dates\nrecession_starts &lt;- recessions_start_end |&gt; \n  filter(recession_change == 1) |&gt; \n  pull(date)\nrecession_starts\n## [1] \"1990-08-01\" \"2001-04-01\" \"2008-01-01\" \"2020-03-01\"\n\n# Pull out the end dates\nrecession_ends &lt;- recessions_start_end |&gt; \n  filter(recession_change == -1) |&gt; \n  pull(date)\nrecession_ends\n## [1] \"1991-04-01\" \"2001-12-01\" \"2009-07-01\" \"2020-05-01\"\n\n# Check the length of `recession_ends` and append `today()` if it doesn't \n# match `recession_starts`\n#\n# If you're running this code not during a recession, there's no need for this\n# intermediate step, but it's good practice to include it just in case you run\n# this code in the future and you *are* in a recession\nif (length(recession_ends) &lt; length(recession_starts)) {\n  recession_ends &lt;- c(recession_ends, ymd(today()))\n}\n\n# Make a dataframe with the two vectors of start and end dates\nrecessions &lt;- tibble(start = recession_starts,\n                     end = recession_ends)\nrecessions\n## # A tibble: 4 × 2\n##   start      end       \n##   &lt;date&gt;     &lt;date&gt;    \n## 1 1990-08-01 1991-04-01\n## 2 2001-04-01 2001-12-01\n## 3 2008-01-01 2009-07-01\n## 4 2020-03-01 2020-05-01\n\n\nWe can now add this tiny dataset to our plot using geom_rect(). Notice how we put geom_rect() before geom_line()—that’s so the recession rectangles go under the line instead of on top of it. Also notice that we have to specify 4 new aesthetics for geom_rect(): min and max values for both x and y. We use the recession start and end dates for xmin and xmax, and then use −∞ and ∞ for ymin and ymax to make the rectangles stretch from the bottom of the plot to the top.\nThe last odd/new thing here is that we also use inherit.aes = FALSE in geom_rect(). That’s because we specified a global x and y aesthetic in ggplot(), which applies to all the other layers we add. geom_rect() doesn’t use x or y, though, and it’ll complain that those columns are missing. The inherit.aes argument tells ggplot that the geom_rect() layer should not get any of the global aesthetics like x or y.\n\n\nCode\nggplot(gdp_only, aes(x = date, y = price)) +\n  geom_rect(data = recessions, \n            aes(xmin = start, xmax = end, ymin = -Inf, ymax = Inf),\n            inherit.aes = FALSE, fill = \"#B10DC9\", alpha = 0.3) +\n  geom_line(color = \"#0074D9\", linewidth = 1) +\n  scale_y_continuous(labels = label_dollar()) +\n  labs(y = \"Billions of 2012 dollars\",\n       x = NULL,\n       title = \"US Gross Domestic Product\",\n       subtitle = \"Quarterly data; real 2012 dollars\",\n       caption = \"Source: US Bureau of Economic Analysis and FRED\") +\n  theme_bw(base_family = \"Roboto Condensed\") +\n  theme(plot.title = element_text(face = \"bold\"))\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\nAnd that’s it!\nNow that we have the tiny recessions data frame, we can add it to any plot we want. Here’s initial unemployment claims with some extra annotations for fun:\n\n\nCode\nggplot(unemployment_claims_only, aes(x = date, y = price)) +\n  geom_rect(data = recessions, \n            aes(xmin = start, xmax = end, ymin = -Inf, ymax = Inf),\n            inherit.aes = FALSE, fill = \"#B10DC9\", alpha = 0.3) +\n  geom_line(color = \"#FF4136\", linewidth = 0.5) +\n  annotate(geom = \"label\", x = as.Date(\"2010-01-01\"), y = 1000000, \n           label = \"The Great Recession\", size = 3, family = \"Roboto Condensed\") +\n  annotate(geom = \"label\", x = as.Date(\"2020-01-01\"), y = 6000000, \n           label = \"COVID-19\", size = 3, family = \"Roboto Condensed\", hjust = 1) +\n  scale_y_continuous(labels = label_comma()) +\n  labs(y = \"Initial unemployment claims\",\n       x = NULL,\n       title = \"Initial unemployment claims\",\n       subtitle = \"Weekly data\",\n       caption = \"Source: US Employment and Training Administration and FRED\") +\n  theme_bw(base_family = \"Roboto Condensed\") +\n  theme(plot.title = element_text(face = \"bold\"))\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"",
    "crumbs": [
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "example/13-example.html#decomposition",
    "href": "example/13-example.html#decomposition",
    "title": "Time",
    "section": "Decomposition",
    "text": "Decomposition\nThe mechanics of decomposing and forecasting time series goes beyond the scope of this class, but there are lots of resources you can use to learn more, including this phenomenal free textbook.\nThere’s a whole ecosystem of time-related packages that make working with time and decomposing trends easy (named {tidyverts}):\n\n{lubridate}: Helpful functions for manipulating dates (you’ve used this before)\n{tsibble}: Add fancy support for time variables to data frames\n{feasts}: Decompose time series and do other statistical things with time\n{fable}: Make forecasts\n\nHere’s a super short example of how these all work.\nThe retail sales data we got from FRED was not seasonally adjusted, so it looks like it has a heartbeat embedded in it:\n\n\nCode\nretail_sales &lt;- fred_raw |&gt; \n  filter(symbol == \"RSXFSN\")\n\nggplot(retail_sales, aes(x = date, y = price)) +\n  geom_line()\n\n\n\n\n\n\n\n\n\nWe can divide this trend into its main components: the trend, the seasonality, and stuff that’s not explained by either the trend or the seasonality. To do that, we need to first modify our little dataset and tell it to be a time-enabled data frame (a tsibble) that is indexed by the year+month for each row. We’ll create a new column called year_month and then use as_tsibble() to tell R that this is really truly dealing with time:\n\n\nCode\nlibrary(tsibble)  # For embedding time things into data frames\n\nretail_sales &lt;- fred_raw |&gt; \n  filter(symbol == \"RSXFSN\") |&gt; \n  mutate(year_month = yearmonth(date)) |&gt; \n  as_tsibble(index = year_month)\nretail_sales\n## # A tsibble: 408 x 4 [1M]\n##    symbol date        price year_month\n##    &lt;chr&gt;  &lt;date&gt;      &lt;dbl&gt;      &lt;mth&gt;\n##  1 RSXFSN 1992-01-01 126717   1992 Jan\n##  2 RSXFSN 1992-02-01 127022   1992 Feb\n##  3 RSXFSN 1992-03-01 137978   1992 Mar\n##  4 RSXFSN 1992-04-01 142314   1992 Apr\n##  5 RSXFSN 1992-05-01 147550   1992 May\n##  6 RSXFSN 1992-06-01 146991   1992 Jun\n##  7 RSXFSN 1992-07-01 147657   1992 Jul\n##  8 RSXFSN 1992-08-01 147901   1992 Aug\n##  9 RSXFSN 1992-09-01 143808   1992 Sep\n## 10 RSXFSN 1992-10-01 151260   1992 Oct\n## # ℹ 398 more rows\n\n\nNotice that the year_month column is now just the year+month. Neato.\nNext we need to create a time series model using that data. There are lots of different ways to model time series, and distinguishing between the different types is way beyond the scope of this class. Rob Hyndman’s free books covers them all. We’ll do this with STL decomposition (“Seasonal and Trend decomposition using Loess”) There are other models we can use, like ETS or ARIMA, but again, that’s all beyond this class.\n\n\nCode\nlibrary(feasts)  # For decomposition things like STL()\n\nretail_model &lt;- retail_sales |&gt; \n  model(stl = STL(price))\nretail_model\n## # A mable: 1 x 1\n##       stl\n##   &lt;model&gt;\n## 1   &lt;STL&gt;\n\n\nThe decomposition model we create is kind of boring and useless—it’s all stored in a single cell.\nWe can extract the different components of the decomposition with the components() function:\n\n\nCode\nretail_components &lt;- components(retail_model)\nretail_components\n## # A dable: 408 x 7 [1M]\n## # Key:     .model [1]\n## # :        price = trend + season_year + remainder\n##    .model year_month  price   trend season_year remainder season_adjust\n##    &lt;chr&gt;       &lt;mth&gt;  &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;\n##  1 stl      1992 Jan 126717 143762.    -21022.   3977.          147739.\n##  2 stl      1992 Feb 127022 144283.    -22208.   4947.          149230.\n##  3 stl      1992 Mar 137978 144804.     -1885.  -4941.          139863.\n##  4 stl      1992 Apr 142314 145324.     -3010.     -0.717       145324.\n##  5 stl      1992 May 147550 145875.      4981.  -3306.          142569.\n##  6 stl      1992 Jun 146991 146425.      2646.  -2080.          144345.\n##  7 stl      1992 Jul 147657 146976.        62.1   619.          147595.\n##  8 stl      1992 Aug 147901 147553.      3912.  -3564.          143989.\n##  9 stl      1992 Sep 143808 148131.     -5296.    973.          149104.\n## 10 stl      1992 Oct 151260 148708.        35.2  2517.          151225.\n## # ℹ 398 more rows\n\n\nAnd we can use the autoplot() function from the {feasts} package to quickly plot all the components. The plot that autoplot() creates is made with ggplot, so any normal ggplot layers work with it:\n\n\nCode\nautoplot(retail_components) +\n  labs(x = NULL) +\n  theme_bw(base_family = \"Roboto Condensed\") +\n  theme(plot.title = element_text(face = \"bold\"))\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\nWe can also plot individual components on their own using the retail_components dataset we made. Here’s seasonality by itself:\n\n\nCode\nggplot(retail_components, \n       aes(x = year_month, y = season_year)) +\n  geom_rect(data = recessions,\n            aes(xmin = start, xmax = end, ymin = -Inf, ymax = Inf),\n            inherit.aes = FALSE, fill = \"#B10DC9\", alpha = 0.3) +\n  geom_line() + \n  scale_y_continuous(labels = label_dollar()) +\n  # ggplot needs to know that the main data is a yearmonth column so that it'll\n  # deal with the recessions data correctly; without this, you'll get an error\n  scale_x_yearmonth() +\n  labs(x = NULL, y = \"Difference from trend, millions of dollars\",\n       title = \"Seasonal trends in retail sales\",\n       subtitle = \"Nominal US dollars\") +\n  theme_bw(base_family = \"Roboto Condensed\") +\n  theme(plot.title = element_text(face = \"bold\"))\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\nAnd here’s the trend by itself:\n\n\nCode\nggplot(retail_components, \n       aes(x = year_month, y = trend)) +\n  geom_rect(data = recessions, \n            aes(xmin = start, xmax = end, ymin = -Inf, ymax = Inf),\n            inherit.aes = FALSE, fill = \"#B10DC9\", alpha = 0.3) +\n  geom_line() + \n  scale_y_continuous(labels = label_dollar()) +\n  scale_x_yearmonth() +\n  labs(x = NULL, y = \"Trend, millions of dollars\",\n       title = \"Seasonally adjusted trends in retail sales\",\n       subtitle = \"Nominal US dollars\") +\n  theme_bw(base_family = \"Roboto Condensed\") +\n  theme(plot.title = element_text(face = \"bold\"))\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\nIf you want more control over the combined decomposed plot you can either (1) make individual plots for each of the components and then stitch them together with {patchwork}, or (2) make the components dataset tidy and facet by component. Here’s what that looks like:\n\n\nCode\nretail_components_tidy &lt;- retail_components |&gt; \n  # Get rid of this column\n  select(-season_adjust) |&gt; \n  # Take all these component columns and put them into a long column\n  pivot_longer(cols = c(price, trend, season_year, remainder),\n               names_to = \"component\", values_to = \"value\") |&gt; \n  # Recode this values so they're nicer\n  mutate(component = recode(component, \n                            price = \"Actual data\",\n                            trend = \"Trend\",\n                            season_year = \"Seasonality\",\n                            remainder = \"Remainder\")) |&gt; \n  # Make the component categories follow the order they're in in the data so\n  # that \"Actual data\" is first, etc.\n  mutate(component = fct_inorder(component))\n\nretail_components_tidy\n## # A tsibble: 1,632 x 4 [1M]\n## # Key:       .model, component [4]\n##    .model year_month component     value\n##    &lt;chr&gt;       &lt;mth&gt; &lt;fct&gt;         &lt;dbl&gt;\n##  1 stl      1992 Jan Actual data 126717 \n##  2 stl      1992 Jan Trend       143762.\n##  3 stl      1992 Jan Seasonality -21022.\n##  4 stl      1992 Jan Remainder     3977.\n##  5 stl      1992 Feb Actual data 127022 \n##  6 stl      1992 Feb Trend       144283.\n##  7 stl      1992 Feb Seasonality -22208.\n##  8 stl      1992 Feb Remainder     4947.\n##  9 stl      1992 Mar Actual data 137978 \n## 10 stl      1992 Mar Trend       144804.\n## # ℹ 1,622 more rows\n\n\nNow that we have a long dataset, we can facet by component:\n\n\nCode\nggplot(retail_components_tidy, \n       aes(x = year_month, y = value)) +\n  geom_rect(data = recessions, \n            aes(xmin = start, xmax = end, ymin = -Inf, ymax = Inf),\n            inherit.aes = FALSE, fill = \"#B10DC9\", alpha = 0.3) +\n  geom_line() + \n  scale_y_continuous(labels = label_dollar()) +\n  scale_x_yearmonth() +\n  labs(x = NULL, y = \"Millions of dollars\",\n       title = \"Decomposed US Advance Retail Sales\",\n       subtitle = \"Nominal US dollars\",\n       caption = \"Source: US Census Bureau and FRED (RSXFSN)\") +\n  facet_wrap(vars(component), ncol = 1, scales = \"free_y\") +\n  theme_minimal(base_family = \"Roboto Condensed\") +\n  theme(plot.title = element_text(face = \"bold\"),\n        plot.title.position = \"plot\",\n        strip.text = element_text(face = \"bold\", hjust = 0))\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\nBeautiful!",
    "crumbs": [
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "example/11-example.html",
    "href": "example/11-example.html",
    "title": "Interactivity",
    "section": "",
    "text": "For this example we’ll use data from the World Bank once again, which we download using the {WDI} package.\nIf you want to skip the data downloading, you can download the data below (you’ll likely need to right click and choose “Save Link As…”):",
    "crumbs": [
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "example/11-example.html#live-coding-example",
    "href": "example/11-example.html#live-coding-example",
    "title": "Interactivity",
    "section": "Live coding example",
    "text": "Live coding example\nThere is no video for this one, since it really only involves feeding a few ggplot plots fed into ggplotly().",
    "crumbs": [
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "example/11-example.html#get-and-clean-data",
    "href": "example/11-example.html#get-and-clean-data",
    "title": "Interactivity",
    "section": "Get and clean data",
    "text": "Get and clean data\nFirst, we load the libraries we’ll be using:\n\n\nCode\nlibrary(tidyverse)  # For ggplot, dplyr, and friends\nlibrary(WDI)        # Get data from the World Bank\nlibrary(scales)     # For nicer label formatting\nlibrary(plotly)     # For easy interactive plots\n\n\n\n\nCode\nindicators &lt;- c(population = \"SP.POP.TOTL\",  # Population\n                prop_women_parl = \"SG.GEN.PARL.ZS\",  # Proportion of seats held by women in national parliaments (%)\n                gdp_per_cap = \"NY.GDP.PCAP.KD\")  # GDP per capita\n\nwdi_parl_raw &lt;- WDI(country = \"all\", indicators, extra = TRUE, \n                    start = 2000, end = 2019)\n\n\nThen we clean the data by removing non-country countries:\n\n\nCode\nwdi_clean &lt;- wdi_parl_raw |&gt; \n  filter(region != \"Aggregates\")",
    "crumbs": [
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "example/11-example.html#creating-a-basic-interactive-chart",
    "href": "example/11-example.html#creating-a-basic-interactive-chart",
    "title": "Interactivity",
    "section": "Creating a basic interactive chart",
    "text": "Creating a basic interactive chart\nLet’s make a chart that shows the distribution of the proportion of women in national parliaments in 2019, by continent. We’ll use a strip plot with jittered points.\nFirst we need to make a regular static plot with ggplot:\n\n\nCode\nwdi_2019 &lt;- wdi_clean |&gt; \n  filter(year == 2019) |&gt; \n  drop_na(prop_women_parl) |&gt; \n  # Scale this down from 0-100 to 0-1 so that scales::label_percent() can format\n  # it as an actual percent\n  mutate(prop_women_parl = prop_women_parl / 100)\n\nstatic_plot &lt;- ggplot(wdi_2019, \n                      aes(y = fct_rev(region), x = prop_women_parl, color = region)) +\n  geom_point(position = position_jitter(width = 0, height = 0.15, seed = 1234)) +\n  guides(color = \"none\") +\n  scale_x_continuous(labels = label_percent()) +\n  # I used https://medialab.github.io/iwanthue/ to generate these colors\n  scale_color_manual(values = c(\"#425300\", \"#e680ff\", \"#01bd71\", \"#ff3aad\",\n                                \"#9f3e00\", \"#0146bf\", \"#671d56\")) +\n  labs(x = \"% women in parliament\", y = NULL, caption = \"Source: The World Bank\") +\n  theme_bw()\nstatic_plot\n\n\n\n\n\n\n\n\n\nGreat! That looks pretty good.\nTo make it interactive, all we have to do is feed the static_plot object into ggplotly(). That’s it.\n\n\nCode\nggplotly(static_plot)\n\n\n\n\n\n\nNot everything translates over to JavaScript—the caption is gone now, and the legend is back (which is fine, I guess, since the legend is interactive). But still, this is magic.",
    "crumbs": [
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "example/11-example.html#modifying-the-tooltip",
    "href": "example/11-example.html#modifying-the-tooltip",
    "title": "Interactivity",
    "section": "Modifying the tooltip",
    "text": "Modifying the tooltip\nRight now, the default tooltip you see when you hover over the points includes the actual proportion of women in parliament for each point, along with the continent, which is neat, but it’d be great if we could see the country name too. The tooltip picks up the information to include from the variables we use in aes(), and we never map the country column to any aesthetic, so it doesn’t show up.\nTo get around this, we can add a new aesthetic for country to the points. Instead of using one of the real ggplot aesthetics like color or fill, we’ll use a fake one called text (we can call it whatever we want! asdf would also work). ggplot has no idea how to do anything with the text aesthetic, and it’ll give you a warning, but that’s okay. The static plot looks the same:\n\n\nCode\nstatic_plot_toolip &lt;- ggplot(wdi_2019, \n                             aes(y = fct_rev(region), x = prop_women_parl, color = region)) +\n  geom_point(aes(text = country),\n             position = position_jitter(width = 0, height = 0.15, seed = 1234)) +\n  guides(color = \"none\") +\n  scale_x_continuous(labels = label_percent()) +\n  # I used https://medialab.github.io/iwanthue/ to generate these colors\n  scale_color_manual(values = c(\"#425300\", \"#e680ff\", \"#01bd71\", \"#ff3aad\",\n                                \"#9f3e00\", \"#0146bf\", \"#671d56\")) +\n  labs(x = \"% women in parliament\", y = NULL, caption = \"Source: The World Bank\") +\n  theme_bw()\n## Warning in geom_point(aes(text = country), position = position_jitter(width = 0, : Ignoring unknown aesthetics: text\nstatic_plot_toolip\n\n\n\n\n\n\n\n\n\nNow we can tell plotly to use this fake text aesthetic for the tooltip:\n\n\nCode\nggplotly(static_plot_toolip, tooltip = \"text\")\n\n\n\n\n\n\nNow we should just see the country names in the tooltips!",
    "crumbs": [
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "example/11-example.html#including-more-information-in-the-tooltip",
    "href": "example/11-example.html#including-more-information-in-the-tooltip",
    "title": "Interactivity",
    "section": "Including more information in the tooltip",
    "text": "Including more information in the tooltip\nWe have country names, but we lost the values in the x-axis. Rwanda has the highest proportion of women in parliament, but what’s the exact number? It’s somewhere above 60%, but that’s all we can see now.\nTo fix this, we can make a new column in the data with all the text we want to include in the tooltip. We’ll use paste0() to combine text and variable values to make the tooltip follow this format:\nName of country\nX% women in parliament\nLet’s add a new column with mutate(). A couple things to note here:\n\nThe &lt;br&gt; is HTML code for a line break\nWe use the label_percent() function to format numbers as percents. The accuracy argument tells R how many decimal points to use. If we used 1, it would say 12%; if we used 0.01, it would say 12.08%; etc.\n\n\n\nCode\nwdi_2019 &lt;- wdi_clean |&gt; \n  filter(year == 2019) |&gt; \n  drop_na(prop_women_parl) |&gt; \n  # Scale this down from 0-100 to 0-1 so that scales::label_percent() can format\n  # it as an actual percent\n  mutate(prop_women_parl = prop_women_parl / 100) |&gt; \n  mutate(fancy_label = paste0(country, \"&lt;br&gt;\", \n                              label_percent(accuracy = 0.1)(prop_women_parl), \n                              \" women in parliament\"))\n\n\nLet’s check to see if it worked:\n\n\nCode\nwdi_2019 |&gt; select(country, prop_women_parl, fancy_label) |&gt; head()\n## # A tibble: 6 × 3\n##   country             prop_women_parl fancy_label                                     \n##   &lt;chr&gt;                         &lt;dbl&gt; &lt;chr&gt;                                           \n## 1 Afghanistan                   0.279 Afghanistan&lt;br&gt;27.9% women in parliament        \n## 2 Albania                       0.295 Albania&lt;br&gt;29.5% women in parliament            \n## 3 Algeria                       0.258 Algeria&lt;br&gt;25.8% women in parliament            \n## 4 Andorra                       0.464 Andorra&lt;br&gt;46.4% women in parliament            \n## 5 Angola                        0.3   Angola&lt;br&gt;30.0% women in parliament             \n## 6 Antigua and Barbuda           0.111 Antigua and Barbuda&lt;br&gt;11.1% women in parliament\n\n\nNow instead of using text = country we’ll use text = fancy_label to map that new column onto the plot. Again, this won’t be visible in the static plot (and you’ll get a warning), but it will show up in the interactive plot.\n\n\nCode\nstatic_plot_toolip_fancy &lt;- ggplot(wdi_2019, \n                                   aes(y = fct_rev(region), \n                                       x = prop_women_parl, \n                                       color = region)) +\n  geom_point(aes(text = fancy_label),\n             position = position_jitter(width = 0, height = 0.15, seed = 1234)) +\n  guides(color = \"none\") +\n  scale_x_continuous(labels = label_percent()) +\n  # I used https://medialab.github.io/iwanthue/ to generate these colors\n  scale_color_manual(values = c(\"#425300\", \"#e680ff\", \"#01bd71\", \"#ff3aad\",\n                                \"#9f3e00\", \"#0146bf\", \"#671d56\")) +\n  labs(x = \"% women in parliament\", y = NULL, caption = \"Source: The World Bank\") +\n  theme_bw()\n## Warning in geom_point(aes(text = fancy_label), position = position_jitter(width = 0, : Ignoring unknown aesthetics: text\n\n\n\n\nCode\nggplotly(static_plot_toolip_fancy, tooltip = \"text\")\n\n\n\n\n\n\nPerfect!\nFinally, if we want to save this plot as a standalone self-contained HTML file, we can use the saveWidget() function from the {htmlwidgets} package.\n\n\nCode\n# This is like ggsave, but for interactive HTML plots\ninteractive_plot &lt;- ggplotly(static_plot_toolip_fancy, tooltip = \"text\")\n\nhtmlwidgets::saveWidget(interactive_plot, \"fancy_plot.html\")",
    "crumbs": [
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "example/11-example.html#making-a-dashboard-with-quarto",
    "href": "example/11-example.html#making-a-dashboard-with-quarto",
    "title": "Interactivity",
    "section": "Making a dashboard with Quarto",
    "text": "Making a dashboard with Quarto\nThe documentation for Quarto Dashboards is pretty comprehensive and easy to follow. Visit and read these pages to see how they work:\n\nOverview\nUsing Dashboards (and all the subpages)\nExamples\n\nWatch this video by one of the developers of Quarto to see a demonstration of how to make one:",
    "crumbs": [
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "example/08-example.html",
    "href": "example/08-example.html",
    "title": "Comparisons",
    "section": "",
    "text": "For this example, we’re going to use cross-national data, but instead of using the typical gapminder dataset, we’re going to collect data directly from the World Bank’s Open Data portal\nIf you want to skip the data downloading, you can download the data below (you’ll likely need to right click and choose “Save Link As…”):",
    "crumbs": [
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "example/08-example.html#live-coding-example",
    "href": "example/08-example.html#live-coding-example",
    "title": "Comparisons",
    "section": "Live coding example",
    "text": "Live coding example\n\n\n\n\n\n\n\n\n\n\nImportantSlight differences from the video\n\n\n\nThis is a slightly cleaned up version of the code from the video.",
    "crumbs": [
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "example/08-example.html#load-and-clean-data",
    "href": "example/08-example.html#load-and-clean-data",
    "title": "Comparisons",
    "section": "Load and clean data",
    "text": "Load and clean data\nFirst, we load the libraries we’ll be using:\n\n\nCode\nlibrary(tidyverse)  # For ggplot, dplyr, and friends\nlibrary(WDI)        # For getting data from the World Bank\nlibrary(geofacet)   # For map-shaped facets\nlibrary(scales)     # For helpful scale functions like label_dollar()\nlibrary(ggrepel)    # For non-overlapping labels\n\n\nThe World Bank has a ton of country-level data at data.worldbank.org. We can use a package named {WDI} (world development indicators) to access their servers and download the data directly into R.\nTo do this, we need to find the special World Bank codes for specific variables we want to get. These codes come from the URLs of the World Bank’s website. For instance, if you search for “access to electricity” at the World Bank’s website, you’ll find this page. If you look at the end of the URL, you’ll see a cryptic code: EG.ELC.ACCS.ZS. That’s the World Bank’s ID code for the “Access to electricity (% of population)” indicator.\nWe can feed a list of ID codes to the WDI() function to download data for those specific indicators. We can feed it a list of just the codes (e.g., c(\"SP.DYN.LE00.IN\", \"EG.ELC.ACCS.ZS\", ...)), but then the columns will be named with those ugly inscrutable names. Alternatively, we can feed the WDI() function a named list (e.g. c(life_expectancy = \"SP.DYN.LE00.IN\", ...)), which will create columns using the names we specify there. This is much nicer.\nWe want data from 1995-2015, so we set the start and end years accordingly. The extra=TRUE argument means that it’ll also include other helpful details like region, aid status, etc. Without it, it would only download the indicators we listed.\n\n\nCode\nindicators &lt;- c(life_expectancy = \"SP.DYN.LE00.IN\",  # Life expectancy\n                access_to_electricity = \"EG.ELC.ACCS.ZS\",  # Access to electricity\n                co2_emissions = \"EN.GHG.ALL.MT.CE.AR5\",  # CO2 emissions\n                gdp_per_cap = \"NY.GDP.PCAP.KD\")  # GDP per capita\n\nwdi_raw &lt;- WDI(country = \"all\", indicators, extra = TRUE, \n               start = 1995, end = 2015)\n\nhead(wdi_raw)\n\n\nDownloading data from the World Bank every time you knit will get tedious and take a long time (plus if their servers are temporarily down, you won’t be able to get the data). It’s good practice to save this raw data as a CSV file and then work with that.\n\n\nCode\nwrite_csv(wdi_raw, \"data/wdi_comparisons.csv\")\n\n\nSince we care about reproducibility, we still want to include the code we used to get data from the World Bank, we just don’t want it to actually run. You can include chunks but not run them by setting eval=FALSE in the chunk options. In this little example, we show the code for downloading the data, but we don’t evaluate the chunk. We then include a chunk that loads the data from a CSV file with read_csv(), but we don’t include it (include=FALSE). That way, in the rendered file we see the WDI() code, but in reality it’s loading the data from CSV. Super tricky.\nI first download data from the World Bank:\n\n```{r get-wdi-data, eval=FALSE}\nwdi_raw &lt;- WDI(...)\n\nwrite_csv(wdi_raw, \"data/wdi_comparisons.csv\")\n```\n\n```{r load-wdi-data-real, include=FALSE}\nwdi_raw &lt;- read_csv(\"data/wdi_comparisons.csv\")\n```\nThen we clean up the data a little by filtering out rows that aren’t actually countries:\n\n\nCode\nwdi_clean &lt;- wdi_raw |&gt; \n  filter(region != \"Aggregates\")\n\nhead(wdi_clean)\n## # A tibble: 6 × 15\n##   country     iso2c iso3c  year status lastupdated access_to_electricity co2_emissions gdp_per_cap region    capital longitude latitude income lending\n##   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;                      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;  \n## 1 Afghanistan AF    AFG    1999 NA     2026-02-24                   NA          0.0685         NA  South As… Kabul        69.2     34.5 Low i… IDA    \n## 2 Afghanistan AF    AFG    2001 NA     2026-02-24                    9.3        0.0464        277. South As… Kabul        69.2     34.5 Low i… IDA    \n## 3 Afghanistan AF    AFG    2014 NA     2026-02-24                   89.5        0.243         575. South As… Kabul        69.2     34.5 Low i… IDA    \n## 4 Afghanistan AF    AFG    1998 NA     2026-02-24                   NA          0.0736         NA  South As… Kabul        69.2     34.5 Low i… IDA    \n## 5 Afghanistan AF    AFG    1997 NA     2026-02-24                   NA          0.0744         NA  South As… Kabul        69.2     34.5 Low i… IDA    \n## 6 Afghanistan AF    AFG    2000 NA     2026-02-24                    4.4        0.0501        308. South As… Kabul        69.2     34.5 Low i… IDA",
    "crumbs": [
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "example/08-example.html#small-multiples",
    "href": "example/08-example.html#small-multiples",
    "title": "Comparisons",
    "section": "Small multiples",
    "text": "Small multiples\nFirst we can make some small multiples plots and show life expectancy over time for a handful of countries. We’ll make a list of some countries chosen at random while I scrolled through the data, and then filter our data to include only those rows. We then plot life expectancy, faceting by country.\n\n\nCode\nlife_expectancy_small &lt;- wdi_clean |&gt;\n  filter(country %in% c(\"Argentina\", \"Bolivia\", \"Brazil\", \n                        \"Belize\", \"Canada\", \"Chile\"))\n\nggplot(data = life_expectancy_small, \n       mapping = aes(x = year, y = life_expectancy)) +\n  geom_line(linewidth = 1) +\n  facet_wrap(vars(country))\n\n\nSmall multiples! That’s all we need to do.\nWe can do some fancier things, though. We can make this plot hyper minimalist:\n\n\nCode\nggplot(data = life_expectancy_small, \n       mapping = aes(x = year, y = life_expectancy)) +\n  geom_line(linewidth = 1) +\n  facet_wrap(vars(country), scales = \"free_y\") +\n  theme_void() +\n  theme(strip.text = element_text(face = \"bold\"))\n\n\nWe can do a whole part of a continent (poor Iraq and Syria 😿)\n\n\nCode\nlife_expectancy_mena &lt;- wdi_clean |&gt; \n  filter(region == \"Middle East & North Africa\")\n\nggplot(data = life_expectancy_mena, \n       mapping = aes(x = year, y = life_expectancy)) +\n  geom_line(linewidth = 1) +\n  facet_wrap(vars(country), scales = \"free_y\", nrow = 3) +\n  theme_void() +\n  theme(strip.text = element_text(face = \"bold\"))\n\n\nWe can use the {geofacet} package to arrange these facets by geography:\n\n\nCode\nlife_expectancy_eu &lt;- wdi_clean |&gt; \n  filter(region == \"Europe & Central Asia\")\n\nggplot(life_expectancy_eu, aes(x = year, y = life_expectancy)) +\n  geom_line(linewidth = 1) +\n  facet_geo(vars(country), grid = \"eu_grid1\", scales = \"free_y\") +\n  labs(x = NULL, y = NULL, title = \"Life expectancy from 1995–2015\",\n       caption = \"Source: The World Bank (SP.DYN.LE00.IN)\") +\n  theme_minimal() +\n  theme(strip.text = element_text(face = \"bold\"),\n        plot.title = element_text(face = \"bold\"),\n        axis.text.x = element_text(angle = 45, hjust = 1))\n\n\nNeat!",
    "crumbs": [
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "example/08-example.html#sparklines",
    "href": "example/08-example.html#sparklines",
    "title": "Comparisons",
    "section": "Sparklines",
    "text": "Sparklines\nSparklines are just line charts (or bar charts) that are really really small.\n\n\nCode\nindia_co2 &lt;- wdi_clean |&gt; \n  filter(country == \"India\")\n\nplot_india &lt;- ggplot(india_co2, aes(x = year, y = co2_emissions)) +\n  geom_line() +\n  theme_void()\nplot_india\n\n\n\n\n\n\n\n\n\n\n\nCode\nggsave(\"india_co2.pdf\", plot_india, width = 1, height = 0.15, units = \"in\")\nggsave(\"india_co2.png\", plot_india, width = 1, height = 0.15, units = \"in\")\n\n\n\n\nCode\nchina_co2 &lt;- wdi_clean |&gt; \n  filter(country == \"China\")\n\nplot_china &lt;- ggplot(china_co2, aes(x = year, y = co2_emissions)) +\n  geom_line() +\n  theme_void()\nplot_china\n\n\n\n\n\n\n\n\n\n\n\nCode\nggsave(\"china_co2.pdf\", plot_china, width = 1, heighlt = 0.15, units = \"in\")\nggsave(\"china_co2.png\", plot_china, width = 1, height = 0.15, units = \"in\")\n\n\nYou can then use those saved tiny plots in your text.\n\nBoth India  and China  have seen increased CO2 emissions over the past 20 years.",
    "crumbs": [
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "example/08-example.html#slopegraphs",
    "href": "example/08-example.html#slopegraphs",
    "title": "Comparisons",
    "section": "Slopegraphs",
    "text": "Slopegraphs\nWe can make a slopegraph to show changes in GDP per capita between two time periods. We need to first filter our WDI to include only the start and end years (here 1995 and 2015). Then, to make sure that we’re using complete data, we’ll get rid of any country that has missing data for either 1995 or 2015. The group_by(...) |&gt; filter(...) |&gt; ungroup() pipeline does this, with the !any(is.na(gdp_per_cap)) test keeping any rows where any of the gdp_per_cap values are not missing for the whole country.\nWe then add a couple special columns for labels. The paste0() function concatenates strings and variables together, so that paste0(\"2 + 2 = \", 2 + 2) would show “2 + 2 = 4”. Here we make labels that say either “Country name: $GDP” or “$GDP” depending on the year.\n\n\nCode\ngdp_south_asia &lt;- wdi_clean |&gt; \n  filter(region == \"South Asia\") |&gt; \n  filter(year %in% c(1995, 2015)) |&gt; \n  # Look at each country individually\n  group_by(country) |&gt;\n  # Remove the country if any of its gdp_per_cap values are missing\n  filter(!any(is.na(gdp_per_cap))) |&gt;\n  ungroup() |&gt;\n  # Make year a factor\n  mutate(year = factor(year)) |&gt; \n  # Make some nice label columns\n  # If the year is 1995, format it like \"Country name: $GDP\". If the year is\n  # 2015, format it like \"$GDP\"\n  mutate(label_first = ifelse(year == 1995, paste0(country, \": \", label_dollar()(round(gdp_per_cap))), NA),\n         label_last = ifelse(year == 2015, label_dollar()(round(gdp_per_cap, 0)), NA))\n\n\nWith the data filtered like this, we can plot it by mapping year to the x-axis, GDP per capita to the y-axis, and coloring by country. To make the lines go across the two categorical labels in the x-axis (since we made year a factor/category), we need to also specify the group aesthetic.\n\n\nCode\nggplot(gdp_south_asia, aes(x = year, y = gdp_per_cap, group = country, color = country)) +\n  geom_line(linewidth = 1.5)\n\n\nCool! We’re getting closer. We can definitely see different slopes, but with 7 different colors, it’s hard to see exactly which country is which. Instead, we can directly label each of these lines with geom_text():\n\n\nCode\nggplot(gdp_south_asia, aes(x = year, y = gdp_per_cap, group = country, color = country)) +\n  geom_line(linewidth = 1.5) +\n  geom_text(aes(label = country)) +\n  guides(color = \"none\")\n\n\nThat gets us a little closer, but the country labels are hard to see, and we could include more information, like the actual values. Remember those label_first and label_last columns we made? Let’s use those instead:\n\n\nCode\nggplot(gdp_south_asia, aes(x = year, y = gdp_per_cap, group = country, color = country)) +\n  geom_line(linewidth = 1.5) +\n  geom_text(aes(label = label_first)) +\n  geom_text(aes(label = label_last)) +\n  guides(color = \"none\")\n\n\nNow we have dollar amounts and country names, but the labels are still overlapping and really hard to read. To fix this, we can make the labels repel away from each other and randomly position in a way that makes them not overlap. The {ggrepel} package lets us do this with geom_text_repel()\n\n\nCode\nggplot(gdp_south_asia, aes(x = year, y = gdp_per_cap, group = country, color = country)) +\n  geom_line(linewidth = 1.5) +\n  geom_text_repel(aes(label = label_first)) +\n  geom_text_repel(aes(label = label_last)) +\n  guides(color = \"none\")\n\n\nNow none of the labels are on top of each other, but the labels are still on top of the lines. Also, some of the labels moved inward and outward along the x-axis, but they don’t need to do that—they just need to shift up and down. We can force the labels to only move up and down by setting the direction = \"y\" argument, and we can move all the labels to the left or right with the nudge_x argument. The seed argument makes sure that the random label placement is the same every time we run this. It can be whatever number you want—it just has to be a number.\n\n\nCode\nggplot(gdp_south_asia, aes(x = year, y = gdp_per_cap, group = country, color = country)) +\n  geom_line(linewidth = 1.5) +\n  geom_text_repel(aes(label = label_first), direction = \"y\", nudge_x = -1, seed = 1234) +\n  geom_text_repel(aes(label = label_last), direction = \"y\", nudge_x = 1, seed = 1234) +\n  guides(color = \"none\")\n\n\nThat’s it! Let’s take the theme off completely, change the colors a little, and it should be perfect.\n\n\nCode\nggplot(gdp_south_asia, aes(x = year, y = gdp_per_cap, group = country, color = country)) +\n  geom_line(linewidth = 1.5) +\n  geom_text_repel(aes(label = label_first), direction = \"y\", nudge_x = -1, seed = 1234) +\n  geom_text_repel(aes(label = label_last), direction = \"y\", nudge_x = 1, seed = 1234) +\n  guides(color = \"none\") +\n  scale_color_viridis_d(option = \"magma\", end = 0.9) +\n  theme_void()",
    "crumbs": [
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "example/08-example.html#bump-charts",
    "href": "example/08-example.html#bump-charts",
    "title": "Comparisons",
    "section": "Bump charts",
    "text": "Bump charts\nFinally, we can make a bump chart that shows changes in rankings over time. We’ll look at CO2 emissions in South Asia. First we need to calculate a new variable that shows the rank of each country within each year. We can do this if we group by year and then use the rank() function to rank countries by the co2_emissions column.\n\n\nCode\nsa_co2 &lt;- wdi_clean |&gt; \n  filter(region == \"South Asia\") |&gt; \n  filter(year &gt;= 2004, year &lt; 2015) |&gt; \n  group_by(year) |&gt; \n  mutate(rank = rank(co2_emissions))\n\n\nWe then plot this with points and lines, reversing the y-axis so 1 is at the top:\n\n\nCode\nggplot(sa_co2, aes(x = year, y = rank, color = country)) +\n  geom_line() +\n  geom_point() +\n  scale_y_reverse(breaks = 1:8)\n\n\nAfghanistan and Nepal switched around for the number 1 spot, while Pakistan bounced around between 4, 5, and 6.\nAs with the slopegraph, there are 8 different colors in the legend and it’s hard to line them all up with the different lines, so we can plot the text directly instead. We’ll use geom_text() again. We don’t need to repel anything, since the text should fit in each row just fine. We need to change the data argument in geom_text() though and filter the data to only include one year, otherwise we’ll get labels on every point, which is excessive. We can also adjust the theme and colors to make it cleaner.\n\n\nCode\nggplot(sa_co2, aes(x = year, y = rank, color = country)) +\n  geom_line(linewidth = 2) +\n  geom_point(size = 4) +\n  geom_text(data = filter(sa_co2, year == 2004),\n            aes(label = iso2c, x = 2003.25),\n            fontface = \"bold\") +\n  geom_text(data = filter(sa_co2, year == 2014),\n            aes(label = iso2c, x = 2014.75),\n            fontface = \"bold\") +\n  guides(color = \"none\") +\n  scale_y_reverse(breaks = 1:8) +\n  scale_x_continuous(breaks = 2004:2014) +\n  scale_color_viridis_d(option = \"magma\", begin = 0.2, end = 0.9) +\n  labs(x = NULL, y = \"Rank\") +\n  theme_minimal() +\n  theme(panel.grid.major.y = element_blank(),\n        panel.grid.minor.y = element_blank(),\n        panel.grid.minor.x = element_blank())\n\n\nIf you want to be super fancy, you can use flags instead of country codes, but that’s a little more complicated (you need to install the {ggflags} package. See here for an example.",
    "crumbs": [
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "example/06-example.html",
    "href": "example/06-example.html",
    "title": "Uncertainty",
    "section": "",
    "text": "For this example, we’re going to use historical weather data from the now-defunct Dark Sky about wind speed and temperature trends for downtown Atlanta (specifically 33.754557, -84.390009) in 2019. I downloaded this data using Dark Sky’s (now-retired-because-they-were-bought-by-Apple) API using the {darksky} package.\nIf you want to follow along with this example, you can download the data below (you’ll likely need to right click and choose “Save Link As…”):",
    "crumbs": [
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "example/06-example.html#live-coding-example",
    "href": "example/06-example.html#live-coding-example",
    "title": "Uncertainty",
    "section": "Live coding example",
    "text": "Live coding example\n\n\n\n\n\n\n\n\n\n\nImportantSlight differences from the video\n\n\n\nThis is a slightly cleaned up version of the code from the video.",
    "crumbs": [
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "example/06-example.html#load-and-clean-data",
    "href": "example/06-example.html#load-and-clean-data",
    "title": "Uncertainty",
    "section": "Load and clean data",
    "text": "Load and clean data\n\n\n\n\n\n\nImportant{gghalves} updates!\n\n\n\n{ggplot2} 4.0 was released in September 2025 (see here for all its new features) and it introduced some feautres that broke many packages that extend ggplot, including {gghalves}. If you install the version of {gghalves} from CRAN like normal, you’ll get errors like this:\n#&gt; Error in geom_half_point() : \n#&gt; ℹ Error occurred in the 1st layer.\n#&gt; Caused by error in fun():\n#&gt; ! argument \"layout\" is missing, with no default\nThis has been reported as a bug here. One of the main ggplot developers made a copy of {gghalves} and fixed the issue, though. The fix hasn’t been incorporated into the main {gghalves} package yet, but you can install his version by (1) restarting your R session, and (2) running this:\nremotes::install_github(\"teunbrand/gghalves@compat_ggplot2_400\")\nThat’ll replace the normal version of {gghalves} with the fixed version for ggplot 4.0. Eventually the {gghalves} developer will merge those changes into the main package, but this works for now!\n\n\nFirst, we load the libraries we’ll be using:\n\n\nCode\nlibrary(tidyverse)\nlibrary(ggridges)\nlibrary(gghalves)\n\n\nThen we load the data with read_csv(). Here I assume that the CSV file lives in a subfolder in my project named data:\n\n\nCode\nweather_atl_raw &lt;- read_csv(\"data/atl-weather-2019.csv\")\n\n\nWe’ll add a couple columns that we can use for faceting and filling using the month() and wday() functions from {lubridate} (which was loaded as part of {tidyverse}) for extracting parts of the date:\n\n\nCode\nweather_atl &lt;- weather_atl_raw |&gt; \n  mutate(Month = month(time, label = TRUE, abbr = FALSE),\n         Day = wday(time, label = TRUE, abbr = FALSE))\n\n\nNow we’re ready to go!",
    "crumbs": [
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "example/06-example.html#histograms",
    "href": "example/06-example.html#histograms",
    "title": "Uncertainty",
    "section": "Histograms",
    "text": "Histograms\nWe can first make a histogram of wind speed. We’ll use a bin width of 1 and color the edges of the bars white:\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed)) +\n  geom_histogram(binwidth = 1, color = \"white\")\n\n\n\n\n\n\n\n\n\nThis is fine enough, but we can improve it by forcing the buckets/bins to start at whole numbers instead of containing ranges like 2.5–3.5. We’ll use the boundary argument for that. We also add scale_x_continuous() to add our own x-axis breaks instead of having things like 2.5, 5, and 7.5:\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed)) +\n  geom_histogram(binwidth = 1, color = \"white\", boundary = 1) +\n  scale_x_continuous(breaks = seq(0, 12, by = 1))\n\n\n\n\n\n\n\n\n\nWe can show the distribution of wind speed by month if we map the Month column we made onto the fill aesthetic:\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed, fill = Month)) +\n  geom_histogram(binwidth = 1, color = \"white\", boundary = 1) +\n  scale_x_continuous(breaks = seq(0, 12, by = 1))\n\n\n\n\n\n\n\n\n\nThis is colorful, but it’s impossible to actually interpret. Instead of only filling, we’ll also facet by month to see separate graphs for each month. We can turn off the fill legend because it’s now redundant.\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed, fill = Month)) +\n  geom_histogram(binwidth = 1, color = \"white\", boundary = 1) +\n  scale_x_continuous(breaks = seq(0, 12, by = 1)) + \n  guides(fill = \"none\") +\n  facet_wrap(vars(Month))\n\n\n\n\n\n\n\n\n\nNeat! January, March, and April appear to have the most variation in windy days, with a few wind-less days and a few very-windy days, while August was very wind-less.",
    "crumbs": [
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "example/06-example.html#density-plots",
    "href": "example/06-example.html#density-plots",
    "title": "Uncertainty",
    "section": "Density plots",
    "text": "Density plots\nThe code to create a density plot is nearly identical to what we used for the histogram—the only thing we change is the geom layer:\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed)) +\n  geom_density(color = \"grey20\", fill = \"grey50\")\n\n\n\n\n\n\n\n\n\nIf we want, we can mess with some of the calculus options like the kernel and bandwidth:\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed)) +\n  geom_density(color = \"grey20\", fill = \"grey50\",\n               bw = 0.1, kernel = \"epanechnikov\")\n\n\n\n\n\n\n\n\n\nWe can also fill by month. We’ll make the different layers 50% transparent so we can kind of see through the whole stack:\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed, fill = Month)) +\n  geom_density(alpha = 0.5)\n\n\n\n\n\n\n\n\n\nEven with the transparency, this is really hard to interpret. We can fix this by faceting, like we did with the histograms:\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed, fill = Month)) +\n  geom_density(alpha = 0.5) +\n  guides(fill = \"none\") +\n  facet_wrap(vars(Month))\n\n\n\n\n\n\n\n\n\nOr we can stack the density plots behind each other with {ggridges}. For that to work, we also need to map Month to the y-axis. We can reverse the y-axis so that January is at the top if we use the fct_rev() function:\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed, y = fct_rev(Month), fill = Month)) +\n  geom_density_ridges() +\n  guides(fill = \"none\")\n\n\n\n\n\n\n\n\n\nWe can add some extra information to geom_density_ridges() with some other arguments like quantile_lines. We can use the quantiles argument to tell the plow how many parts to be cut into. Since we just want to show the median, we’ll set that to 2 so each density plot is divided in half:\n\n\nCode\nggplot(weather_atl, aes(x = windSpeed, y = fct_rev(Month), fill = Month)) +\n  geom_density_ridges(quantile_lines = TRUE, quantiles = 2) +\n  guides(fill = \"none\")\n\n\n\n\n\n\n\n\n\nNow that we have good working code, we can easily substitute in other variables by changing the x mapping:\n\n\nCode\nggplot(weather_atl, aes(x = temperatureHigh, y = fct_rev(Month), fill = Month)) +\n  geom_density_ridges(quantile_lines = TRUE, quantiles = 2) +\n  guides(fill = \"none\")\n\n\n\n\n\n\n\n\n\nWe can get extra fancy if we fill by temperature instead of filling by month. To get this to work, we need to use geom_density_ridges_gradient(), and we need to change the fill mapping to the strange looking after_stat(x), which is a neat ggplot trick that tells it to use the variable we mapped to the x-axis. For whatever reason, fill = temperatureHigh doesn’t work 🤷:\n\n\nCode\nggplot(weather_atl, aes(x = temperatureHigh, y = fct_rev(Month), fill = after_stat(x))) +\n  geom_density_ridges_gradient(quantile_lines = TRUE, quantiles = 2) +\n  scale_fill_viridis_c(option = \"plasma\") +\n  labs(x = \"High temperature\", y = NULL, color = \"Temp\")\n\n\n\n\n\n\n\n\n\nAnd finally, we can get extra fancy and show the distributions for both the high and low temperatures each month. To make this work, we need to manipulate the data a little. Right now there are two columns for high and low temperature: temperatureLow and temperatureHigh. To be able to map temperature to the x-axis and high vs. low to another aesthetic (like linetype), we need a column with the temperature and a column with an indicator variable for whether it is high or low. This data needs to be tidied (since right now we have a variable (high/low) encoded in the column name). We can tidy this data using pivot_longer() from {tidyr}, which was already loaded with library(tidyverse).\n\n\nCode\nweather_atl_long &lt;- weather_atl |&gt; \n  pivot_longer(cols = c(temperatureLow, temperatureHigh),\n               names_to = \"temp_type\",\n               values_to = \"temp\") |&gt; \n  # Clean up the new temp_type column so that \"temperatureHigh\" becomes \"High\", etc.\n  mutate(temp_type = recode(temp_type, \n                            temperatureHigh = \"High\",\n                            temperatureLow = \"Low\")) |&gt; \n  # This is optional—just select a handful of columns\n  select(time, temp_type, temp, Month) \n\n# Show the first few rows\nhead(weather_atl_long)\n## # A tibble: 6 × 4\n##   time                temp_type  temp Month  \n##   &lt;dttm&gt;              &lt;chr&gt;     &lt;dbl&gt; &lt;ord&gt;  \n## 1 2019-01-01 05:00:00 Low        50.6 January\n## 2 2019-01-01 05:00:00 High       63.9 January\n## 3 2019-01-02 05:00:00 Low        49.0 January\n## 4 2019-01-02 05:00:00 High       57.4 January\n## 5 2019-01-03 05:00:00 Low        53.1 January\n## 6 2019-01-03 05:00:00 High       55.3 January\n\n\nNow we have a column for the temperature (temp) and a column indicating if it is high or low (temp_type). The dataset is also twice as long (730 rows) because each day has two rows (high and low). Let’s plot it and map high/low to the linetype aesthetic to show high/low in the border of the plots:\n\n\nCode\nggplot(weather_atl_long, aes(x = temp, y = fct_rev(Month), \n                             fill = after_stat(x), linetype = temp_type)) +\n  geom_density_ridges_gradient(quantile_lines = TRUE, quantiles = 2) +\n  scale_fill_viridis_c(option = \"plasma\") +\n  labs(x = \"High temperature\", y = NULL, color = \"Temp\")\n\n\n\n\n\n\n\n\n\nSuper neat! We can see much wider temperature disparities during the summer, with large gaps between high and low, and relatively equal high/low temperatures during the winter.",
    "crumbs": [
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "example/06-example.html#box-violin-and-rain-cloud-plots",
    "href": "example/06-example.html#box-violin-and-rain-cloud-plots",
    "title": "Uncertainty",
    "section": "Box, violin, and rain cloud plots",
    "text": "Box, violin, and rain cloud plots\nFinally, we can look at the distribution of variables with box plots, violin plots, and other similar graphs. First, we’ll make a box plot of windspeed, filled by the Day variable we made indicating weekday:\n\n\nCode\nggplot(weather_atl,\n       aes(y = windSpeed, fill = Day)) +\n  geom_boxplot()\n\n\n\n\n\n\n\n\n\nWe can switch this to a violin plot by just changing the geom layer and mapping Day to the x-axis:\n\n\nCode\nggplot(weather_atl,\n       aes(y = windSpeed, x = Day, fill = Day)) +\n  geom_violin()\n\n\n\n\n\n\n\n\n\nWith violin plots it’s typically good to overlay other geoms. We can add some jittered points for a strip plot:\n\n\nCode\nggplot(weather_atl,\n       aes(y = windSpeed, x = Day, fill = Day)) +\n  geom_violin() +\n  geom_point(size = 0.5, position = position_jitter(width = 0.1)) +\n  guides(fill = \"none\")\n\n\n\n\n\n\n\n\n\nWe can also add larger points for the daily averages. We’ll use a special layer for this: stat_summary(). It has a slightly different syntax, since we’re not actually mapping a column from the dataset. Instead, we’re feeding a column from a dataset into a function (here \"mean\") and then plotting that result:\n\n\nCode\nggplot(weather_atl,\n       aes(y = windSpeed, x = Day, fill = Day)) +\n  geom_violin() +\n  stat_summary(geom = \"point\", fun = \"mean\", size = 5, color = \"white\") +\n  geom_point(size = 0.5, position = position_jitter(width = 0.1)) +\n  guides(fill = \"none\")\n\n\n\n\n\n\n\n\n\nWe can also show the mean and confidence interval at the same time by changing the summary function:\n\n\nCode\nggplot(weather_atl,\n       aes(y = windSpeed, x = Day, fill = Day)) +\n  geom_violin() +\n  stat_summary(geom = \"pointrange\", fun.data = \"mean_se\", size = 1, color = \"white\") +\n  geom_point(size = 0.5, position = position_jitter(width = 0.1)) +\n  guides(fill = \"none\")\n\n\n\n\n\n\n\n\n\nOverlaying the points directly on top of the violins shows extra information, but it’s also really crowded and hard to read. If we use the {gghalves} package, we can use special halved versions of some of these geoms like so:\n\n\nCode\nggplot(weather_atl,\n       aes(x = fct_rev(Day), y = temperatureHigh)) +\n  geom_half_point(aes(color = Day), side = \"l\", size = 0.5) +\n  geom_half_boxplot(aes(fill = Day), side = \"r\") +\n  guides(color = \"none\", fill = \"none\")\n\n\n\n\n\n\n\n\n\nNote the side argument for specifying which half of the column the geom goes. We can also use geom_half_violin():\n\n\nCode\nggplot(weather_atl,\n       aes(x = fct_rev(Day), y = temperatureHigh)) +\n  geom_half_point(aes(color = Day), side = \"l\", size = 0.5) +\n  geom_half_violin(aes(fill = Day), side = \"r\") +\n  guides(color = \"none\", fill = \"none\")\n\n\n\n\n\n\n\n\n\nIf we flip the plot, we can make a rain cloud plot:\n\n\nCode\nggplot(weather_atl,\n       aes(x = fct_rev(Day), y = temperatureHigh)) +\n  geom_half_boxplot(aes(fill = Day), side = \"l\", width = 0.5, nudge = 0.1) +\n  geom_half_point(aes(color = Day), side = \"l\", size = 0.5) +\n  geom_half_violin(aes(fill = Day), side = \"r\") +\n  guides(color = \"none\", fill = \"none\") + \n  coord_flip()\n\n\n\n\n\n\n\n\n\nNeat!",
    "crumbs": [
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "example/04-example.html",
    "href": "example/04-example.html",
    "title": "Amounts and proportions",
    "section": "",
    "text": "For this example, we’re going to use real world data to demonstrate some different ways to visualize amounts and proportions. We’ll use data from the CDC and the Social Security Administration about the number of daily births in the United States from 1994–2014. FiveThirtyEight reported a story using this data in 2016 and they posted relatively CSV files on GitHub, so we can download and use those.\nIf you want to follow along with this example, you can download the data directly from GitHub or by using these links (you’ll likely need to right click on these and choose “Save Link As…”):",
    "crumbs": [
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "example/04-example.html#live-coding-example",
    "href": "example/04-example.html#live-coding-example",
    "title": "Amounts and proportions",
    "section": "Live coding example",
    "text": "Live coding example\n\n\n\n\n\n\n\n\n\n\nImportantSlight differences from the video\n\n\n\nThis is a slightly cleaned up version of the code from the video.",
    "crumbs": [
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "example/04-example.html#load-data",
    "href": "example/04-example.html#load-data",
    "title": "Amounts and proportions",
    "section": "Load data",
    "text": "Load data\nThere are two CSV files:\n\nUS_births_1994-2003_CDC_NCHS.csv contains U.S. births data for the years 1994 to 2003, as provided by the Centers for Disease Control and Prevention’s National Center for Health Statistics.\nUS_births_2000-2014_SSA.csv contains U.S. births data for the years 2000 to 2014, as provided by the Social Security Administration.\n\nSince the two datasets overlap in 2000–2003, we use Social Security Administration data for those years.\nWe downloaded the data from GitHub and placed the CSV files in a folder named data. We’ll then load them with read_csv() and combine them into one data frame.\n\n\nCode\nlibrary(tidyverse)\nlibrary(scales)   # For nice labels in charts\n\nbirths_1994_1999 &lt;- read_csv(\"data/US_births_1994-2003_CDC_NCHS.csv\") |&gt; \n  # Ignore anything after 2000\n  filter(year &lt; 2000)\n\nbirths_2000_2014 &lt;- read_csv(\"data/US_births_2000-2014_SSA.csv\")\n\nbirths_combined &lt;- bind_rows(births_1994_1999, births_2000_2014)",
    "crumbs": [
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "example/04-example.html#wrangle-data",
    "href": "example/04-example.html#wrangle-data",
    "title": "Amounts and proportions",
    "section": "Wrangle data",
    "text": "Wrangle data\nLet’s look at the first few rows of the data to see what we’re working with:\n\n\nCode\nhead(births_combined)\n## # A tibble: 6 × 5\n##    year month date_of_month day_of_week births\n##   &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt;\n## 1  1994     1             1           6   8096\n## 2  1994     1             2           7   7772\n## 3  1994     1             3           1  10142\n## 4  1994     1             4           2  11248\n## 5  1994     1             5           3  11053\n## 6  1994     1             6           4  11406\n\n\nThe columns for year and births seem straightforward and ready to use. The columns for month and day of the week could be improved if we changed them to text (i.e. January instead of 1; Tuesday instead of 3). To fix this, we can convert these columns to categorical variables, or factors in R. We can also specify that these categories (or factors) are ordered, meaning that Feburary comes after January, etc. Without ordering, R will plot them alphabetically, which isn’t very helpful.\nWe’ll make a new dataset named births that’s based on the combined births data, but with some new columns added:\n\n\nCode\n# The c() function lets us make a list of values\nmonth_names &lt;- c(\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\",\n                 \"August\", \"September\", \"October\", \"November\", \"December\")\n\nday_names &lt;- c(\"Monday\", \"Tuesday\", \"Wednesday\", \n               \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\")\n\nbirths &lt;- births_combined |&gt; \n  # Make month an ordered factor, using the month_name list as labels\n  mutate(month = factor(month, labels = month_names, ordered = TRUE)) |&gt; \n  mutate(day_of_week = factor(day_of_week, labels = day_names, ordered = TRUE),\n         date_of_month_categorical = factor(date_of_month)) |&gt; \n  # Add a column indicating if the day is on a weekend\n  mutate(weekend = ifelse(day_of_week %in% c(\"Saturday\", \"Sunday\"), TRUE, FALSE))\n\nhead(births)\n## # A tibble: 6 × 7\n##    year month   date_of_month day_of_week births date_of_month_categor…¹ weekend\n##   &lt;dbl&gt; &lt;ord&gt;           &lt;dbl&gt; &lt;ord&gt;        &lt;dbl&gt; &lt;fct&gt;                   &lt;lgl&gt;  \n## 1  1994 January             1 Saturday      8096 1                       TRUE   \n## 2  1994 January             2 Sunday        7772 2                       TRUE   \n## 3  1994 January             3 Monday       10142 3                       FALSE  \n## 4  1994 January             4 Tuesday      11248 4                       FALSE  \n## 5  1994 January             5 Wednesday    11053 5                       FALSE  \n## 6  1994 January             6 Thursday     11406 6                       FALSE  \n## # ℹ abbreviated name: ¹​date_of_month_categorical\n\n\nIf you look at the data now, you can see the columns are changed and have different types. year and date_of_month are still numbers, but month, and day_of_week are ordered factors (ord) and date_of_month_categorical is a regular factor (fct). Technically it’s also ordered, but because it’s already alphabetical (i.e. 2 naturally comes after 1), we don’t need to force it to be in the right order.\nOur births data is now clean and ready to go!",
    "crumbs": [
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "example/04-example.html#bar-plot",
    "href": "example/04-example.html#bar-plot",
    "title": "Amounts and proportions",
    "section": "Bar plot",
    "text": "Bar plot\nFirst we can look at a bar chart showing the total number of births each day. We need to make a smaller summarized dataset and then we’ll plot it:\n\n\nCode\ntotal_births_weekday &lt;- births |&gt; \n  group_by(day_of_week) |&gt; \n  summarize(total = sum(births))\n\nggplot(data = total_births_weekday,\n       mapping = aes(x = day_of_week, y = total, fill = day_of_week)) +\n  geom_col() +\n  # Turn off the fill legend because it's redundant\n  guides(fill = \"none\")\n\n\n\n\n\n\n\n\n\nIf we fill by day of the week, we get 7 different colors, which is fine (I guess), but doesn’t really help tell a story. The main story here is that there are far fewer births during weekends. If we create a new column that flags if a row is Saturday or Sunday, we can fill by that column instead:\n\n\nCode\ntotal_births_weekday &lt;- births |&gt; \n  group_by(day_of_week) |&gt; \n  summarize(total = sum(births)) |&gt; \n  mutate(weekend = ifelse(day_of_week %in% c(\"Saturday\", \"Sunday\"), TRUE, FALSE))\n\nggplot(data = total_births_weekday,\n       mapping = aes(x = day_of_week, y = total, fill = weekend)) +\n  geom_col()\n\n\n\n\n\n\n\n\n\nNeat! Those default colors are kinda ugly, though, so let’s use the principles of preattentive processing and contrast to highlight the weekend bars:\n\n\nCode\nggplot(data = total_births_weekday,\n       mapping = aes(x = day_of_week, y = total, fill = weekend)) +\n  geom_col() +\n  # Use grey and orange\n  scale_fill_manual(values = c(\"grey70\", \"#f2ad22\")) +\n  # Use commas instead of scientific notation\n  scale_y_continuous(labels = label_comma()) +\n  # Turn off the legend since the title shows what the orange is\n  guides(fill = \"none\") +\n  labs(title = \"Weekends are unpopular times for giving birth\",\n       x = NULL, y = \"Total births\")",
    "crumbs": [
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "example/04-example.html#lollipop-chart",
    "href": "example/04-example.html#lollipop-chart",
    "title": "Amounts and proportions",
    "section": "Lollipop chart",
    "text": "Lollipop chart\nSince the ends of the bars are often the most important part of the graph, we can use a lollipop chart to emphasize them. We’ll keep all the same code from our bar chart and make a few changes:\n\nColor by weekend instead of fill by weekend, since points and lines are colored in ggplot, not filled\nSwitch scale_fill_manual() to scale_color_manual() and turn off the color legend in the guides() layer\nSwitch geom_col() to geom_pointrange(). The geom_pointrange() layer requires two additional aesthetics: ymin and ymax for the ends of the lines that come out of the point. Here we’ll set ymin to 0 so it starts at the x-axis, and we’ll set ymax to total so it ends at the point.\n\n\n\nCode\nggplot(data = total_births_weekday,\n       mapping = aes(x = day_of_week, y = total, color = weekend)) +\n  geom_pointrange(aes(ymin = 0, ymax = total),\n                  # Make the lines a little thicker and the dots a little bigger\n                  fatten = 5, size = 1.5) +\n  # Use grey and orange\n  scale_color_manual(values = c(\"grey70\", \"#f2ad22\")) +\n  # Use commas instead of scientific notation\n  scale_y_continuous(labels = label_comma()) +\n  # Turn off the legend since the title shows what the orange is\n  guides(color = \"none\") +\n  labs(title = \"Weekends are unpopular times for giving birth\",\n       x = NULL, y = \"Total births\")\n## Warning: The `fatten` argument of `geom_pointrange()` is deprecated as of ggplot2 4.0.0.\n## ℹ Please use the `size` aesthetic instead.",
    "crumbs": [
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "example/04-example.html#strip-plot",
    "href": "example/04-example.html#strip-plot",
    "title": "Amounts and proportions",
    "section": "Strip plot",
    "text": "Strip plot\nHowever, we want to #barbarplots! (Though they’re arguably okay here, since they show totals and not averages). Let’s show all the data with points. We’ll use the full dataset now, map x to weekday, y to births, and change geom_col() to geom_point(). We’ll tell geom_point() to jitter the points randomly.\n\n\nCode\nggplot(data = births,\n       mapping = aes(x = day_of_week, y = births, color = weekend)) +\n  scale_color_manual(values = c(\"grey70\", \"#f2ad22\")) +\n  geom_point(size = 0.5, position = position_jitter(height = 0)) +\n  guides(color = \"none\")\n\n\n\n\n\n\n\n\n\nThere are some interesting points in the low ends, likely because of holidays like Labor Day and Memorial Day (for the Mondays) and Thanksgiving (for the Thursday). If we had a column that indicated whether a day was a holiday, we could color by that and it would probably explain most of those low numbers. Unfortunately we don’t have that column, and it’d be hard to make. Some holidays are constant (Halloween is always October 31), but some aren’t (Thanksgiving is the fourth Thursday in November, so we’d need to find out which November 20-somethingth each year is the fourth Thursday, and good luck doing that at scale).",
    "crumbs": [
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "example/04-example.html#beeswarm-plot",
    "href": "example/04-example.html#beeswarm-plot",
    "title": "Amounts and proportions",
    "section": "Beeswarm plot",
    "text": "Beeswarm plot\nWe can add some structure to these points if we use the {ggbeeswarm} package, with either geom_beeswarm() or geom_quasirandom(). geom_quasirandom() actually works better here since there are so many points—geom_beeswarm() makes the clusters of points way too wide.\n\n\nCode\nlibrary(ggbeeswarm)\n\nggplot(data = births,\n       mapping = aes(x = day_of_week, y = births, color = weekend)) +\n  scale_color_manual(values = c(\"grey70\", \"#f2ad22\")) +\n  # Make these points suuuper tiny\n  geom_quasirandom(size = 0.0001) +\n  guides(color = \"none\")",
    "crumbs": [
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "example/04-example.html#heatmap",
    "href": "example/04-example.html#heatmap",
    "title": "Amounts and proportions",
    "section": "Heatmap",
    "text": "Heatmap\nFinally, let’s use something non-traditional to show the average births by day in a somewhat proportional way. We can calculate the average number of births every day and then make a heatmap that fills each square by that average, thus showing the relative differences in births per day.\nTo do this, we need to make a summarized data frame with group_by() |&gt; summarize() to calculate the average number of births by month and day of the month (i.e. average for January 1, January 2, etc.).\nWe’ll then make a sort of calendar with date of the month on the x axis, month on the y axis, with heat map squares filled by the daily average. We’ll use geom_tile() to add squares for each day, and then add some extra scale, coordinates, and theme layers to clean up the plot:\n\n\nCode\navg_births_month_day &lt;- births |&gt; \n  group_by(month, date_of_month_categorical) |&gt; \n  summarize(avg_births = mean(births))\n\nggplot(data = avg_births_month_day,\n       # By default, the y-axis will have December at the top, so use fct_rev() to reverse it\n       mapping = aes(x = date_of_month_categorical, y = fct_rev(month), fill = avg_births)) +\n  geom_tile() +\n  # Add viridis colors\n  scale_fill_viridis_c(option = \"inferno\", labels = label_comma()) + \n  # Add nice labels\n  labs(x = \"Day of the month\", y = NULL,\n       title = \"Average births per day\",\n       subtitle = \"1994-2014\",\n       fill = \"Average births\") +\n  # Force all the tiles to have equal widths and heights\n  coord_equal() +\n  # Use a cleaner theme\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nNeat! There are some really interesting trends here. Most obvious, probably, is that very few people are born on New Year’s Day, July 4th, Halloween, Thanksgiving, and Christmas.\n\n\nCode\navg_births_month_day |&gt; \n  arrange(avg_births)\n## # A tibble: 366 × 3\n## # Groups:   month [12]\n##    month    date_of_month_categorical avg_births\n##    &lt;ord&gt;    &lt;fct&gt;                          &lt;dbl&gt;\n##  1 December 25                             6601.\n##  2 January  1                              7827.\n##  3 December 24                             8103.\n##  4 July     4                              8825.\n##  5 January  2                              9356.\n##  6 December 26                             9599.\n##  7 November 27                             9770.\n##  8 November 23                             9919.\n##  9 November 25                            10001 \n## 10 October  31                            10030.\n## # ℹ 356 more rows\n\n\nThe days with the highest average are in mid-September (lol my birthday is #2), likely because that’s about 9 months after the first week of January. July 7th at #7 is odd and I have no idea why it might be so popular 🤷.\n\n\nCode\navg_births_month_day |&gt; \n  arrange(desc(avg_births))\n## # A tibble: 366 × 3\n## # Groups:   month [12]\n##    month     date_of_month_categorical avg_births\n##    &lt;ord&gt;     &lt;fct&gt;                          &lt;dbl&gt;\n##  1 September 9                             12344.\n##  2 September 19                            12285.\n##  3 September 12                            12282.\n##  4 September 17                            12201.\n##  5 September 10                            12190.\n##  6 September 20                            12162.\n##  7 July      7                             12147.\n##  8 September 15                            12126.\n##  9 September 16                            12114.\n## 10 September 18                            12112.\n## # ℹ 356 more rows\n\n\nThe funniest trend is the very visible dark column for the 13th of every month. People really don’t want to give birth on the 13th.",
    "crumbs": [
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "example/02-example.html",
    "href": "example/02-example.html",
    "title": "Graphic design",
    "section": "",
    "text": "For this example, I’m going to critique and improve this random flyer I found posted in the BYU library in September 2018:\nIt’s not the best designed poster, but it’s incredibly typical of what you see in the real world. By applying the principles of CRAP, we can improve the poster significantly.\nIf you download and unzip this file, you can follow along too (but you don’t have to—you can just sit back and enjoy the ride).",
    "crumbs": [
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "example/02-example.html#critique",
    "href": "example/02-example.html#critique",
    "title": "Graphic design",
    "section": "Critique",
    "text": "Critique",
    "crumbs": [
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "example/02-example.html#redesign-in-canva",
    "href": "example/02-example.html#redesign-in-canva",
    "title": "Graphic design",
    "section": "Redesign in Canva",
    "text": "Redesign in Canva",
    "crumbs": [
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "example/02-example.html#redesign-in-illustrator",
    "href": "example/02-example.html#redesign-in-illustrator",
    "title": "Graphic design",
    "section": "Redesign in Illustrator",
    "text": "Redesign in Illustrator",
    "crumbs": [
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "example/02-example.html#final-versions",
    "href": "example/02-example.html#final-versions",
    "title": "Graphic design",
    "section": "Final versions",
    "text": "Final versions",
    "crumbs": [
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "content/index.html",
    "href": "content/index.html",
    "title": "Readings, lectures, and videos",
    "section": "",
    "text": "Each class session has a set of required readings that you should complete before watching the lecture or working through the lesson.\nEvery class session also has a YouTube playlist of short recorded videos for each of the lecture sections. The lecture slides are special HTML files made with the R package {xaringan} (R can do so much!). On each class session page you’ll buttons for opening the presentation in a new tab or for downloading a PDF of the slides in case you want to print them or store them on your computer:\n\n View all slides in new window  Download PDF of all slides\n\nThe slides are also embedded on each page. You can click in the slides and navigate through them with ← and →. If you type ? (or shift + /) while viewing the slides you can see a list of slide-specific commands (like f for fullscreen or p for presenter mode if you want to see my notes).",
    "crumbs": [
      "Content",
      "Overview",
      "Readings, lectures, and videos"
    ]
  },
  {
    "objectID": "content/14-content.html",
    "href": "content/14-content.html",
    "title": "Text",
    "section": "",
    "text": "Foundational principles:\n\n Rohan Alexander, “Text as data,” chapter 16 in Telling Stories with Data\n Look through some of the chapters in Tidy Text Mining (Silge and Robinson 2017) (but definitely don’t read them all! You just need to get a taste of what modern text analysis looks like.)\n Six Ideas for Displaying Qualitative Data\n\nWord clouds:\n\n Word clouds considered harmful\n Word clouds cause death… or something\n When It’s Ok to Use Word Clouds\n\n\n\n\n\n Evangeline Reynolds, “Federalist Papers”\n Julia Silge, “She Giggles, He Gallops”\n Abby Ohlheiser, “These are the words most associated with men and women, according to Facebook status updates”\n The Class of 2011\n Tweet by @s_soroka",
    "crumbs": [
      "Content",
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "content/14-content.html#readings",
    "href": "content/14-content.html#readings",
    "title": "Text",
    "section": "",
    "text": "Foundational principles:\n\n Rohan Alexander, “Text as data,” chapter 16 in Telling Stories with Data\n Look through some of the chapters in Tidy Text Mining (Silge and Robinson 2017) (but definitely don’t read them all! You just need to get a taste of what modern text analysis looks like.)\n Six Ideas for Displaying Qualitative Data\n\nWord clouds:\n\n Word clouds considered harmful\n Word clouds cause death… or something\n When It’s Ok to Use Word Clouds\n\n\n\n\n\n Evangeline Reynolds, “Federalist Papers”\n Julia Silge, “She Giggles, He Gallops”\n Abby Ohlheiser, “These are the words most associated with men and women, according to Facebook status updates”\n The Class of 2011\n Tweet by @s_soroka",
    "crumbs": [
      "Content",
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "content/14-content.html#other-resources",
    "href": "content/14-content.html#other-resources",
    "title": "Text",
    "section": "Other resources",
    "text": "Other resources\nCheck out this slide show demonstrating a bunch of different ways to visualize text, as well as this collection of 400+ different text visualization techniques (!!)",
    "crumbs": [
      "Content",
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "content/14-content.html#slides",
    "href": "content/14-content.html#slides",
    "title": "Text",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "content/14-content.html#videos",
    "href": "content/14-content.html#videos",
    "title": "Text",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nQualitative text-based data\nCrash course in computational linguistics\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "content/12-content.html",
    "href": "content/12-content.html",
    "title": "Space",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 10 in The Truthful Art (Cairo 2016)\n Chapter 7 in Data Visualization (Healy 2018)\n\nGeographic principles:\n\n Why all world maps are wrong\n “When Maps Lie”\n The True Size Of…\n Projection comparison\n Map projections (try comparing Robinson with Mercator to see how badly Mercator exaggerates the northern hemisphere)\n\n\n\n\nProjections:\n\n “These Twisted Maps Prove That America Isn’t a Red Country”\n “New World Map That Accurately Shows Earth in 2D Created by Scientists”\n\n{sf} in action:\n\n Andrew Heiss, “How to make fancy road trip maps with R and OpenStreetMap”\n Andrew Heiss, “Road trip analysis! How to use and play with Google Location History in R”\n Andrew Heiss, “Making Middle Earth maps with R”\n Andrew Heiss, “Calculating the proportion of US state borders that are coastlines”\n\nMore {sf} fun times:\n\n If you want to understand how the magic geometry column actually works, check out this fantastic post.\n Check out this post where someone used {ggplot2} and {sf} to create fancy city map-based art that she printed for a friend. You can do similar things after this session!\n In addition to the example for this session, you can check out this tutorial on using the {sf} package to create maps. It shows how to include fancy map stuff like a north arrow and scale bar.",
    "crumbs": [
      "Content",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "content/12-content.html#readings",
    "href": "content/12-content.html#readings",
    "title": "Space",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 10 in The Truthful Art (Cairo 2016)\n Chapter 7 in Data Visualization (Healy 2018)\n\nGeographic principles:\n\n Why all world maps are wrong\n “When Maps Lie”\n The True Size Of…\n Projection comparison\n Map projections (try comparing Robinson with Mercator to see how badly Mercator exaggerates the northern hemisphere)\n\n\n\n\nProjections:\n\n “These Twisted Maps Prove That America Isn’t a Red Country”\n “New World Map That Accurately Shows Earth in 2D Created by Scientists”\n\n{sf} in action:\n\n Andrew Heiss, “How to make fancy road trip maps with R and OpenStreetMap”\n Andrew Heiss, “Road trip analysis! How to use and play with Google Location History in R”\n Andrew Heiss, “Making Middle Earth maps with R”\n Andrew Heiss, “Calculating the proportion of US state borders that are coastlines”\n\nMore {sf} fun times:\n\n If you want to understand how the magic geometry column actually works, check out this fantastic post.\n Check out this post where someone used {ggplot2} and {sf} to create fancy city map-based art that she printed for a friend. You can do similar things after this session!\n In addition to the example for this session, you can check out this tutorial on using the {sf} package to create maps. It shows how to include fancy map stuff like a north arrow and scale bar.",
    "crumbs": [
      "Content",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "content/12-content.html#slides",
    "href": "content/12-content.html#slides",
    "title": "Space",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "content/12-content.html#videos",
    "href": "content/12-content.html#videos",
    "title": "Space",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nMaps and truth\nPutting data on maps\nGIS in R with sf\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "content/10-content.html",
    "href": "content/10-content.html",
    "title": "Enhancing graphics",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 14, Chapter 15, Chapter 16, Chapter 22, and Chapter 23 in Fundamentals of Data Visualization (Wilke 2018)\n Chapter 8 in Data Visualization (Healy 2018)\n\n\n\n\n\nBrowse through recent visualizations at The Pudding (like this one!), Vox, WSJ Graphics, and the New York Times’s TheUpshot. Most (if not all) of these graphics were made in R (or something similar) and exported for enhancement in Illustrator or D3.",
    "crumbs": [
      "Content",
      "Special applications",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "content/10-content.html#readings",
    "href": "content/10-content.html#readings",
    "title": "Enhancing graphics",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 14, Chapter 15, Chapter 16, Chapter 22, and Chapter 23 in Fundamentals of Data Visualization (Wilke 2018)\n Chapter 8 in Data Visualization (Healy 2018)\n\n\n\n\n\nBrowse through recent visualizations at The Pudding (like this one!), Vox, WSJ Graphics, and the New York Times’s TheUpshot. Most (if not all) of these graphics were made in R (or something similar) and exported for enhancement in Illustrator or D3.",
    "crumbs": [
      "Content",
      "Special applications",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "content/10-content.html#slides",
    "href": "content/10-content.html#slides",
    "title": "Enhancing graphics",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Special applications",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "content/10-content.html#videos",
    "href": "content/10-content.html#videos",
    "title": "Enhancing graphics",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nEnhancing graphics\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Special applications",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "content/08-content.html",
    "href": "content/08-content.html",
    "title": "Comparisons",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 9 in Fundamentals of Data Visualization (Wilke 2018)\n\n\n\n\n\n Mike Bostock, “Methods of Comparison, Compared”. Explanation of the differences between showing relative differences, absolute differences, and log ratios.\n Comparisons with lollipop charts. If you’re feeling adventurous (and you should!), do this tutorial as you read it.\n Time series sparklines\n Sparkline theory and practice. This is a collection of posts by Edward Tufte about sparklines—scroll down a ways and check out his examples, analysis, and critiques.\n\n\n\n\nReprexes (or reproducible examples) are the best way to (1) get help online and (2) fix issues on your own.\nMaking a good reprex is tricky, but it’s a very valuable skill to know (regardless of programming language!). Here are some helpful resources for making them:\n\n What’s a reproducible example (reprex) and how do I do one?\n Making a reprex\n The reprex package",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "content/08-content.html#readings",
    "href": "content/08-content.html#readings",
    "title": "Comparisons",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 9 in Fundamentals of Data Visualization (Wilke 2018)\n\n\n\n\n\n Mike Bostock, “Methods of Comparison, Compared”. Explanation of the differences between showing relative differences, absolute differences, and log ratios.\n Comparisons with lollipop charts. If you’re feeling adventurous (and you should!), do this tutorial as you read it.\n Time series sparklines\n Sparkline theory and practice. This is a collection of posts by Edward Tufte about sparklines—scroll down a ways and check out his examples, analysis, and critiques.\n\n\n\n\nReprexes (or reproducible examples) are the best way to (1) get help online and (2) fix issues on your own.\nMaking a good reprex is tricky, but it’s a very valuable skill to know (regardless of programming language!). Here are some helpful resources for making them:\n\n What’s a reproducible example (reprex) and how do I do one?\n Making a reprex\n The reprex package",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "content/08-content.html#slides",
    "href": "content/08-content.html#slides",
    "title": "Comparisons",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "content/08-content.html#videos",
    "href": "content/08-content.html#videos",
    "title": "Comparisons",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nVisualizing comparisons\nReproducible examples\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "content/06-content.html",
    "href": "content/06-content.html",
    "title": "Uncertainty",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 7 in Fundamentals of Data Visualization (Wilke 2018)\n Chapters 4, 7, and 11 in The Truthful Art (Cairo 2016)\n Why It’s So Hard for Us to Visualize Uncertainty\n Nick Desbarats, “I’ve Stopped Using Box Plots. Should You?”\n\n\n\n\n\n Communicating Uncertainty When Lives Are on the Line\n Cédric Scherer, “Visualizing distributions with raincloud plots with ggplot2”",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "content/06-content.html#readings",
    "href": "content/06-content.html#readings",
    "title": "Uncertainty",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 7 in Fundamentals of Data Visualization (Wilke 2018)\n Chapters 4, 7, and 11 in The Truthful Art (Cairo 2016)\n Why It’s So Hard for Us to Visualize Uncertainty\n Nick Desbarats, “I’ve Stopped Using Box Plots. Should You?”\n\n\n\n\n\n Communicating Uncertainty When Lives Are on the Line\n Cédric Scherer, “Visualizing distributions with raincloud plots with ggplot2”",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "content/06-content.html#slides",
    "href": "content/06-content.html#slides",
    "title": "Uncertainty",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "content/06-content.html#videos",
    "href": "content/06-content.html#videos",
    "title": "Uncertainty",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nCommunicating uncertainty\nVisualizing uncertainty\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "content/04-content.html",
    "href": "content/04-content.html",
    "title": "Amounts and proportions",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 6 in Fundamentals of Data Visualization (Wilke 2018)\n Chapter 6 in The Truthful Art (Cairo 2016)\n Chapter 10 in Fundamentals of Data Visualization (Wilke 2018)\n\nSpecific plot types:\n\n Engaging Readers with Square Pie/Waffle Charts\n Understanding Pie Charts\n Video from the Financial Times about the design decisions behind their COVID-19 tracking charts\n\n\n\n\n\n\n\nImportantWaffle plots\n\n\n\nThe original {waffle} package has been retired and its successor is called {ggwaffle}. It works similarly—check its documentation for examples of how to use it.",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "content/04-content.html#readings",
    "href": "content/04-content.html#readings",
    "title": "Amounts and proportions",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 6 in Fundamentals of Data Visualization (Wilke 2018)\n Chapter 6 in The Truthful Art (Cairo 2016)\n Chapter 10 in Fundamentals of Data Visualization (Wilke 2018)\n\nSpecific plot types:\n\n Engaging Readers with Square Pie/Waffle Charts\n Understanding Pie Charts\n Video from the Financial Times about the design decisions behind their COVID-19 tracking charts\n\n\n\n\n\n\n\nImportantWaffle plots\n\n\n\nThe original {waffle} package has been retired and its successor is called {ggwaffle}. It works similarly—check its documentation for examples of how to use it.",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "content/04-content.html#slides",
    "href": "content/04-content.html#slides",
    "title": "Amounts and proportions",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "content/04-content.html#videos",
    "href": "content/04-content.html#videos",
    "title": "Amounts and proportions",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nReproducibility\nAmounts\nProportions\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "content/02-content.html",
    "href": "content/02-content.html",
    "title": "Graphic design",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 5 in The Truthful Art (Cairo 2016)\n Chapter 4 and Chapter 27 in Fundamentals of Data Visualization (Wilke 2018)\n\nGraphic design principles:\n\n Summary of CRAP graphic design principles from Presentation Zen (Reynolds 2008) + this summary here. These principles are from Robin Williams’ The Non-Designer’s Design & Type Books (Williams 2008), which you should really get if you’re interested in doing anything design-related ever. Her stuff is life-changing.\n Color palettes\n Typography in ten minutes. The rest of the Practical Typography book is phenomenal and you’d be remiss if you didn’t read the whole thing and bookmark it for life, but for now just read this quick summary.\n “File formats explained”\n\n\n\n\nCRAP:\n\n 4 Foundational UI Design Principles | C.R.A.P.. This is another quick explanation of CRAP and a walkthrough of redesiging something boring/ugly with CRAP principles in mine\n\nColors:\n\n Cédric Scherer, “Colors and emotions in data visualization”\n Lisa Charlotte Muth, “Emphasize what you want readers to see with colors”\n Lisa Charlotte Muth, “How to find & create good color palettes”.\n Lisa Charlotte Muth, “A detailed guide to colors in data vis style guides”. You can skim this—this is a good resource for future you.\n\nFonts:\n\n Font Matrix – See & Pair Typefaces Like Never Before. In the videos, I mention that you should use contrasting font families, like choosing a sans serif and a serif font. But in reality, mixing fonts well is more complicated than that. The designer here presents something called the Font Matrix that will help you find good font combinations.",
    "crumbs": [
      "Content",
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "content/02-content.html#readings",
    "href": "content/02-content.html#readings",
    "title": "Graphic design",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 5 in The Truthful Art (Cairo 2016)\n Chapter 4 and Chapter 27 in Fundamentals of Data Visualization (Wilke 2018)\n\nGraphic design principles:\n\n Summary of CRAP graphic design principles from Presentation Zen (Reynolds 2008) + this summary here. These principles are from Robin Williams’ The Non-Designer’s Design & Type Books (Williams 2008), which you should really get if you’re interested in doing anything design-related ever. Her stuff is life-changing.\n Color palettes\n Typography in ten minutes. The rest of the Practical Typography book is phenomenal and you’d be remiss if you didn’t read the whole thing and bookmark it for life, but for now just read this quick summary.\n “File formats explained”\n\n\n\n\nCRAP:\n\n 4 Foundational UI Design Principles | C.R.A.P.. This is another quick explanation of CRAP and a walkthrough of redesiging something boring/ugly with CRAP principles in mine\n\nColors:\n\n Cédric Scherer, “Colors and emotions in data visualization”\n Lisa Charlotte Muth, “Emphasize what you want readers to see with colors”\n Lisa Charlotte Muth, “How to find & create good color palettes”.\n Lisa Charlotte Muth, “A detailed guide to colors in data vis style guides”. You can skim this—this is a good resource for future you.\n\nFonts:\n\n Font Matrix – See & Pair Typefaces Like Never Before. In the videos, I mention that you should use contrasting font families, like choosing a sans serif and a serif font. But in reality, mixing fonts well is more complicated than that. The designer here presents something called the Font Matrix that will help you find good font combinations.",
    "crumbs": [
      "Content",
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "content/02-content.html#slides",
    "href": "content/02-content.html#slides",
    "title": "Graphic design",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "content/02-content.html#videos",
    "href": "content/02-content.html#videos",
    "title": "Graphic design",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nTruth, beauty, stories, design\nGraphic design and CRAP\nImage types\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Foundations",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "assignment/tidy-tuesday.html",
    "href": "assignment/tidy-tuesday.html",
    "title": "#TidyTuesday",
    "section": "",
    "text": "The objectives of this class include “Be curious and confident in consuming and producing data visualizations”, “Feel comfortable with R”, and “Share data and graphics in open forums.” To help you with this, you will participate in a #TidyTuesday challenge.",
    "crumbs": [
      "Assignments",
      "General assignments",
      "#TidyTuesday"
    ]
  },
  {
    "objectID": "assignment/tidy-tuesday.html#what-is-tidytuesday",
    "href": "assignment/tidy-tuesday.html#what-is-tidytuesday",
    "title": "#TidyTuesday",
    "section": "What is #TidyTuesday?",
    "text": "What is #TidyTuesday?\nOne of the reasons R is so popular is because the R community is exceptionally generous and open and sharing. Beginning in 2018, the now-named Data Science Learning Community (DSLC) has posted a new dataset every week with a shared community challenge: do something with the data and share it online. This community data exploring adventure has come to be known as TidyTuesday.\nThe really neat thing about this challenge is that it’s open to everyone. Brand new beginners will download the data and make a bar chart; advanced R developers will download the data and build some sort of complex model. It doesn’t matter how simple or complex your final product is—all that matters is that you do something neat with it and share it with the community.\nThe topics of these datasets vary wildly! Here are some fasinating ones from the past:\n\nRecreate an original W. E. B. DuBois data visualization\nEvery human–computer interaction in Star Trek: The Next Generation\nKiller whale encounters\nRamen ratings\nDemocracy, coups, and political institutions",
    "crumbs": [
      "Assignments",
      "General assignments",
      "#TidyTuesday"
    ]
  },
  {
    "objectID": "assignment/tidy-tuesday.html#what-you-need-to-do",
    "href": "assignment/tidy-tuesday.html#what-you-need-to-do",
    "title": "#TidyTuesday",
    "section": "What you need to do",
    "text": "What you need to do\nAt some point before the end of the semester, you’ll need to participate in a TidyTuesday challenge. Here’s what that involves:\n\nNew data is posted online every Monday morning at the project’s GitHub page and at Bluesky, Mastodon, and LinkedIn. Watch as new datasets are posted over the semester and when you see something interesting, download it and play with it! You can also do a (recent) past dataset if you want, too, but ideally you should try to do the current dataset. Each dataset has some starter R code for downloading and cleaning up the data.\nExpore the data to see what’s in there. Experiment with different relationships or models or plot types.\nCreate a visualization, a model, a tutorial, or something interesting with the data.\nShare your output and the code used to generate it on social media with the #TidyTuesday hashtag. Most people share these on Bluesky, LinkedIn, and Mastodon (and on former-Twitter, though the bulk of data science Twitter has fled that platform since November 2022). Some share on Instagram too (like this and this), but #TidyTuesday on Instagram is mostly related to cleaning.",
    "crumbs": [
      "Assignments",
      "General assignments",
      "#TidyTuesday"
    ]
  },
  {
    "objectID": "assignment/tidy-tuesday.html#how-youll-be-graded",
    "href": "assignment/tidy-tuesday.html#how-youll-be-graded",
    "title": "#TidyTuesday",
    "section": "How you’ll be graded",
    "text": "How you’ll be graded\nOn iCollege, you’ll submit two things:\n\nA rendered Quarto document with your code and output\nA link to wherever you’ve shared your TidyTuesday creation (Bluesky, LinkedIn, Instagram, a webpage or blog, or whatever).\n\nYou need to submit this before April 28, 2026 (the last after the day of class). I recommend not waiting until the last week to do it.\nYou’ll be graded based on the check system we use for all other assignments:\n\n✔+: (33 points (110%) in gradebook) Creation is exceptional and goes beyond what we’ve covered in class (i.e. you use it to explore a new package or new technique). I will not assign these often.\n✔: (30 points (100%) in gradebook) You do something interesting and neat with your creation using tools and techniques learned in this class. This is the expected level of performance.\n✔−: (15 points (50%) in gradebook) You do bare minimum work with your creation.",
    "crumbs": [
      "Assignments",
      "General assignments",
      "#TidyTuesday"
    ]
  },
  {
    "objectID": "assignment/index.html",
    "href": "assignment/index.html",
    "title": "Assignment overview",
    "section": "",
    "text": "You will get the most of out this class if you:\nEach type of assignment in this class helps with one of these strategies.",
    "crumbs": [
      "Assignments",
      "Overview",
      "Assignment overview"
    ]
  },
  {
    "objectID": "assignment/index.html#session-check-in",
    "href": "assignment/index.html#session-check-in",
    "title": "Assignment overview",
    "section": "Session check-in",
    "text": "Session check-in\nEach session you’ll submit a list of three most interesting and three most unclear things from the readings. (See the complete instructions and details here).",
    "crumbs": [
      "Assignments",
      "Overview",
      "Assignment overview"
    ]
  },
  {
    "objectID": "assignment/index.html#exercises",
    "href": "assignment/index.html#exercises",
    "title": "Assignment overview",
    "section": "Exercises",
    "text": "Exercises\nEach class session has interactive lessons and fully annotated examples of code that teach and demonstrate how to do specific tasks in R. However, without practicing these principles and making graphics on your own, you won’t remember what you learn!\nTo practice working with {ggplot2} and making data-based graphics, you will complete a brief set of exercises for each class session. These exercises will have 1–3 short tasks that are directly related to the topic for the session. You need to show that you made a good faith effort to work each question. The problem sets will also be graded using a check system:\n\n✔+: (11.5 points (115%) in gradebook) Exercises are 100% completed. Every task was attempted and answered, and most answers are correct. Rendered document is clean and easy to follow. Work is exceptional. I will not assign these often.\n✔: (10 points (100%) in gradebook) Exercises are 70–99% complete and most answers are correct. This is the expected level of performance.\n✔−: (5 points (50%) in gradebook) Exercises are less than 70% complete and/or most answers are incorrect. This indicates that you need to improve next time. I will hopefully not assign these often.\n\nNote that this is also essentially a pass/fail system. I’m not grading your coding ability, I’m not checking each line of code to make sure it produces some exact final figure, and I’m not looking for perfect. Also note that a ✓ does not require 100% completion—you will sometimes get stuck with weird errors that you can’t solve, or the demands of pandemic living might occasionally become overwhelming. I’m looking for good faith effort, that’s all. Try hard, do good work, and you’ll get a ✓.\nYou may (and should!) work together on the exercises, but you must turn in your own answers.\nYou will turn these exercises in using iCollege. You will include your session check-in in the first part of the document—the rest will be your exercise tasks.",
    "crumbs": [
      "Assignments",
      "Overview",
      "Assignment overview"
    ]
  },
  {
    "objectID": "assignment/index.html#mini-projects",
    "href": "assignment/index.html#mini-projects",
    "title": "Assignment overview",
    "section": "Mini projects",
    "text": "Mini projects\nTo give you practice with the data and design principles you’ll learn in this class, you will complete two mini projects. I will provide you with real-world data and pose one or more questions—you will make a pretty picture to answer those questions.\nThe mini projects will be graded using a check system:\n\n✔+: (85 points (≈115%) in gradebook) Project is phenomenally well-designed and uses advanced R techniques. The project uncovers an important story that is not readily apparent from just looking at the raw data. I will not assign these often.\n✔: (75 points (100%) in gradebook) Project is fine, follows most design principles, answers a question from the data, and uses R correctly. This is the expected level of performance.\n✔−: (37.5 points (50%) in gradebook) Project is missing large components, is poorly designed, does not answer a relevant question, and/or uses R incorrectly. This indicates that you need to improve next time. I will hopefully not assign these often.\n\nBecause these mini projects give you practice for the final project, I will provide you with substantial feedback on your design and code.",
    "crumbs": [
      "Assignments",
      "Overview",
      "Assignment overview"
    ]
  },
  {
    "objectID": "assignment/index.html#tidytuesday",
    "href": "assignment/index.html#tidytuesday",
    "title": "Assignment overview",
    "section": "#TidyTuesday",
    "text": "#TidyTuesday\nAt some point before the end of the semester, you’ll need to (1) take a dataset, (2) do something neat with it, and (3) share it with the public somehow. (See the complete instructions and details here).",
    "crumbs": [
      "Assignments",
      "Overview",
      "Assignment overview"
    ]
  },
  {
    "objectID": "assignment/index.html#final-project",
    "href": "assignment/index.html#final-project",
    "title": "Assignment overview",
    "section": "Final project",
    "text": "Final project\nAt the end of the course, you will demonstrate your data visualization skills by completing a final project.\nComplete details for the final project (including past examples of excellent projects) are here.\nThere is no final exam. This project is your final exam.\nThe project will not be graded using a check system. Instead I will use a rubric to grade four elements of your project:\n\nTechnical skills\nVisual design\nTruth and beauty\nStory\n\nIf you’ve engaged with the course content and completed the exercises and mini projects throughout the course, you should do just fine with the final project.",
    "crumbs": [
      "Assignments",
      "Overview",
      "Assignment overview"
    ]
  },
  {
    "objectID": "assignment/15-exercise.html",
    "href": "assignment/15-exercise.html",
    "title": "Truth, beauty, and data revisited",
    "section": "",
    "text": "For your final exercise, you won’t do anything with R. You’ll instead have two writing tasks. You can write these in Quarto if you want, or you can do it in Word or Google Docs or wherever else.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "assignment/15-exercise.html#task-1-storytelling-check-in",
    "href": "assignment/15-exercise.html#task-1-storytelling-check-in",
    "title": "Truth, beauty, and data revisited",
    "section": "Task 1: Storytelling check-in",
    "text": "Task 1: Storytelling check-in\nWrite your standard check-in (three interesting things; three muddy things).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "assignment/15-exercise.html#task-2-summary-reflection",
    "href": "assignment/15-exercise.html#task-2-summary-reflection",
    "title": "Truth, beauty, and data revisited",
    "section": "Task 2: Summary reflection",
    "text": "Task 2: Summary reflection\nWrite a longer (400ish words) reflection on what you learned in the course in general. What was new? What was exciting? What will you remember? How has this class changed the way you look at data and graphics?\nYou might explore a few of these summative questions (but definitely don’t just go through and answer each of these!):\n\nWhat is truth?\nHow do we find truth?\nAre facts truth?\nWhat’s the difference between content and form?\nDoes beauty matter when describing truth?\nHow does any of this philosophical humanities stuff relate to data visualization?",
    "crumbs": [
      "Assignments",
      "Exercises",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "assignment/15-exercise.html#turning-everything-in",
    "href": "assignment/15-exercise.html#turning-everything-in",
    "title": "Truth, beauty, and data revisited",
    "section": "Turning everything in",
    "text": "Turning everything in\nWhen you’re all done, upload the document with both tasks to iCollege.\n🎉 Congratulations! You did it! 🎉",
    "crumbs": [
      "Assignments",
      "Exercises",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "assignment/13-exercise.html",
    "href": "assignment/13-exercise.html",
    "title": "Time",
    "section": "",
    "text": "The United States National Oceanic and Atmospheric Administration (NOAA) runs the Mauna Loa Observatory (MLO) in Hawai’i, which has taken regular daily measurements of atmospheric parameters since 1958, including levels of carbon dioxide (CO2) emissions, measured in parts per million (ppm). In 1958, CO2 levels averaged around 320 ppm; in 2025, they averaged 425 ppm—a 33% increase in emissions.\nIn this exercise, you’ll use data from the Mauna Loa Observatory to track annual and seasonal trends in CO2 over time. I’ve provided you with three datasets that use different measurement frequencies.1\nAs always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "13: Time"
    ]
  },
  {
    "objectID": "assignment/13-exercise.html#instructions",
    "href": "assignment/13-exercise.html#instructions",
    "title": "Time",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 13-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 13-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-13.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "13: Time"
    ]
  },
  {
    "objectID": "assignment/13-exercise.html#tips",
    "href": "assignment/13-exercise.html#tips",
    "title": "Time",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "13: Time"
    ]
  },
  {
    "objectID": "assignment/13-exercise.html#footnotes",
    "href": "assignment/13-exercise.html#footnotes",
    "title": "Time",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nIf you’re interested, you can see the full data cleaning code here. The data is already pretty well structured and clean—all I really do is rename some columns and create some columns for dates.↩︎",
    "crumbs": [
      "Assignments",
      "Exercises",
      "13: Time"
    ]
  },
  {
    "objectID": "assignment/11-exercise.html",
    "href": "assignment/11-exercise.html",
    "title": "Interactivity",
    "section": "",
    "text": "WarningTHIS IS DIFFERENT!!!\n\n\n\nThis exercise is different from all your past work! That’s on purpose! Only HTML output can handle interactivity and dashboards—PDFs and Word files are static document formats that don’t allow Javascript.\nFor this exercise you’ll get to practice making interactive plots and dashboards! You’ll do it by creating a Quarto website and publishing it on the internet. That might sound intimidating and hard, but don’t worry! Thanks to Quarto (and the starter code and detailed instructions I provide), it should be fairly straightforward.\nComplete instructions for the different tasks are at this website. Use the top navigation bar there to look at the different pages:",
    "crumbs": [
      "Assignments",
      "Exercises",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "assignment/11-exercise.html#instructions",
    "href": "assignment/11-exercise.html#instructions",
    "title": "Interactivity",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 11-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 11-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nFollow the instructions here and complete the different tasks in the different .qmd files. Check the data description to learn more about what all the columns mean.\nWhen you’re all done, follow the instructions about publishing the site. Do not try to render as PDF or Word. In iCollege, paste the URL of your website into the submission form.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "assignment/09-exercise.html",
    "href": "assignment/09-exercise.html",
    "title": "Annotations",
    "section": "",
    "text": "For this exercise you’ll practice adding annotations to plots. You’ll use brand new data about cars for sale in Qatar from the {qatarcars} package.\nAs always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "9: Annotations"
    ]
  },
  {
    "objectID": "assignment/09-exercise.html#instructions",
    "href": "assignment/09-exercise.html#instructions",
    "title": "Annotations",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 09-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 09-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-9.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "9: Annotations"
    ]
  },
  {
    "objectID": "assignment/09-exercise.html#tips",
    "href": "assignment/09-exercise.html#tips",
    "title": "Annotations",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "9: Annotations"
    ]
  },
  {
    "objectID": "assignment/07-exercise.html",
    "href": "assignment/07-exercise.html",
    "title": "Relationships",
    "section": "",
    "text": "For this exercise you’ll practice visualizing relationships by making scatterplots and visualizing a regression model. You’ll use data from https://www.basketball-reference.com/wnba/players/ about WNBA basketball players from the 2019 season. The data was originally collected for the book Bayes Rules! An Introduction to Applied Bayesian Modeling and was included in the {bayesrules} package as basketball.\nAs always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "7: Relationships"
    ]
  },
  {
    "objectID": "assignment/07-exercise.html#instructions",
    "href": "assignment/07-exercise.html#instructions",
    "title": "Relationships",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 07-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 07-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-7.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "7: Relationships"
    ]
  },
  {
    "objectID": "assignment/07-exercise.html#tips",
    "href": "assignment/07-exercise.html#tips",
    "title": "Relationships",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "7: Relationships"
    ]
  },
  {
    "objectID": "assignment/05-exercise.html",
    "href": "assignment/05-exercise.html",
    "title": "Themes",
    "section": "",
    "text": "For this exercise you’ll practice using labs() and theme() to make your plots look nicer. You’ll use data about cheese around the world, with data from cheese.com that was used for #TidyTuesday in June 2024.\nThere are 22 columns, and they’re documented here—make sure you consult that page!\nAnd as always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "5: Themes"
    ]
  },
  {
    "objectID": "assignment/05-exercise.html#instructions",
    "href": "assignment/05-exercise.html#instructions",
    "title": "Themes",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 05-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 05-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-5.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "5: Themes"
    ]
  },
  {
    "objectID": "assignment/05-exercise.html#tips",
    "href": "assignment/05-exercise.html#tips",
    "title": "Themes",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "5: Themes"
    ]
  },
  {
    "objectID": "assignment/03-exercise.html",
    "href": "assignment/03-exercise.html",
    "title": "Mapping data to graphics",
    "section": "",
    "text": "For this exercise you’ll practice grouping, summarizing, and plotting data using the counts of words spoken in the Lord of the Rings trilogy across movie, sex, and fictional species.\nAnd as always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "assignment/03-exercise.html#instructions",
    "href": "assignment/03-exercise.html#instructions",
    "title": "Mapping data to graphics",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 03-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 03-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-3.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "assignment/03-exercise.html#tips",
    "href": "assignment/03-exercise.html#tips",
    "title": "Mapping data to graphics",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "assignment/02-exercise.html",
    "href": "assignment/02-exercise.html",
    "title": "Graphic design",
    "section": "",
    "text": "NoteQuarto is optional\n\n\n\nYou don’t need to worry about using Quarto for this assignment, unless you want to (I encourage you to try using Quarto though!). You can put your check-in and other writing in regular Word document and submit that.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "assignment/02-exercise.html#task-1-session-check-in",
    "href": "assignment/02-exercise.html#task-1-session-check-in",
    "title": "Graphic design",
    "section": "Task 1: Session check-in",
    "text": "Task 1: Session check-in\nWrite your session check-in for the session’s readings.\n\n\n\n\n\n\nTipCheck-in reminder\n\n\n\nRemember to do this for your check-in:\n\nThree interesting or exciting things:\n\nSomething\nSomething\nSomething\n\nThree muddy or unclear things:\n\nSomething\nSomething\nSomething",
    "crumbs": [
      "Assignments",
      "Exercises",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "assignment/02-exercise.html#task-2-poster-redesign",
    "href": "assignment/02-exercise.html#task-2-poster-redesign",
    "title": "Graphic design",
    "section": "Task 2: Poster redesign",
    "text": "Task 2: Poster redesign\nHere’s a typical poster you might see in your workplace or on campus. (I found this on a table on the 6th floor in 55 Park Place near the economics department)\nDo the four tasks below while consulting this poster\n\n\n\n\n\n\n\n\n\n\nPart 1: Audience analysis\nIn 1–2 paragraphs, discuss these things:\n\nWho is the main audience for this poster?\nIn what setting will people see this? How much time will they have to interact with it?\nWhat kind of information do they need to know?\nWhat’s the most important piece of information they need?\nWhat should the audience do as a result of seeing this poster?\n\n\n\nPart 2: CRAP critique\nCritique the design of the poster. Go through the CRAP checklist and analyze how well or poorly the poster follows each of the principles. Discuss how the poster’s adherence to (or non-adherence to) these principles influences its effectiveness.\n\n\nPart 3: CRAP redesign\nBased on your audience analysis and critique of the original poster, redesign this poster. Use whatever program you want—even PowerPoint if you’re most comfortable with that, though it’ll probably be easier to use something like Canva or Adobe Illustrator. If you use Canva, don’t use any of the built-in templates—start from scratch with a blank page.\nTo save you from retyping everything, I’ve included all the text, the logo, and the QR code in the zip file below:\n\n 02-exercise.zip\n\n\n\n\n\n\n\nImportantDon’t use everything!\n\n\n\nYou don’t have to use every piece of text and every image from the original poster. You probably shouldn’t! Make this new version fit with your audience analysis while following the CRAP graphic design principles.\n\n\n\n\nPart 4: Redesign critique\nIn 1–2 paragraphs, critique your new design using the CRAP checklist. How did you use contrast, repetition, alignment, and proximity in your improved design? How does this new version meet the audience’s needs?",
    "crumbs": [
      "Assignments",
      "Exercises",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "assignment/02-exercise.html#turning-everything-in",
    "href": "assignment/02-exercise.html#turning-everything-in",
    "title": "Graphic design",
    "section": "Turning everything in",
    "text": "Turning everything in\nOn iCollege, submit a PDF of your new poster, along with a PDF of your check-in and all the other writing tasks.\n\n\n\n\n\n\nTipShare!\n\n\n\nAs part of building class community, consider showing off your redesigned poster in the #bragging channel on Discord!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "2: Graphic design"
    ]
  },
  {
    "objectID": "assignment/01-exercise.html",
    "href": "assignment/01-exercise.html",
    "title": "Introduction to R and the tidyverse",
    "section": "",
    "text": "Important\n\n\n\nBefore starting this exercise, make sure you complete everything at the lesson for this week, especially the Posit Primers.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "1: Introduction to R and the tidyverse"
    ]
  },
  {
    "objectID": "assignment/01-exercise.html#instructions",
    "href": "assignment/01-exercise.html#instructions",
    "title": "Introduction to R and the tidyverse",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer (follow these instructions to get started!) or in Posit.cloud\n\n 01-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 01-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-1.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "1: Introduction to R and the tidyverse"
    ]
  },
  {
    "objectID": "assignment/01-exercise.html#tips",
    "href": "assignment/01-exercise.html#tips",
    "title": "Introduction to R and the tidyverse",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipFile organization\n\n\n\nYou’ll be doing this same process for all your future exercises. Each exercise will involve a Quarto file.\nYou can either create individual projects for each assignment and mini-project (recommended!):\n\n\n\n\n\n\nIndividual folders for each project on macOS\n\n\n\n\n \n\n\n\n\n\nIndividual folders for each project on Windows\n\n\n\n\n\nOr you can create a new RStudio Project directory for all your work (not recommended!):\n\n\n\n\n\n\nOne folder for everything on macOS\n\n\n\n\n \n\n\n\n\n\nOne folder for everything on Windows",
    "crumbs": [
      "Assignments",
      "Exercises",
      "1: Introduction to R and the tidyverse"
    ]
  },
  {
    "objectID": "assignment/01-mini-project.html",
    "href": "assignment/01-mini-project.html",
    "title": "Mini project 1",
    "section": "",
    "text": "Though measles was officially eradicated in the United States in 2000, beginning in 2025 it has seen a resurgence throughout the country thanks to declining vaccination rates and anti-vaccination campaigns. The disease also continues to be a threat across the world.\nThe World Health Organization (WHO) tracks the prevalence of a whole host of diseases, including measles. For this first mini project, you will use R, {ggplot2}, and {dplyr} to make one plot that tells an interesting story from the WHO data on measles and rubella.\nDon’t worry! You’re not completely on your own! I’ve given you some starter code!",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 1"
    ]
  },
  {
    "objectID": "assignment/01-mini-project.html#the-data",
    "href": "assignment/01-mini-project.html#the-data",
    "title": "Mini project 1",
    "section": "The data",
    "text": "The data\nThis data comes from the WHO and was collected and cleaned up as part of #TidyTuesday in June 2025. The annual contains 19 columns:\n\nColumns in data\n\n\n\n\n\n\nvariable\ndescription\n\n\n\n\nregion\nRegion name\n\n\ncountry\nCountry name\n\n\niso3\nThree letter country code\n\n\nyear\nYear\n\n\ntotal_population\nCountry population\n\n\nannualized_population_most_recent_year_only\nAnnualized population 2025\n\n\ntotal_suspected_measles_rubella_cases\nSuspected measles/rubella cases: A suspected case is one in which a patient with fever and maculopapular (non-vesicular) rash, or in whom a health-care worker suspects measles (or rubella)\n\n\nmeasles_total\nTotal measles cases: the sum of clinically-compatible, epidemiologically linked and laboratory-confirmed cases\n\n\nmeasles_lab_confirmed\nLaboratory-confirmed measles cases: A suspected case of measles that has been confirmed positive by testing in a proficient laboratory, and vaccine-associated illness has been ruled out\n\n\nmeasles_epi_linked\nEpidemiologically-linked measles cases: A suspected case of measles that has not been confirmed by a laboratory, but was geographically and temporally related with dates of rash onset occurring 7–23 days apart from a laboratory-confirmed case or another epidemiologically linked measles case\n\n\nmeasles_clinical\nClinically-compatible measles cases: A suspected case with fever and maculopapular (non-vesicular) rash and at least one of cough, coryza or conjunctivitis, but no adequate clinical specimen was taken and the case has not been linked epidemiologically to a laboratory-confirmed case of measles or other communicable disease\n\n\nmeasles_incidence_rate_per_1000000_total_population\nMeasles cases per million population\n\n\nrubella_total\nTotal rubella cases\n\n\nrubella_lab_confirmed\nLaboratory-confirmed rubella cases\n\n\nrubella_epi_linked\nEpidemiologically-linked rubella cases\n\n\nrubella_clinical\nClinically-compatible rubella cases\n\n\nrubella_incidence_rate_per_1000000_total_population\nRubella cases per million population\n\n\ndiscarded_cases\nDiscarded cases: A suspected case that has been investigated and discarded as a non-measles (and non-rubella)\n\n\ndiscarded_non_measles_rubella_cases_per_100000_total_population\nDiscarded cases per million population\n\n\n\n \nThere are 6 WHO regions, and in the data they’re recorded as cryptic acronyms:\n\n\n\nregion\nFull region\n\n\n\n\nAFRO\nAfrican Region\n\n\nAMRO\nRegion of the Americas\n\n\nEMRO\nEastern Mediterranean Region\n\n\nEURO\nEuropean Region\n\n\nSEARO\nSouth-East Asian Region\n\n\nWPRO\nWestern Pacific Region",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 1"
    ]
  },
  {
    "objectID": "assignment/01-mini-project.html#possible-questions-to-explore",
    "href": "assignment/01-mini-project.html#possible-questions-to-explore",
    "title": "Mini project 1",
    "section": "Possible questions to explore",
    "text": "Possible questions to explore\nFor this mini project, you will create one (1) plot. But with so many columns and rows in this data, it can be intimidating to know how to start! Here are some possible questions you might try to explore:\n\nHow have global measles cases changed over time?\nAre there differences in measles and rubella trends?\nWhich regions or countries consistently report the highest measles burden (or incidence rates per million people)? Consider comparing all six WHO regions over time, or comparing a handful of countries you’re interested in.\nDoes the ratio of laboratory-confirmed cases to total cases reveal differences in healthcare capacity across countries?\n…or anything else!",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 1"
    ]
  },
  {
    "objectID": "assignment/01-mini-project.html#instructions",
    "href": "assignment/01-mini-project.html#instructions",
    "title": "Mini project 1",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 01-mini-project.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 01-mini-project.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_mini-project-1.qmd to something that matches your name and open it in RStudio.\nExplore the data and summarize it somehow. The raw data has 2,382 rows (for 194 countries across 14 years), which means you’ll need to aggregate the data (filter(), group_by(), and summarize() will be your friends).\nCreate one appropriate visualization based on the data you summarized. Just make one plot. That’s all. One.\nWrite a memo (no word limit) explaining your process. I’m specifically looking for a discussion of the following:\n\nWhat story are you telling with your new graphic?\nHow did you apply the principles of CRAP?\nHow did you apply Kieran Healy’s principles of great visualizations or Alberto Cairo’s five qualities of great visualizations?\n\nYou can approach this in a couple different ways—you can write the memo and then include the full figure and code at the end, or you can write the memo in an incremental way, describing the different steps of creating the figure, ultimately arriving at a clean final figure.\nUpload the following three (3) outputs to iCollege:\n\nA PDF or Word file of your memo with your final code and graphic embedded in it, rendered with Quarto.\nA standalone PNG version of your graphic. Include something like this near the end of your Quarto file:\nggsave(plot_name, filename = \"blah.png\", width = XX, height = XX)\nA standalone PDF version of your graphic. Include something like this near the end of your Quarto file:\nggsave(plot_name, filename = \"blah.pdf\", width = XX, height = XX)\n\n\nYou will be graded based on completion using the standard ✓ system, but I’ll provide comments on how you use R and {ggplot2}, how well you apply the principles of CRAP, The Truthful Art, and Effective Data Visualization, and how appropriate the graph is for the data and the story you’re telling. I will use this rubric to make comments and provide you with a simulated grade.\n\n 01-mini-project_rubric.xlsx\n\nFor this mini project, I am less concerned with detailed graphic design principles—select appropriate colors, change fonts if you’re brave, and choose a nice ggplot theme and make some adjustments like moving the legend around (theme(legend.position = \"bottom\")).\nPlease seek out help when you need it! You know enough R (and have enough examples of code from class and your readings) to be able to do this. Your project has to be turned in individually, and your visualization should be your own (i.e. if you work with others, don’t all turn in the same graph), but you should work with others! Reach out to me for help too—I’m here to help!\nYou can do this.",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 1"
    ]
  },
  {
    "objectID": "assignment/01-mini-project.html#example-code",
    "href": "assignment/01-mini-project.html#example-code",
    "title": "Mini project 1",
    "section": "Example code",
    "text": "Example code\nI’ve provided some starter code below. Lots of it is already in the Quarto file too.\nlibrary(tidyverse)\n\nmeasles_raw &lt;- read_csv(\"data/measles_cases_year.csv\")\n\n# Create a new column with nicer region names. See the official WHO regions:\n# https://en.wikipedia.org/wiki/List_of_WHO_regions\nmeasles &lt;- measles_raw |&gt; \n  mutate(region_nice = case_match(region,\n    \"AFRO\" ~ \"Africa\",\n    \"AMRO\" ~ \"Americas\",\n    \"EMRO\" ~ \"Eastern Mediterranean\",\n    \"EURO\" ~ \"Europe\",\n    \"SEARO\" ~ \"South-East Asia\",\n    \"WPRO\" ~ \"Western Pacific\"\n  ))\nYou’ll need to summarize the data with functions from {dplyr}, including stuff like count(), arrange(), filter(), group_by(), summarize(), and mutate(). Here are some examples of ways to summarize the data:\n# Total cases by region\nmeasles |&gt; \n  group_by(year, region_nice) |&gt; \n  summarize(total_cases = sum(measles_total))\n\n# Cases in some countries\nmeasles |&gt; \n  filter(country %in% c(\"Algeria\", \"Chile\", \"Iraq\", \"Estonia\"))\n\n# Ratio of lab-confirmed to total cases\nmeasles |&gt; \n  mutate(ratio_lab_total = measles_lab_confirmed / measles_total)\n\n# Assign a summarized data frame to an object to use it in a plot\ncases_by_region &lt;- measles |&gt; \n  group_by(year, region) |&gt; \n  summarize(total_cases = sum(measles_total))\n\nggplot(cases_by_region, aes(x = year, y = total_cases, fill = region)) +\n  geom_col() +\n  facet_wrap(vars(region))",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 1"
    ]
  },
  {
    "objectID": "assignment/02-mini-project.html",
    "href": "assignment/02-mini-project.html",
    "title": "Mini project 2",
    "section": "",
    "text": "As of 2024, there are nearly 31 million refugees around the world. Refugee services and care remain a critical—but underfunded and often politically unpopular—public policy issue.\nThe UN Relief Agency, or UNHCR,1 oversees and protects refugees. They collect detailed data on the number of forcibly displaced and stateless people around the world.\nThe {refugees} R package provides access to eight different datasets from the UNHCR and other refugee-focused agencies. You’ll be working with just one of them: population. This contains data on forcibly displaced and stateless persons by year, including refugees, asylum-seekers, returned refugees, internally displaced persons (IDPs), and stateless persons from 1951–2024.\nFor this mini project, you will use R, {ggplot2}, {dplyr}, and an external vector editing program like Inkscape, Affinity, or Adobe Illustrator create one plot that tells an interesting story from this UNHCR data. Full detailed instructions are included below.\nDon’t worry! You’re not completely on your own! I’ve given you clean data, some starter code, and some possible ideas for summarizing and aggregating the data.",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 2"
    ]
  },
  {
    "objectID": "assignment/02-mini-project.html#the-data",
    "href": "assignment/02-mini-project.html#the-data",
    "title": "Mini project 2",
    "section": "The data",
    "text": "The data\nThis UNHCR data contains 19 columns. There were 16 columns in the original data. I used this code to add 3 more for you : date (useful for plotting), coo_region, and coa_region.\n\nColumns in data. † = I added this column for you.\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\nyear\nThe year (numeric, like 2020, 2021, etc.)\n\n\ndate†\nThe date (a date, like 2020-01-01, 2021-01-01, etc.)†\n\n\ncoo_name\nCountry of origin name\n\n\ncoo\nCountry of origin UNHCR code\n\n\ncoo_iso\nCountry of origin ISO code\n\n\ncoo_region†\nCountry of origin UNCHR region†\n\n\ncoa_name\nCountry of asylum name\n\n\ncoa\nCountry of asylum UNHCR code\n\n\ncoa_iso\nCountry of asylum ISO code\n\n\ncoa_region†\nCountry of asylum UNCHR region†\n\n\nrefugees\nThe number of refugees\n\n\nasylum_seekers\nThe number of asylum-seekers\n\n\nreturned_refugees\nThe number of returned refugees\n\n\nidps\nThe number of internally displaced persons\n\n\nreturned_idps\nThe number of returned internally displaced persons\n\n\nstateless\nThe number of stateless persons\n\n\nooc\nThe number of others of concern to UNHCR\n\n\noip\nThe number of other people in need of international protection\n\n\nhst\nThe number of host community members\n\n\n\n\n\n\n\n\n\nNoteDefinitions\n\n\n\n\nA country of origin (coo) is a country that sends out refugees, or one that refugees leave.\nA country of asylum (coa) is a country that receives refugees, or one that refugees enter.\n\nFor example, in 2015, 115,604 refugees left Syria (coo) and entered Germany (coa):\nunhcr_refugees |&gt; \n  filter(coo_iso == \"SYR\", coa_iso == \"DEU\", year == 2015)\n#&gt; year              2015\n#&gt; coo_name          \"Syrian Arab Rep.\"\n#&gt; coo_iso           \"SYR\"\n#&gt; coo_region        \"Middle East and North Africa\"\n#&gt; coa_name          \"Germany\"\n#&gt; coa_iso           \"DEU\"\n#&gt; coa_region        \"Europe\"\n#&gt; refugees          115604\n#&gt; asylum_seekers    81582\n#&gt; returned_refugees 0",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 2"
    ]
  },
  {
    "objectID": "assignment/02-mini-project.html#your-general-job",
    "href": "assignment/02-mini-project.html#your-general-job",
    "title": "Mini project 2",
    "section": "Your general job",
    "text": "Your general job\nFor this mini project, you will use R, {ggplot2}, {dplyr}, and an external vector editing program like Inkscape, Affinity, or Adobe Illustrator create one well-designed, enhanced plot that tells an interesting story from this UNHCR data. Specifically, you need to do these things:\n\nCreate a plot in R with {ggplot2} that shows something interesting from some aggregated or summarized version of the UNHCR data.\nSave that plot as a PDF or SVG with ggsave() (just like in Exercise 10).\nOpen that exported plot in a vector editing program like Inkscape, Affinity, or Illustrator and add annotations and captions and other details to enhance and polish it and make it publication-worthy (just like in Exercise 10). Make sure you create a clear narrative/story.\n\nI’d recommend doing as much polishing and refining as you can in R—make adjustments to the colors, scales, labels, grid lines, and even fonts, etc. Use the vector editing program to add annotations, change colors and fonts, and other final enhancements.",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 2"
    ]
  },
  {
    "objectID": "assignment/02-mini-project.html#full-instructions",
    "href": "assignment/02-mini-project.html#full-instructions",
    "title": "Mini project 2",
    "section": "Full instructions",
    "text": "Full instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 02-mini-project.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 02-mini-project.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_mini-project-2.qmd to something that matches your name and open it in RStudio.\nExplore the data and summarize it somehow. The raw data has more than 130,000 rows, which means you’ll need to aggregate the data (filter(), group_by(), and summarize() will be your friends). I include some ideas below.\nCreate one appropriate time-based visualization based on the data you summarized. Just make one plot. That’s all. One.\nSave that plot as a PDF or SVG with ggsave()\nOpen that exported plot in a vector editing program like Inkscape, Affinity, or Illustrator and add annotations and captions and other details to enhance and polish it and make it publication-worthy. Make sure you create a clear narrative/story.\nWrite a memo (no word limit) explaining your process. I’m specifically looking for a discussion of the following:\n\nWhat story are you telling with your new graphic?\nHow did you apply the principles of CRAP?\nHow did you apply Kieran Healy’s principles of great visualizations or Alberto Cairo’s five qualities of great visualizations?\n\nYou can approach this in a couple different ways—you can write the memo and then include the full figure and code at the end, or you can write the memo in an incremental way, describing the different steps of creating the figure, ultimately arriving at a clean final figure.\nUpload the following three (3) outputs to iCollege:\n\nA PDF or Word file of your memo with your your final code, intermediate graphic (the one you create in R), and final graphic (the one you enhance) embedded in it, rendered with Quarto. Remember to use ![Caption](figure_file_name.pdf) to include external images in Markdown\nA standalone PNG version of your final graphic. You’ll export this from the vector editing application.\nA standalone PDF version of your graphic. You’ll export this from the vector editing application.\n\n\nYou will be graded based on completion using the standard ✓ system, but I’ll provide comments on how you use R and {ggplot2}, how well you apply the principles of CRAP, The Truthful Art, and Effective Data Visualization, and how appropriate the graph is for the data and the story you’re telling. I will use this rubric to make comments and provide you with a simulated grade.\n\n 02-mini-project_rubric.xlsx\n\nFor this assignment, I am more concerned with the design. Choose good colors. Choose good, clean fonts. Use the heck out of theme(). Add informative design elements in Illustrator/Inkscape/Affinity. Make it look beautiful and CRAPpy. Refer to the design resources here.\nPlease seek out help when you need it! You know enough R (and have enough examples of code from class and your readings) to be able to do this. Your project has to be turned in individually, and your visualization should be your own (i.e. if you work with others, don’t all turn in the same graph), but you should work with others! Reach out to me for help too—I’m here to help!\nYou can do this.",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 2"
    ]
  },
  {
    "objectID": "assignment/02-mini-project.html#data-to-possibly-use-in-your-plot",
    "href": "assignment/02-mini-project.html#data-to-possibly-use-in-your-plot",
    "title": "Mini project 2",
    "section": "Data to possibly use in your plot",
    "text": "Data to possibly use in your plot\n\n\n\n\n\n\nImportantData quality\n\n\n\nThough the data goes back to 1951, many earlier numbers are loose estimates. For example, the number of refugees in the United States is a constant 500,000 (± 1–2,000) every year from 1951 to 1977; it starts showing actual numbers in 1978.\nI’d recommend filtering the data for your visualization to start later than 1951 (like 1980, or 1990, or 2000, or whatever makes sense for the story you’re telling).\n\n\nThis data is incredibly rich and can be aggregated and collapsed and reshaped and visualized in all sorts of interesting ways. Here are some possible ideas:\n\nTotal refugees/asylum seekers/IDPs in one country of asylum (or more) over time\nTotal refugees/asylum seekers/IDPs from multiple countries of origin over time\nTop N countries of origin in one country of asylum (or top N countries of asylum that one country of origin sends people to)—this could be used in something like a bump chart\nFlows of refugees between regions over time (i.e. how many refugees from East Africa end up in Europe vs. the Americas vs. Asia, etc.)\nChanges in counts of refugees sent or received in a country (or countries), so you can see when there are spikes and drops\n\nYou can visualize this stuff in many different ways! A line chart, a slope graph, a bump chart, a map, and so on. Do something neat!\nHere are some examples of using different {dplyr} functions to filter, group, and summarize the data. PLEASE DON’T USE THESE VERBATIM. I don’t want to see a plot showing the count of refugees in Spain since 1990 or a plot of asylum seekers from Cambodia and Myanmar since 2000 in your final project (since I show that exact code below). Use these as general ideas.\n\nlibrary(tidyverse)\nunhcr_refugees &lt;- read_csv(\"data/unhcr_refugees.csv\")\n\nTotal refugees in Spain every year since 1990\n\nrefugees_in_spain &lt;- unhcr_refugees |&gt; \n  filter(coa_iso == \"ESP\", year &gt;= 1990) |&gt; \n  group_by(year) |&gt; \n  summarize(total = sum(refugees))\nrefugees_in_spain\n## # A tibble: 35 × 2\n##     year total\n##    &lt;dbl&gt; &lt;dbl&gt;\n##  1  1990  8303\n##  2  1991  4005\n##  3  1992  4040\n##  4  1993  4990\n##  5  1994  5351\n##  6  1995  5840\n##  7  1996  5672\n##  8  1997  5512\n##  9  1998  5918\n## 10  1999  6708\n## # ℹ 25 more rows\n\nChanges in the total number of refugees in Spain every year since 1990\n\nrefugees_in_spain_diff &lt;- unhcr_refugees |&gt; \n  filter(coa_iso == \"ESP\", year &gt;= 1990) |&gt; \n  group_by(year) |&gt; \n  summarize(total = sum(refugees)) |&gt; \n  mutate(diff = total - lag(total))  # Subtract the previous value from each value\nrefugees_in_spain_diff\n## # A tibble: 35 × 3\n##     year total  diff\n##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n##  1  1990  8303    NA\n##  2  1991  4005 -4298\n##  3  1992  4040    35\n##  4  1993  4990   950\n##  5  1994  5351   361\n##  6  1995  5840   489\n##  7  1996  5672  -168\n##  8  1997  5512  -160\n##  9  1998  5918   406\n## 10  1999  6708   790\n## # ℹ 25 more rows\n\nTotal asylum seekers from Cambodia and Myanmar over time\n\nrefugees_from_se_asia &lt;- unhcr_refugees |&gt; \n  filter(coo_name %in% c(\"Cambodia\", \"Myanmar\"), year &gt;= 2000) |&gt; \n  group_by(coo_name, year) |&gt; \n  summarize(total = sum(asylum_seekers))\nrefugees_from_se_asia\n## # A tibble: 50 × 3\n## # Groups:   coo_name [2]\n##    coo_name  year total\n##    &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;\n##  1 Cambodia  2000   301\n##  2 Cambodia  2001   304\n##  3 Cambodia  2002   465\n##  4 Cambodia  2003   461\n##  5 Cambodia  2004   501\n##  6 Cambodia  2005   856\n##  7 Cambodia  2006   668\n##  8 Cambodia  2007   415\n##  9 Cambodia  2008   212\n## 10 Cambodia  2009   220\n## # ℹ 40 more rows\n\nTop 5 countries of origin in France (could be used in something like a bump chart)\n\ntop_coos_in_france &lt;- unhcr_refugees |&gt; \n  filter(coa_name == \"France\", year &gt;= 2014) |&gt; \n  group_by(year, coo_name) |&gt; \n  summarize(total = sum(refugees)) |&gt; \n  group_by(year) |&gt; \n  slice_max(total, n = 5)\ntop_coos_in_france\n## # A tibble: 55 × 3\n## # Groups:   year [11]\n##     year coo_name                             total\n##    &lt;dbl&gt; &lt;chr&gt;                                &lt;dbl&gt;\n##  1  2014 Unknown                              60000\n##  2  2014 Sri Lanka                            23966\n##  3  2014 Dem. Rep. of the Congo               13727\n##  4  2014 Russian Federation                   13644\n##  5  2014 Serbia and Kosovo: S/RES/1244 (1999) 12119\n##  6  2015 Unknown                              68443\n##  7  2015 Sri Lanka                            24220\n##  8  2015 Russian Federation                   14195\n##  9  2015 Dem. Rep. of the Congo               14182\n## 10  2015 Serbia and Kosovo: S/RES/1244 (1999) 12500\n## # ℹ 45 more rows",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 2"
    ]
  },
  {
    "objectID": "assignment/02-mini-project.html#footnotes",
    "href": "assignment/02-mini-project.html#footnotes",
    "title": "Mini project 2",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nFormerly known as the UN High Commissioner for Refugees; they changed their name but kept the acronym.↩︎",
    "crumbs": [
      "Assignments",
      "Projects",
      "Mini project 2"
    ]
  },
  {
    "objectID": "assignment/04-exercise.html",
    "href": "assignment/04-exercise.html",
    "title": "Amounts and proportions",
    "section": "",
    "text": "For this exercise you’ll practice grouping, summarizing, and plotting counts and proportions using data on animals admitted to shelters run by the City of Long Beach Animal Care Services—this is real government data!\nThere are 22 columns, and they’re documented here—make sure you consult that page!\nAnd as always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "assignment/04-exercise.html#instructions",
    "href": "assignment/04-exercise.html#instructions",
    "title": "Amounts and proportions",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 04-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 04-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-4.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "assignment/04-exercise.html#tips",
    "href": "assignment/04-exercise.html#tips",
    "title": "Amounts and proportions",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "4: Amounts and proportions"
    ]
  },
  {
    "objectID": "assignment/06-exercise.html",
    "href": "assignment/06-exercise.html",
    "title": "Uncertainty",
    "section": "",
    "text": "For this exercise you’ll practice visualizing uncertainty by making histograms, density plots, and raincloud plots. You’ll use data on state-level spending on children from 1997–2016. The data was collected by the Urban Institute from a variety of government sources. It was a #TidyTuesday dataset in September 2020.\nAs always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "assignment/06-exercise.html#instructions",
    "href": "assignment/06-exercise.html#instructions",
    "title": "Uncertainty",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 06-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 06-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-6.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "assignment/06-exercise.html#tips",
    "href": "assignment/06-exercise.html#tips",
    "title": "Uncertainty",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "6: Uncertainty"
    ]
  },
  {
    "objectID": "assignment/08-exercise.html",
    "href": "assignment/08-exercise.html",
    "title": "Comparisons",
    "section": "",
    "text": "For this exercise you’ll practice visualizing comparisons by making a small multiples plot, a slopegraph, and a bar chart showing percent change over time. You’ll use data about US elections from two different sources:\nAs always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "assignment/08-exercise.html#instructions",
    "href": "assignment/08-exercise.html#instructions",
    "title": "Comparisons",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 08-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 08-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-8.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "assignment/08-exercise.html#tips",
    "href": "assignment/08-exercise.html#tips",
    "title": "Comparisons",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "8: Comparisons"
    ]
  },
  {
    "objectID": "assignment/10-exercise.html",
    "href": "assignment/10-exercise.html",
    "title": "Enhancing graphics",
    "section": "",
    "text": "For this exercise you’ll practice using vector editing software to enhance and refine a plot to make it publication-worthy. You’ll use data on state-level spending on children from 1997–2016. The data was collected by the Urban Institute from a variety of government sources. You already used this data in Exercise 6.\nYou don’t need to worry about any data manipuluation or code or anything. I’ve given you all the code you need to run. Instead, your job is to take a ggplot plot and enhance it, following the guidelines from an organizational visual style guide. You’ll use Illustrator, Inkscape, or some other vector editing program to recreate this image:\nAs always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "assignment/10-exercise.html#instructions",
    "href": "assignment/10-exercise.html#instructions",
    "title": "Enhancing graphics",
    "section": "Instructions",
    "text": "Instructions\n\n\n\n\n\n\nWarningAttention!\n\n\n\nThe instructions for this are a little different from past exercises. Read everything below carefully!\n\n\n\n1. Getting started\n\nThe plot uses the Lato font for all text elements. Download it from Google Fonts and install it on your computer. If you’re on Windows, right click on the font file and install it as an administrator.\nOpen the project either on your computer or in Posit.cloud\n\n 10-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 10-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-10.qmd to something that matches your name and open it in RStudio.\nRun the chunks in the document to generate base_plot.pdf and base_plot.svg. You don’t need to write or modify any code.\n\n\n\n2. Enhancing and refining\nOnce you have a base plot file, you’ll use a vector editing program (see this page for more information about what’s available—there’s a free option!) to enhance and refine it.\nYou should follow the guidelines in the Urban Institute’s data visaulization style guide. In particular, pay attention to these sections:\n\nChart typography and sizing\nChart parts, especially the “In print” section\nColor\nLine charts\n\n\n\n\n\n\n\nNoteBrowse the style guide\n\n\n\nAlso, glance through that style guide in general. They talk about almost everything we’ve covered (or will cover) in this class, including good design principles, different chart types, specific rules and guidelines to follow with different types of plots, etc. It’s a really neat example of all this data visualization stuff in the real world!\n\n\nTo save on typing, I’ve included all the text and and other files you need in a folder named “assets” inside the main project. Open assets/details-and-content.md to access all the text and use the fake Shmurban Shminstitute logo (assets/fake-logo.svg).\nEdit the base plot in Illustrator, Inkscape, or some other vector editing program. Do not use Canva—it is not a vector editing program. Here are some helpful resources and instructions for Illustrator and Inkscape:\n\nIf you’re using IllustratorIf you’re using Inkscape\n\n\n\nCreate a new document that is 6.25 inches wide and some number of inches tall (this is adjustable later, so you don’t need to be exact).\nOpen the PDF base_plot.pdf in as a separate document in Illustrator.\nSelect all the elements in base_plot.pdf, copy them, and paste them into your new empty document. Do all your design and enhancing work in this new document, not in base_plot.pdf, since that will get overwritten every time you re-render the Quarto document.\nMake all your edits and add the logo and do whatever else you want to follow the organizational style guide and generaly enhance the plot.\nBefore exporting the finished version, make sure you resize your artboard to match the size of the plot (see this short tutorial). The final plot should be 6.25 inches wide and the height of the content in the image (this will vary depending on how you lay out the text).\nGo to File &gt; Export &gt; Export for Screens… to export your artboard to both PDF and high resolution PNG (see this short tutorial).\n\n\n\n\nCreate a new document. Use the “document pages” tool at the bottom of the side toolbar to change its dimensions to 6.25 inches wide and some number of inches tall (like 6 or7; this is adjustable later, so you don’t need to be exact). See this short tutorial for how to do this.\nOpen the SVG base_plot.svg in as a separate document in Inkscape\nSelect all the elements in base_plot.svg, copy them, and paste them into your new empty document. Do all your design and enhancing work in this new document, not in base_plot.svg, since that will get overwritten every time you re-render the Quarto document.\nMake all your edits and add the logo and do whatever else you want to follow the organizational style guide and generaly enhance the plot.\nBefore exporting the finished version, make sure you resize your document to match the size of the plot. The final plot should be 6.25 inches wide and the height of the content in the image (this will vary depending on how you lay out the text). Use the “document pages” tool to either type in a new height or drag the handles of the page to resize it. Again, see this short tutorial\nGo to File &gt; Export and then select the “Batch Export” tab to export your document to both PDF and high resolution PNG (see timestamp 2:15ish here for how)\n\n\n\n\n\n\n3. Finishing up\n\nPlace the exported image in the same folder as your .qmd file and include it in your document. Add images with Markdown syntax like this (This is not R code! Don’t put this in an R chunk!):\nblah blah here's some text\n\n![Some sort of caption](name-of-file.png)\n\nblah blah here's some more text\nRender your Quarto document as a Typst (pdf), PDF, or Word version.\nUpload three (3) things to iCollege:\n\nYour rendered .qmd file with your check-in and the exported image included in it\nA standalone PNG version of your exported image\nA standalone PDF version of your exported image",
    "crumbs": [
      "Assignments",
      "Exercises",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "assignment/12-exercise.html",
    "href": "assignment/12-exercise.html",
    "title": "Space",
    "section": "",
    "text": "For this exercise you’ll make maps! You’ll use data from the US Census’s American Community Survey about household use of Supplemental Nutrition Assistance Program (SNAP) benefits.1 The assignment .qmd file contains all the information you need about the data.\nAs always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "12: Space"
    ]
  },
  {
    "objectID": "assignment/12-exercise.html#instructions",
    "href": "assignment/12-exercise.html#instructions",
    "title": "Space",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 12-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 12-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-12.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "12: Space"
    ]
  },
  {
    "objectID": "assignment/12-exercise.html#tips",
    "href": "assignment/12-exercise.html#tips",
    "title": "Space",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "12: Space"
    ]
  },
  {
    "objectID": "assignment/12-exercise.html#footnotes",
    "href": "assignment/12-exercise.html#footnotes",
    "title": "Space",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nFor the morbidly curious, see here for the full data cleaning code. I use the {tidycensus} and {tigris} packages to pull data directly from the US Census and then do a bunch of wrangling and cleaning.↩︎",
    "crumbs": [
      "Assignments",
      "Exercises",
      "12: Space"
    ]
  },
  {
    "objectID": "assignment/14-exercise.html",
    "href": "assignment/14-exercise.html",
    "title": "Text",
    "section": "",
    "text": "The Office was an American TV show that ran for 201 episodes over 9 seasons from 2005–2013.\nIn this exercise, you’ll explore and visualize different trends and patterns in the complete script of the entire show. The data comes from the {schrute} package, which contains the script transcription for all 201 episodes, in addition to other episode-specific data.\nAs always, if you’re struggling, please use Discord and talk to me and your classmates! Don’t suffer in silence!",
    "crumbs": [
      "Assignments",
      "Exercises",
      "14: Text"
    ]
  },
  {
    "objectID": "assignment/14-exercise.html#instructions",
    "href": "assignment/14-exercise.html#instructions",
    "title": "Text",
    "section": "Instructions",
    "text": "Instructions\n\nOpen the project either on your computer or in Posit.cloud\n\n 14-exercise.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named 14-exercise.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nRename the Quarto file named your-name_exercise-14.qmd to something that matches your name and open it in RStudio.\nComplete the tasks given in the Quarto file. You can definitely copy, paste, and adapt from other code in the document or the example page—don’t try to write everything from scratch!\nWhen you’re all done, click on the “Render” button at the top of the editing window and create a Typst (pdf), PDF, or Word version of your document. Upload that file to iCollege. Do not upload a rendered HTML file (they don’t work on iCollege).",
    "crumbs": [
      "Assignments",
      "Exercises",
      "14: Text"
    ]
  },
  {
    "objectID": "assignment/14-exercise.html#tips",
    "href": "assignment/14-exercise.html#tips",
    "title": "Text",
    "section": "Tips",
    "text": "Tips\n\n\n\n\n\n\nTipRunning chunks\n\n\n\nRemember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press ⌘ + enter (for macOS users) or ctrl + enter (for Windows users).\nMake sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.\n\n\n\n\n\n\n\n\nTipInserting chunks\n\n\n\nYou’ll need to insert some of your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press ⌥ + ⌘ + I on macOS, or ctrl + alt + I on Windows.",
    "crumbs": [
      "Assignments",
      "Exercises",
      "14: Text"
    ]
  },
  {
    "objectID": "assignment/final-project.html",
    "href": "assignment/final-project.html",
    "title": "Final project",
    "section": "",
    "text": "You made it to the end of our whirlwind tour of data visualization principles! Congratulations!\nNow you get to show off all the tools you learned with a beautiful, truthful, narrative visualization.\nFor your final project, you will take a dataset, explore it, tinker with it, and tell a nuanced story about it using at least three graphs.\nI want this project to be as useful for you and your future career as possible—you’ll hopefully want to show off your final project in a portfolio or during job interviews.\nAccordingly, you have total freedom in what data you can use for this project. Go to this list of data sources and find something interesting, or use your own data. Do something neat!",
    "crumbs": [
      "Assignments",
      "Projects",
      "Final project"
    ]
  },
  {
    "objectID": "assignment/final-project.html#instructions",
    "href": "assignment/final-project.html#instructions",
    "title": "Final project",
    "section": "Instructions",
    "text": "Instructions\nHere’s what you’ll need to do:\n\nCreate a new RStudio project on your computer, or use an empty starter project here:\n\n final-project.zip: If you’re using R on your own computer, download this file, unzip it, and double click on the file named final-project.Rproj\n Posit.cloud project: Use this link if you’re using Posit.cloud in your browser\n\nDownload a dataset and explore it. Many of these datasets are large and will not open (well) in Excel, so you’ll need to load the CSV file into R with read_csv(). Most of these datasets have nice categorical variables that you can use for grouping and summarizing, and many have time components too, so you can look at trends. Your past problem sets and in-class examples will come in handy here.\nFind a story in the data. Explore that story and make sure it’s true and insightful.\nUse R to create at least three graphs to tell the story. You can make as many graphs as you want, but you must use at least three different chart types (i.e. don’t just make three scatterplots or three maps).\nExport these figures as PDF files, place them in a vector editing program, and make one combined graphic or handout where you tell the complete story. You have a lot of latitude in how you do this. Whatever you do, the final figure must include all the graphics, must have some explanatory text to help summarize the narrative, and must be well designed.\nExport the final graphic from Illustrator/Affinity/Inkscape as a PDF and as a PNG.\nWrite a memo using Quarto to introduce, frame, and describe your story and figure. Use this template to get started—that template is included in the .zip and Posit Cloud versions of the project. You should include the following in the memo:\n\nExecutive summary\nBackground information and summary of the data\nExplanation, description, and code for each individual figure\nExplanation and description for the final figure\nFinal figure should be included as an image (remember ![Caption goes here](path/to/file.png))\n\n\nRemember to follow Quarto etiquette rules and style—don’t have it output extraneous messages or warnings, include summary tables in nice tables, adjust the dimensions for your figures, and remove the placeholder text that’s in the template already (i.e. I don’t want to see stuff like “Describe and show how you cleaned and reshaped the data” in the final report.)\nYou can download a full example of what a final project might look like (but don’t make your final combined visualization look exactly like this—show some creativity!)",
    "crumbs": [
      "Assignments",
      "Projects",
      "Final project"
    ]
  },
  {
    "objectID": "assignment/final-project.html#final-deliverables",
    "href": "assignment/final-project.html#final-deliverables",
    "title": "Final project",
    "section": "Final deliverables",
    "text": "Final deliverables\nUpload the following files to iCollege:\n\nA memo introducing and describing your final graphic (see full instructions above)\nA standalone PDF of your graphic exported from Illustrator/Affinity/Inkscape\nA standalone PNG of your graphic exported from Illustrator/Affinity/Inkscape\n\nNo late work will be accepted for this project since it’s the last project and it counts as your final.\nI will use this rubric to grade the final product:\n\n final-project_rubric.xlsx\n\nI am happy to give feedback and help along the way—please don’t hesitate to get help! My goal is for you to have a beautiful graphic in the end that you’ll want to show off to all your friends, family, neighbors, employers, and strangers on the street—I’m not trying to trip you up or give you trick questions!\nAnd that’s it. You’re done! Go out into the world now and make beautiful, insightful, and truthful graphics.\nGo forth and make awesomeness.",
    "crumbs": [
      "Assignments",
      "Projects",
      "Final project"
    ]
  },
  {
    "objectID": "assignment/session-check-in.html",
    "href": "assignment/session-check-in.html",
    "title": "Session check-in",
    "section": "",
    "text": "After you finish working through the content for each session, I want to hear about what you learned and what questions you still have.\nTo encourage engagement with the course content, especially the readings and videos—and to allow me to collect the class’s questions each week—you’ll need to write a short list of responses as part of your exercise.\nYou should answer these two questions each session:\n\nWhat were the three (3) most interesting or exciting things you learned from the session? Why?\n\nThing 1 (and why)\nThing 2 (and why)\nThing 3 (and why)\n\nWhat were the three (3) muddiest or unclear things from the session? What are you still wondering about?\n\nThing 1 (and why)\nThing 2 (and why)\nThing 3 (and why)\n\n\nYou can include more than three interesting or muddiest things, but you must include at least three. There should be six easily identifiable things in each check-in: three exciting things and three questions.\nEach item should be 1–2 sentences long. Do not write just a single word—that will merit a ✓−.\n\n\n\n\n\n\nImportantFocus on the readings\n\n\n\nMake sure you focus on the readings and class materials.\nIn the past, I’ve had students (1) write about interesting things that they did that week, like “I saw my nephew” or “there’s construction along my street” (REALLY), or (2) narrate their assignments, like “one interesting thing is that I loaded data with read_csv(); another interesting thing is that I plotted it with ggplot()” (REALLY).\nThe point of this assignment is to help you reflect on what you’re learning.\n\n\n\n\n\n\n\n\nImportantDon’t overthink these!\n\n\n\nDon’t overthink this assignment! In the past, I’ve had students panic because they can’t find three interesting things that I’d want to see. I’m not looking for anything specific here.\nAs you read and take notes, you’ll (hopefully!) think “Huh, that’s cool. I didn’t know that before!” That’s what you should be talking about here. There are no right answers!\nAnd don’t outsource this assignment to ChatGPT! In the past, I’ve had some students turn in check-ins that left in text like this (REALLY TRULY):\n\nCertainly! I can help you think of three things that you found interesting that would prove to the professor that you read the materials…\n\nLike, yikes.\n\n\nI will grade these check-ins using a check system:\n\n✔+: (11.5 points (115%) in gradebook) Response shows phenomenal thought and engagement with the course content. I will not assign these often.\n✔: (10 points (100%) in gradebook) Response is thoughtful, well-written, and shows engagement with the course content. This is the expected level of performance.\n✔−: (5 points (50%) in gradebook) Response is hastily composed, too short, and/or only cursorily engages with the course content. This grade signals that you need to improve next time. I will hopefully not assign these often.\n\nNotice that is essentially a pass/fail or completion-based system. I’m not grading your writing ability, I’m not counting the exact number of words you’re writing, and I’m not looking for encyclopedic citations of every single reading to prove that you did indeed read everything. I’m looking for thoughtful engagement, three interesting things, and three questions. That’s all. Do good work and you’ll get a ✓.\nYou will submit these check-ins via iCollege. You will write them using Quarto and they will be the first section of your weekly exercises.",
    "crumbs": [
      "Assignments",
      "General assignments",
      "Session check-in"
    ]
  },
  {
    "objectID": "content/01-content.html",
    "href": "content/01-content.html",
    "title": "Truth, beauty, and data + R and tidyverse",
    "section": "",
    "text": "Class details:\n\nThe syllabus, content, lessons, examples, and assignments pages for this class\n\nLLMs and AI:\n\n AI, LLMs, BS, and vibe coding\n Michael Townsen Hicks, James Humphries, and Joe Slater, “ChatGPT Is Bullshit” (Hicks, Humphries, and Slater 2024)\n\nWhy data visualization matters:\n\n Tim Harford, “Florence Nightingale: Data Viz Pioneer,” 99% Invisible, episode 433, March 2, 2021 (this is a podcast; listen to it in your browser or use an app like Overcast or Spotify)\n Study: Charts change hearts and minds better than words do\n\nFoundational principles:\n\n Chapter 1 in Data Visualization (Healy 2018)\n Chapters 2 and 3 in The Truthful Art (Cairo 2016) (skim the introduction and chapter 1)",
    "crumbs": [
      "Content",
      "Foundations",
      "1: Truth, beauty, and data + the tidyverse"
    ]
  },
  {
    "objectID": "content/01-content.html#readings",
    "href": "content/01-content.html#readings",
    "title": "Truth, beauty, and data + R and tidyverse",
    "section": "",
    "text": "Class details:\n\nThe syllabus, content, lessons, examples, and assignments pages for this class\n\nLLMs and AI:\n\n AI, LLMs, BS, and vibe coding\n Michael Townsen Hicks, James Humphries, and Joe Slater, “ChatGPT Is Bullshit” (Hicks, Humphries, and Slater 2024)\n\nWhy data visualization matters:\n\n Tim Harford, “Florence Nightingale: Data Viz Pioneer,” 99% Invisible, episode 433, March 2, 2021 (this is a podcast; listen to it in your browser or use an app like Overcast or Spotify)\n Study: Charts change hearts and minds better than words do\n\nFoundational principles:\n\n Chapter 1 in Data Visualization (Healy 2018)\n Chapters 2 and 3 in The Truthful Art (Cairo 2016) (skim the introduction and chapter 1)",
    "crumbs": [
      "Content",
      "Foundations",
      "1: Truth, beauty, and data + the tidyverse"
    ]
  },
  {
    "objectID": "content/01-content.html#slides",
    "href": "content/01-content.html#slides",
    "title": "Truth, beauty, and data + R and tidyverse",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Foundations",
      "1: Truth, beauty, and data + the tidyverse"
    ]
  },
  {
    "objectID": "content/01-content.html#videos",
    "href": "content/01-content.html#videos",
    "title": "Truth, beauty, and data + R and tidyverse",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nFacts, truth, and beauty\nData, truth, and beauty\nBeautiful visualizations\nClass details\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Foundations",
      "1: Truth, beauty, and data + the tidyverse"
    ]
  },
  {
    "objectID": "content/03-content.html",
    "href": "content/03-content.html",
    "title": "Mapping data to graphics",
    "section": "",
    "text": "Hans Rosling, “200 Countries, 200 Years, 4 Minutes”\n Chapter 2 in Fundamentals of Data Visualization (Wilke 2018)\n Chapter 3 in Data Visualization (Healy 2018)\n\n\n\n\n\n This tutorial by Cédric Scherer is an excellent demonstration of the grammar of graphics and the sequential nature of building up a plot layer-by-layer.",
    "crumbs": [
      "Content",
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "content/03-content.html#readings",
    "href": "content/03-content.html#readings",
    "title": "Mapping data to graphics",
    "section": "",
    "text": "Hans Rosling, “200 Countries, 200 Years, 4 Minutes”\n Chapter 2 in Fundamentals of Data Visualization (Wilke 2018)\n Chapter 3 in Data Visualization (Healy 2018)\n\n\n\n\n\n This tutorial by Cédric Scherer is an excellent demonstration of the grammar of graphics and the sequential nature of building up a plot layer-by-layer.",
    "crumbs": [
      "Content",
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "content/03-content.html#slides",
    "href": "content/03-content.html#slides",
    "title": "Mapping data to graphics",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "content/03-content.html#videos",
    "href": "content/03-content.html#videos",
    "title": "Mapping data to graphics",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nData, aesthetics, and the grammar of graphics\nGrammatical layers\nAesthetics in extra dimensions\nTidy data\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "content/05-content.html",
    "href": "content/05-content.html",
    "title": "Themes",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 22 in Fundamentals of Data Visualization (Wilke 2018)\n\nHow to improve your labels:\n\n Andrew Heiss, “Quick and easy ways to deal with long labels in ggplot2”\n\n\n\n\ntheme() stuff:\n\n Clara Granell, “ggplot2 Theme System Cheatsheet”\n Henry Wang, “ggplot2 Theme Elements Demonstration”\n Glance through the documentation for ggplot’s complete themes and theme(), especially the examples near the bottom",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "content/05-content.html#readings",
    "href": "content/05-content.html#readings",
    "title": "Themes",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 22 in Fundamentals of Data Visualization (Wilke 2018)\n\nHow to improve your labels:\n\n Andrew Heiss, “Quick and easy ways to deal with long labels in ggplot2”\n\n\n\n\ntheme() stuff:\n\n Clara Granell, “ggplot2 Theme System Cheatsheet”\n Henry Wang, “ggplot2 Theme Elements Demonstration”\n Glance through the documentation for ggplot’s complete themes and theme(), especially the examples near the bottom",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "content/05-content.html#slides",
    "href": "content/05-content.html#slides",
    "title": "Themes",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "content/05-content.html#videos",
    "href": "content/05-content.html#videos",
    "title": "Themes",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nCRAP and ggplot\nThe anatomy of a ggplot theme\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "content/07-content.html",
    "href": "content/07-content.html",
    "title": "Relationships",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 9 in The Truthful Art (Cairo 2016)\n Chapter 12 in Fundamentals of Data Visualization (Wilke 2018)\n\n\n\n\n\n Andrew Heiss, “Marginalia”\n Kieran Healy, “Two y-axes”\n Two Alternatives to Using a Second Y-Axis & Illusion of success & Dissecting two axes\n Dual-Scaled Axes in Graphs: Are They Ever the Best Solution? (Few 2008)\n “A Study on Dual-Scale Data Charts” (Isenberg et al. 2011)",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "content/07-content.html#readings",
    "href": "content/07-content.html#readings",
    "title": "Relationships",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 9 in The Truthful Art (Cairo 2016)\n Chapter 12 in Fundamentals of Data Visualization (Wilke 2018)\n\n\n\n\n\n Andrew Heiss, “Marginalia”\n Kieran Healy, “Two y-axes”\n Two Alternatives to Using a Second Y-Axis & Illusion of success & Dissecting two axes\n Dual-Scaled Axes in Graphs: Are They Ever the Best Solution? (Few 2008)\n “A Study on Dual-Scale Data Charts” (Isenberg et al. 2011)",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "content/07-content.html#slides",
    "href": "content/07-content.html#slides",
    "title": "Relationships",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "content/07-content.html#videos",
    "href": "content/07-content.html#videos",
    "title": "Relationships",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nThe dangers of dual y-axes\nVisualizing correlations\nVisualizing regressions\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "content/09-content.html",
    "href": "content/09-content.html",
    "title": "Annotations",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 20, Chapter 21, Chapter 22, and Chapter 24 in Fundamentals of Data Visualization (Wilke 2018)\n Chapter 5 in Data Visualization (Healy 2018)\n\nStep-by-step example of excellent labelling:\n\n Cara Thompson, “Level Up Your Labels: Tips and Tricks for Annotating Plots”",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "9: Annotations"
    ]
  },
  {
    "objectID": "content/09-content.html#readings",
    "href": "content/09-content.html#readings",
    "title": "Annotations",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 20, Chapter 21, Chapter 22, and Chapter 24 in Fundamentals of Data Visualization (Wilke 2018)\n Chapter 5 in Data Visualization (Healy 2018)\n\nStep-by-step example of excellent labelling:\n\n Cara Thompson, “Level Up Your Labels: Tips and Tricks for Annotating Plots”",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "9: Annotations"
    ]
  },
  {
    "objectID": "content/09-content.html#slides",
    "href": "content/09-content.html#slides",
    "title": "Annotations",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "9: Annotations"
    ]
  },
  {
    "objectID": "content/09-content.html#videos",
    "href": "content/09-content.html#videos",
    "title": "Annotations",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nFretting the little things\nText in plots\nSeeds\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Core types of graphics",
      "9: Annotations"
    ]
  },
  {
    "objectID": "content/11-content.html",
    "href": "content/11-content.html",
    "title": "Interactivity",
    "section": "",
    "text": "ImportantImportant updates!\n\n\n\nSince recording these materials, there have been a few big changes in the world of R-related interactivity:\n\nQuarto now exists as a better, more fully featured version of R Markdown\nQuarto Pub now exists for hosting published documents and websites for free\nAs of the end of 2023, Quarto supports dashboards so there’s no need for {flexdashboard}\n\nAs a result, there are two important things to note while you watch the lectures:\n\nThe “Making interactive graphs” section of the slides and videos refers to the {flexdashboard} package. Disregard that and mentally replace mentions of {flexdashboard} with “Quarto Dashboards”.\nThe “Sharing content” section of the slides and videos refers to an online service called RPubs. Disregard all of that. I’ve omitted that video here.\n\n\n\n\n\nDashboards:\n\n Stephanie Evergreen, “How a Dashboard Changes the Conversation”\n Stephanie Evergreen, “The Problem with Dashboards (and a Solution)”\n\nExplorable explanations:\n\n Look at some of the explorable explorations here\n\n\n\n\nDashboards:\n\n Look at some of these examples of Quarto dashboards and Shiny apps\n Stephen Few, “2012 Perceptual Edge Dashboard Design Competition: A Solution of My Own”\n Skim through Stephen Few’s presentation on Information Dashboard Design\n\nExplorable explanations:\n\n Marcel Salathé and Nicky Case, “What Happens Next: COVID-19 Futures, Explained with Playable Situations”\n Brett Victor, “Explorable Explanations”\n Dragicevic, Jansen, Sarma, Kay, and Chevalier, “Explorable Multiverse Analyses”. Use Chrome, open Example 1, scroll to page 2, and click on some of the blue text to change the results of the paper within the paper itself. This is magical. Quarto can’t quite get this interactive in real-time, but you can knit different versions of a document with slightly different parameters and options.",
    "crumbs": [
      "Content",
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "content/11-content.html#readings",
    "href": "content/11-content.html#readings",
    "title": "Interactivity",
    "section": "",
    "text": "ImportantImportant updates!\n\n\n\nSince recording these materials, there have been a few big changes in the world of R-related interactivity:\n\nQuarto now exists as a better, more fully featured version of R Markdown\nQuarto Pub now exists for hosting published documents and websites for free\nAs of the end of 2023, Quarto supports dashboards so there’s no need for {flexdashboard}\n\nAs a result, there are two important things to note while you watch the lectures:\n\nThe “Making interactive graphs” section of the slides and videos refers to the {flexdashboard} package. Disregard that and mentally replace mentions of {flexdashboard} with “Quarto Dashboards”.\nThe “Sharing content” section of the slides and videos refers to an online service called RPubs. Disregard all of that. I’ve omitted that video here.\n\n\n\n\n\nDashboards:\n\n Stephanie Evergreen, “How a Dashboard Changes the Conversation”\n Stephanie Evergreen, “The Problem with Dashboards (and a Solution)”\n\nExplorable explanations:\n\n Look at some of the explorable explorations here\n\n\n\n\nDashboards:\n\n Look at some of these examples of Quarto dashboards and Shiny apps\n Stephen Few, “2012 Perceptual Edge Dashboard Design Competition: A Solution of My Own”\n Skim through Stephen Few’s presentation on Information Dashboard Design\n\nExplorable explanations:\n\n Marcel Salathé and Nicky Case, “What Happens Next: COVID-19 Futures, Explained with Playable Situations”\n Brett Victor, “Explorable Explanations”\n Dragicevic, Jansen, Sarma, Kay, and Chevalier, “Explorable Multiverse Analyses”. Use Chrome, open Example 1, scroll to page 2, and click on some of the blue text to change the results of the paper within the paper itself. This is magical. Quarto can’t quite get this interactive in real-time, but you can knit different versions of a document with slightly different parameters and options.",
    "crumbs": [
      "Content",
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "content/11-content.html#slides",
    "href": "content/11-content.html#slides",
    "title": "Interactivity",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "content/11-content.html#videos",
    "href": "content/11-content.html#videos",
    "title": "Interactivity",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nMaking interactive graphs\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "content/13-content.html",
    "href": "content/13-content.html",
    "title": "Time",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 8 in The Truthful Art (Cairo 2016)\n 11 Ways to Visualize Changes Over Time – A Guide\n\n\n\n\n\n How To Fix a Toilet (And Other Things We Couldn’t Do Without Search)\n The Nuclear Threat—The Shadow Peace, part 1\n The Fallen of World War II\n What a Hundred Million Calls to 311 Reveal About New York (just look at the picture; you don’t need to read this unless you’re really curious about trends in 311 calls)\n A century of ocean shipping animated\n What is seasonal adjustment and why is it used?\n Calculating birthday probabilities with R instead of math",
    "crumbs": [
      "Content",
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "content/13-content.html#readings",
    "href": "content/13-content.html#readings",
    "title": "Time",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 8 in The Truthful Art (Cairo 2016)\n 11 Ways to Visualize Changes Over Time – A Guide\n\n\n\n\n\n How To Fix a Toilet (And Other Things We Couldn’t Do Without Search)\n The Nuclear Threat—The Shadow Peace, part 1\n The Fallen of World War II\n What a Hundred Million Calls to 311 Reveal About New York (just look at the picture; you don’t need to read this unless you’re really curious about trends in 311 calls)\n A century of ocean shipping animated\n What is seasonal adjustment and why is it used?\n Calculating birthday probabilities with R instead of math",
    "crumbs": [
      "Content",
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "content/13-content.html#slides",
    "href": "content/13-content.html#slides",
    "title": "Time",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "content/13-content.html#videos",
    "href": "content/13-content.html#videos",
    "title": "Time",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nAxis issues\nVisualizing time\nStarting, ending, and decomposing time\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "content/15-content.html",
    "href": "content/15-content.html",
    "title": "Truth, beauty, and data revisited",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 12 in The Truthful Art (Cairo 2016)\n Chapter 26 in Fundamentals of Data Visualization (Wilke 2018)\n\nStorytelling:\n\n Martin Krzywinski and Alberto Cairo, “Storytelling” (Krzywinski and Cairo 2013)\n Ben Wellington, “Making data mean more through storytelling”\n Jonathan Schwabish, “Better Data Communication,” National Bureau of Economic Research\n Why People Make Bad Charts (and What to Do When it Happens)",
    "crumbs": [
      "Content",
      "Special applications",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "content/15-content.html#readings",
    "href": "content/15-content.html#readings",
    "title": "Truth, beauty, and data revisited",
    "section": "",
    "text": "Foundational principles:\n\n Chapter 12 in The Truthful Art (Cairo 2016)\n Chapter 26 in Fundamentals of Data Visualization (Wilke 2018)\n\nStorytelling:\n\n Martin Krzywinski and Alberto Cairo, “Storytelling” (Krzywinski and Cairo 2013)\n Ben Wellington, “Making data mean more through storytelling”\n Jonathan Schwabish, “Better Data Communication,” National Bureau of Economic Research\n Why People Make Bad Charts (and What to Do When it Happens)",
    "crumbs": [
      "Content",
      "Special applications",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "content/15-content.html#slides",
    "href": "content/15-content.html#slides",
    "title": "Truth, beauty, and data revisited",
    "section": "Slides",
    "text": "Slides\nThe slides for this week’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.\n\n View all slides in new window  Download PDF of all slides\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFun fact: If you type ? (or shift + /) while going through the slides, you can see a list of special slide-specific commands.",
    "crumbs": [
      "Content",
      "Special applications",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "content/15-content.html#videos",
    "href": "content/15-content.html#videos",
    "title": "Truth, beauty, and data revisited",
    "section": "Videos",
    "text": "Videos\nVideos for each section of the lecture are available at this YouTube playlist.\n\nIntroduction\nTelling stories with data\nCuriosity\n\nYou can also watch the playlist (and skip around to different sections) here:",
    "crumbs": [
      "Content",
      "Special applications",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "example/01-example.html",
    "href": "example/01-example.html",
    "title": "Introduction to R and the tidyverse",
    "section": "",
    "text": "For this example, I’m going to create a new RStudio project, download some data, put the data in the project, and make a graph of it using R Markdown. You’ll follow this same process any time you start a new project or exercise.\nTo follow along, download this CSV file here (you may need to right click on it and select “Save As…”):\n\n gapminder.csv\n\nHere’s a video walkthrough of how to get started:",
    "crumbs": [
      "Foundations",
      "1: Introduction to R and the tidyverse"
    ]
  },
  {
    "objectID": "example/01-example.html#basic-process-for-working-with-rstudio",
    "href": "example/01-example.html#basic-process-for-working-with-rstudio",
    "title": "Introduction to R and the tidyverse",
    "section": "",
    "text": "For this example, I’m going to create a new RStudio project, download some data, put the data in the project, and make a graph of it using R Markdown. You’ll follow this same process any time you start a new project or exercise.\nTo follow along, download this CSV file here (you may need to right click on it and select “Save As…”):\n\n gapminder.csv\n\nHere’s a video walkthrough of how to get started:",
    "crumbs": [
      "Foundations",
      "1: Introduction to R and the tidyverse"
    ]
  },
  {
    "objectID": "example/03-example.html",
    "href": "example/03-example.html",
    "title": "Mapping data to graphics",
    "section": "",
    "text": "For this example, I’m going to use real world data to demonstrate the typical process for loading data, cleaning it up a bit, and mapping specific columns of the data onto the parts of a graph using the grammar of graphics and ggplot().\nThe data I’ll use comes from the BBC’s corporate charity, BBC Children in Need, which makes grants to smaller UK nonprofit organizations that work on issues related to childhood poverty. An organization in the UK named 360Giving helps nonprofits and foundations publish data about their grant giving activities in an open and standardized way, and (as of May 2020) they list data from 126 different charities, including BBC Children in Need.\nIf you want to follow along with this example (highly recommended!), you can download the data directly from 360Giving or by using this link:",
    "crumbs": [
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "example/03-example.html#live-coding-example",
    "href": "example/03-example.html#live-coding-example",
    "title": "Mapping data to graphics",
    "section": "Live coding example",
    "text": "Live coding example\n\n\n\n\n\n\nWarning\n\n\n\nI got carried away with this because I wanted to make it as comprehensive and detailed as possible, so it starts off with nothing and walks through the process of downloading data, creating a new project, and getting everything started. As such, it is ridiculously long (1 hour 😱 😱). Remember that there’s no requirement that you watch these things—they’re simply for your reference so you can see what doing this R stuff looks like in real time. The content all below the video is roughly the same (more polished even).\nThat said, it is a useful demonstration of how to get everything started and what it looks like to do an entire analysis, so there is value in it. Watch just the first part, or watch it on 2x or something.\nAnd I promise future examples will not be this long!\n\n\n\n\n\n\n\n\n\n\n\n\nImportantSlight differences from the video\n\n\n\nThis is a slightly cleaned up version of the code from the video.",
    "crumbs": [
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "example/03-example.html#load-and-clean-data",
    "href": "example/03-example.html#load-and-clean-data",
    "title": "Mapping data to graphics",
    "section": "Load and clean data",
    "text": "Load and clean data\nFirst, we need to load a few libraries: {tidyverse} (as always) and {readxl} for reading Excel files:\n\n\nCode\n# Load libraries\nlibrary(tidyverse)  # For ggplot, dplyr, and friends\nlibrary(readxl)     # For reading Excel files\n\n\nWe’ll then load the original Excel file. I placed this file in a folder named data in my RStudio Project folder for this example. I like to read original data into an object named whatever_raw just in case it takes a long time to load (that way I don’t have to keep reloading it every time I add a new column or do anything else with it). It’s also good practice to keep a pristine, untouched copy of your data.\n\n\nCode\n# Load the original Excel file\nbbc_raw &lt;- read_excel(\"data/360-giving-data.xlsx\")\n\n\nThere may be some errors reading the file—you can ignore those in this case.\nNext we’ll add a couple columns and clean up the data a little. In the video I did this non-linearly—I came back to the top of the document to add columns when I needed them and then reran the chunk to create the data.\nWe’ll extract the year from the Award Date column, rename some of the longer-named columns, and make a new column that shows the duration of grants. We’ll also get rid of 2015 since there are so few observations then.\nNote the strange use of `s around column names like `Award Date`. This is because R technically doesn’t allow special characters like spaces in column names. If there are spaces, you have to wrap the column names in backticks. Because typing backticks all the time gets tedious, we’ll use rename() to rename some of the columns:\n\n\nCode\nbbc &lt;- bbc_raw |&gt; \n  # Extract the year from the award date\n  mutate(grant_year = year(`Award Date`)) |&gt; \n  # Rename some columns\n  rename(grant_amount = `Amount Awarded`,\n         grant_program = `Grant Programme:Title`,\n         grant_duration = `Planned Dates:Duration (months)`) |&gt; \n  # Make a new text-based version of the duration column, recoding months\n  # between 12-23, 23-35, and 36+. The case_when() function here lets us use\n  # multiple if/else conditions at the same time.\n  mutate(grant_duration_text = case_when(\n    grant_duration &gt;= 12 & grant_duration &lt; 24 ~ \"1 year\",\n    grant_duration &gt;= 24 & grant_duration &lt; 36 ~ \"2 years\",\n    grant_duration &gt;= 36 ~ \"3 years\"\n  )) |&gt; \n  # Get rid of anything before 2016\n  filter(grant_year &gt; 2015) |&gt; \n  # Make a categorical version of the year column\n  mutate(grant_year_category = factor(grant_year))",
    "crumbs": [
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "example/03-example.html#histograms",
    "href": "example/03-example.html#histograms",
    "title": "Mapping data to graphics",
    "section": "Histograms",
    "text": "Histograms\nFirst let’s look at the distribution of grant amounts with a histogram. Map grant_amount to the x-axis and don’t map anything to the y-axis, since geom_histogram() will calculate the y-axis values for us:\n\n\nCode\nggplot(data = bbc, mapping = aes(x = grant_amount)) +\n  geom_histogram()\n## `stat_bin()` using `bins = 30`. Pick better value `binwidth`.\n\n\n\n\n\n\n\n\n\nNotice that ggplot warns you about bin widths. By default it will divide the data into 30 equally spaced bins, which will most likely not be the best for your data. You should always set your own bin width to something more appropriate. There are no rules for correct bin widths. Just don’t have them be too wide:\n\n\nCode\nggplot(data = bbc, mapping = aes(x = grant_amount)) +\n  geom_histogram(binwidth = 100000)\n\n\n\n\n\n\n\n\n\nOr too small:\n\n\nCode\nggplot(data = bbc, mapping = aes(x = grant_amount)) +\n  geom_histogram(binwidth = 500)\n\n\n\n\n\n\n\n\n\n£10,000 seems to fit well. It’s often helpful to add a white border to the histogram bars, too:\n\n\nCode\nggplot(data = bbc, mapping = aes(x = grant_amount)) +\n  geom_histogram(binwidth = 10000, color = \"white\")\n\n\n\n\n\n\n\n\n\nWe can map other variables onto the plot, like mapping grant_year_category to the fill aesthetic:\n\n\nCode\nggplot(bbc, aes(x = grant_amount, fill = grant_year_category)) +\n  geom_histogram(binwidth = 10000, color = \"white\")\n\n\n\n\n\n\n\n\n\nThat gets really hard to interpret though, so we can facet by year with facet_wrap():\n\n\nCode\nggplot(bbc, aes(x = grant_amount, fill = grant_year_category)) +\n  geom_histogram(binwidth = 10000, color = \"white\") +\n  facet_wrap(vars(grant_year))\n\n\n\n\n\n\n\n\n\nNeat!",
    "crumbs": [
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "example/03-example.html#points",
    "href": "example/03-example.html#points",
    "title": "Mapping data to graphics",
    "section": "Points",
    "text": "Points\nNext let’s look at the data using points, mapping year to the x-axis and grant amount to the y-axis:\n\n\nCode\nggplot(bbc, aes(x = grant_year_category, y = grant_amount)) +\n  geom_point()\n\n\n\n\n\n\n\n\n\nWe have some serious overplotting here, with dots so thick that it looks like lines. We can fix this a couple different ways. First, we can make the points semi-transparent using alpha, which ranges from 0 (completely invisible) to 1 (completely solid).\n\n\nCode\nggplot(bbc, aes(x = grant_year_category, y = grant_amount)) +\n  geom_point(alpha = 0.1)\n\n\n\n\n\n\n\n\n\nWe can also randomly space the points to spread them out using position_jitter():\n\n\nCode\nggplot(bbc, aes(x = grant_year_category, y = grant_amount)) +\n  geom_point(position = position_jitter())\n\n\n\n\n\n\n\n\n\nOne issue with this, though, is that the points are jittered along the x-axis (which is fine, since they’re all within the same year) and the y-axis (which is bad, since the amounts are actual numbers). We can tell ggplot to only jitter in one direction by specifying the height argument—we don’t want any up-and-down jittering:\n\n\nCode\nggplot(bbc, aes(x = grant_year_category, y = grant_amount)) +\n  geom_point(position = position_jitter(height = 0))\n\n\n\n\n\n\n\n\n\nThere are some weird clusters around £30,000 and below. Let’s map grant_program to the color aesthetic, which has two categories—regular grants and small grants—and see if that helps explain why:\n\n\nCode\nggplot(bbc, aes(x = grant_year_category, y = grant_amount, color = grant_program)) +\n  geom_point(position = position_jitter(height = 0))\n\n\n\n\n\n\n\n\n\nIt does! We appear to have two different distributions of grants: small grants have a limit of £30,000, while regular grants have a much higher average amount.",
    "crumbs": [
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "example/03-example.html#boxplots",
    "href": "example/03-example.html#boxplots",
    "title": "Mapping data to graphics",
    "section": "Boxplots",
    "text": "Boxplots\nWe can add summary information to the plot by only changing the geom we’re using. Switch from geom_point() to geom_boxplot():\n\n\nCode\nggplot(bbc, aes(x = grant_year_category, y = grant_amount, color = grant_program)) +\n  geom_boxplot()",
    "crumbs": [
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "example/03-example.html#summaries",
    "href": "example/03-example.html#summaries",
    "title": "Mapping data to graphics",
    "section": "Summaries",
    "text": "Summaries\nWe can also make smaller summarized datasets with {dplyr} functions like group_by() and summarize() and plot those. First let’s look at grant totals, averages, and counts over time:\n\n\nCode\nbbc_by_year &lt;- bbc |&gt; \n  group_by(grant_year) |&gt;  # Make invisible subgroups for each year\n  summarize(total = sum(grant_amount),  # Find the total awarded in each group\n            avg = mean(grant_amount),  # Find the average awarded in each group\n            number = n())  # n() is a special function that shows the number of rows in each group\n\n# Look at our summarized data\nbbc_by_year\n## # A tibble: 4 × 4\n##   grant_year    total    avg number\n##        &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;int&gt;\n## 1       2016 17290488 78238.    221\n## 2       2017 62394278 59765.   1044\n## 3       2018 61349392 60205.   1019\n## 4       2019 41388816 61136.    677\n\n\nBecause we used summarize(), R shrank our data down significantly. We now only have a row for each of the subgroups we made: one for each year. We can plot this smaller data. We’ll use geom_col() for now (but in the next session you’ll learn why this is actually bad for averages!)\n\n\nCode\n# Plot our summarized data\nggplot(bbc_by_year, aes(x = grant_year, y = avg)) +\n  geom_col()\n\n\n\n\n\n\n\n\n\nCode\nggplot(bbc_by_year, aes(x = grant_year, y = total)) +\n  geom_col()\n\n\n\n\n\n\n\n\n\nCode\nggplot(bbc_by_year, aes(x = grant_year, y = number)) +\n  geom_col()\n\n\n\n\n\n\n\n\n\nBased on these charts, it looks like 2016 saw the largest average grant amount. In all other years, grants averaged around £60,000, but in 2016 it jumped up to £80,000. If we look at total grants, though, we can see that there were far fewer grants awarded in 2016—only 221! 2017 and 2018 were much bigger years with far more money awarded.\nWe can also use multiple aesthetics to reveal more information from the data. First we’ll make a new small summary dataset and group by both year and grant program. With those groups, we’ll again calculate the total, average, and number.\n\n\nCode\nbbc_year_size &lt;- bbc |&gt; \n  group_by(grant_year, grant_program) |&gt; \n  summarize(total = sum(grant_amount),\n            avg = mean(grant_amount),\n            number = n())\n\nbbc_year_size\n## # A tibble: 8 × 5\n## # Groups:   grant_year [4]\n##   grant_year grant_program    total    avg number\n##        &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;  &lt;dbl&gt;  &lt;int&gt;\n## 1       2016 Main Grants   16405586 86345.    190\n## 2       2016 Small Grants    884902 28545.     31\n## 3       2017 Main Grants   48502923 90154.    538\n## 4       2017 Small Grants  13891355 27453.    506\n## 5       2018 Main Grants   47347789 95652.    495\n## 6       2018 Small Grants  14001603 26721.    524\n## 7       2019 Main Grants   33019492 96267.    343\n## 8       2019 Small Grants   8369324 25058.    334\n\n\nNext we’ll plot the data, mapping the grant_program column to the fill aesthetic:\n\n\nCode\nggplot(bbc_year_size, aes(x = grant_year, y = total, fill = grant_program)) +\n  geom_col()\n\n\n\n\n\n\n\n\n\nBy default, ggplot will stack the different fill colors within the same bar, but this makes it a little hard to make comparisons. While we can see that the average small grant amount was a little bigger in 2017 than in 2019, it’s harder to compare average main grant amount, since the bottoms of those sections don’t align.\nTo fix this, we can use position_dodge() to tell the columns to fit side-by-side:\n\n\nCode\nggplot(bbc_year_size, aes(x = grant_year, y = total, fill = grant_program)) +\n  geom_col(position = position_dodge())\n\n\n\n\n\n\n\n\n\nInstead of dodging, we can also facet by grant_program to separate the bars:\n\n\nCode\nggplot(bbc_year_size, aes(x = grant_year, y = total, fill = grant_program)) +\n  geom_col() +\n  facet_wrap(vars(grant_program))\n\n\n\n\n\n\n\n\n\nWe can put these in one column if we want:\n\n\nCode\nggplot(bbc_year_size, aes(x = grant_year, y = total, fill = grant_program)) +\n  geom_col() +\n  facet_wrap(vars(grant_program), ncol = 1)\n\n\n\n\n\n\n\n\n\nFinally, we can include even more variables! We have a lot of aesthetics we can work with (size, alpha, color, fill, linetype, etc.), as well as facets, so let’s add one more to show the duration of the awarded grant.\nFirst we’ll make another smaller summarized dataset, grouping by year, program, and duration and summarizing the total, average, and number of awards.\n\n\nCode\nbbc_year_size_duration &lt;- bbc |&gt; \n  group_by(grant_year, grant_program, grant_duration_text) |&gt; \n  summarize(total = sum(grant_amount),\n            avg = mean(grant_amount),\n            number = n())\n\nbbc_year_size_duration\n## # A tibble: 21 × 6\n## # Groups:   grant_year, grant_program [8]\n##    grant_year grant_program grant_duration_text    total    avg number\n##         &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;                  &lt;dbl&gt;  &lt;dbl&gt;  &lt;int&gt;\n##  1       2016 Main Grants   2 years                97355 48678.      2\n##  2       2016 Main Grants   3 years             16308231 86746.    188\n##  3       2016 Small Grants  3 years               884902 28545.     31\n##  4       2017 Main Grants   1 year                 59586 29793       2\n##  5       2017 Main Grants   2 years               825732 82573.     10\n##  6       2017 Main Grants   3 years             47617605 90528.    526\n##  7       2017 Small Grants  1 year                 10000 10000       1\n##  8       2017 Small Grants  2 years               245227 18864.     13\n##  9       2017 Small Grants  3 years             13636128 27716.    492\n## 10       2018 Main Grants   1 year                118134 59067       2\n## # ℹ 11 more rows\n\n\nNext, we’ll fill by grant program and facet by duration and show the total number of grants awarded\n\n\nCode\nggplot(bbc_year_size_duration, aes(x = grant_year, y = number, fill = grant_program)) +\n  geom_col(position = position_dodge(preserve = \"single\")) +\n  facet_wrap(vars(grant_duration_text), ncol = 1)\n\n\n\n\n\n\n\n\n\nThe vast majority of BBC Children in Need’s grants last for 3 years. Super neat.",
    "crumbs": [
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "example/05-example.html",
    "href": "example/05-example.html",
    "title": "Themes",
    "section": "",
    "text": "The lesson for this week’s session is a fairly comprehensive introduction to using the theme() function in ggplot, and this page by Henry Wang is a good cheat sheet for remembering which theme elements are which on a plot—and I like this PDF cheatsheet by Clara Granell even better.\nFor your exercise, you’re going to create the world’s ugliest plot. For this example, we’ll use the principles of CRAP to make a great theme.\nI’m going to build the theme semi-incrementally here. Instead of showing how the plot updates with each change in setting, I do most of the updates all at once, with tons of comments explaining what each line does. Importantly, I did not write this all at once. When you’re tinkering with themes, you generally start with something like theme_minimal() or theme_bw() and then gradually add new things to theme(), like modifying plot.title, then plot.subtitle, etc. It’s a very iterative process with lots of tinkering. Because of this, there is no live-coding video for this example—it would be incredibly long and boring. Instead, look through each of the lines and see what they’re doing.\nFor this example, I’m going to use the gapminder dataset that we’ve been using throughout this week. Instead of using the CSV file like we did before, we’ll load the data from the {gapminder} package. Once you run library(gapminder), you’ll automatically have access to a dataset named gapminder.\nI’m also going to use the Roboto Condensed font in the theme. Download and install it on your computer if you don’t have it.",
    "crumbs": [
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "example/05-example.html#basic-plot",
    "href": "example/05-example.html#basic-plot",
    "title": "Themes",
    "section": "Basic plot",
    "text": "Basic plot\nWhen I’m creating a theme, I like to use a basic plot with everything that might show up, complete with a title, subtitle, caption, legend, facets, and other elements.\n\n\nCode\nlibrary(tidyverse)  # For ggplot, dplyr, and friends\nlibrary(gapminder)  # For gapminder data\nlibrary(scales)     # For nice axis labels\n\ngapminder_filtered &lt;- gapminder |&gt; \n  filter(year &gt; 2000)\n\nbase_plot &lt;- ggplot(data = gapminder_filtered,\n                    mapping = aes(x = gdpPercap, y = lifeExp, \n                                  color = continent, size = pop)) +\n  geom_point() +\n  # Use dollars, and get rid of the cents part (i.e. $300 instead of $300.00)\n  scale_x_log10(labels = label_dollar(accuracy = 1)) +\n  # Format with commas\n  scale_size_continuous(labels = label_comma()) +\n  # Use viridis\n  scale_color_viridis_d(option = \"plasma\", end = 0.9) +\n  labs(x = \"GDP per capita\", y = \"Life expectancy\",\n       color = \"Continent\", size = \"Population\",\n       title = \"Here's a cool title\",\n       subtitle = \"And here's a neat subtitle\",\n       caption = \"Source: The Gapminder Project\") +\n  facet_wrap(vars(year))\n\nbase_plot\n\n\n\n\n\n\n\n\n\nNow we have base_plot to work with. Here’s what it looks like with theme_minimal() applied to it:\n\n\nCode\nbase_plot +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThat gets rid of the grey background and is a good start, but we can make lots of improvements. First let’s deal with the gridlines. There are too many. We can get rid of the minor gridlines with by setting them to element_blank():\n\n\nCode\nbase_plot +\n  theme_minimal() +\n  theme(panel.grid.minor = element_blank())\n\n\n\n\n\n\n\n\n\nNext let’s add some typographic contrast. We’ll use Roboto Condensed Regular as the base font. Before trying this, make sure you do the following:\nOn macOS:\n\nRun capabilities() in your console and verify that TRUE shows up under cairo\nIf not, download and install XQuartz\n\nOn Windows:\n\nRun windowsFonts() in your console and you’ll see a list of all the fonts you can use with R. It’s not a very big list.\n#&gt; $serif\n#&gt; [1] \"TT Times New Roman\"\n#&gt;\n#&gt; $sans\n#&gt; [1] \"TT Arial\"\n#&gt; \n#&gt; $mono\n#&gt; [1] \"TT Courier New\"\nYou can add Roboto Condensed to your current R session by running this in your console:\n\n\nCode\nwindowsFonts(`Roboto Condensed` = windowsFont(\"Roboto Condensed\"))\n\n\nNow if you run windowsFonts(), you’ll see it in the list:\n#&gt; $serif\n#&gt; [1] \"TT Times New Roman\"\n#&gt;\n#&gt; $sans\n#&gt; [1] \"TT Arial\"\n#&gt; \n#&gt; $mono\n#&gt; [1] \"TT Courier New\"\n#&gt;\n#&gt; $`Roboto Condensed`\n#&gt; [1] \"Roboto Condensed\"\nThis only takes effect for your current R session, so if you are knitting a document or if you ever plan on closing RStudio, you’ll need to incorporate this font creation code into your script.\n\nWe’ll use the font as the base_family argument. Note how I make it bold with face and change the size with rel(). Instead of manually setting some arbitrary size, I use rel() to resize the text in relation to the base_size argument. Using rel(1.7) means 1.7 × base_size, or 20.4 That will rescale according to whatever base_size is—if I shrink it to base_size = 8, the title will scale down accordingly.\n\n\nCode\nplot_with_good_typography &lt;- base_plot +\n  theme_minimal(base_family = \"Roboto Condensed\", base_size = 12) +\n  theme(panel.grid.minor = element_blank(),\n        # Bold, bigger title\n        plot.title = element_text(face = \"bold\", size = rel(1.7)),\n        # Plain, slightly bigger subtitle that is grey\n        plot.subtitle = element_text(face = \"plain\", size = rel(1.3), color = \"grey70\"),\n        # Italic, smaller, grey caption that is left-aligned\n        plot.caption = element_text(face = \"italic\", size = rel(0.7), \n                                    color = \"grey70\", hjust = 0),\n        # Bold legend titles\n        legend.title = element_text(face = \"bold\"),\n        # Bold, slightly larger facet titles that are left-aligned for the sake of repetition\n        strip.text = element_text(face = \"bold\", size = rel(1.1), hjust = 0),\n        # Bold axis titles\n        axis.title = element_text(face = \"bold\"),\n        # Add some space above the x-axis title and make it left-aligned\n        axis.title.x = element_text(margin = margin(t = 10), hjust = 0),\n        # Add some space to the right of the y-axis title and make it top-aligned\n        axis.title.y = element_text(margin = margin(r = 10), hjust = 1))\nplot_with_good_typography\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could\n## be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\nWhoa. That gets us most of the way there! We have good contrast with the typography, with the strong bold and the lighter regular font (✓ contrast). Everything is aligned left (✓ alignment and ✓ repetition). By moving the axis titles a little bit away from the labels, we’ve enhanced proximity, since they were too close together (✓ proximity). We repeat grey in both the caption and the subtitle (✓ repetition).\nThe only thing I don’t like is that the 2002 isn’t quite aligned with the title and subtitle. This is because the facet labels are in boxes along the top of each plot, and in some themes (like theme_grey() and theme_bw()) those facet labels have grey backgrounds. We can turn off the margin in those boxes, or we can add a background, which will then be perfectly aligned with the title and subtitle.\n\n\nCode\nplot_with_good_typography +\n  # Add a light grey background to the facet titles, with no borders\n  theme(strip.background = element_rect(fill = \"grey90\", color = NA),\n        # Add a thin grey border around all the plots to tie in the facet titles\n        panel.border = element_rect(color = \"grey90\", fill = NA))\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\n🔪 💋! That looks great!\nTo save ourselves time in the future, we can store this whole thing as an object that we can then reuse on other plots:\n\n\nCode\nmy_pretty_theme &lt;- theme_minimal(base_family = \"Roboto Condensed\", base_size = 12) +\n  theme(panel.grid.minor = element_blank(),\n        # Bold, bigger title\n        plot.title = element_text(face = \"bold\", size = rel(1.7)),\n        # Plain, slightly bigger subtitle that is grey\n        plot.subtitle = element_text(face = \"plain\", size = rel(1.3), color = \"grey70\"),\n        # Italic, smaller, grey caption that is left-aligned\n        plot.caption = element_text(face = \"italic\", size = rel(0.7), \n                                    color = \"grey70\", hjust = 0),\n        # Bold legend titles\n        legend.title = element_text(face = \"bold\"),\n        # Bold, slightly larger facet titles that are left-aligned for the sake of repetition\n        strip.text = element_text(face = \"bold\", size = rel(1.1), hjust = 0),\n        # Bold axis titles\n        axis.title = element_text(face = \"bold\"),\n        # Add some space above the x-axis title and make it left-aligned\n        axis.title.x = element_text(margin = margin(t = 10), hjust = 0),\n        # Add some space to the right of the y-axis title and make it top-aligned\n        axis.title.y = element_text(margin = margin(r = 10), hjust = 1),\n        # Add a light grey background to the facet titles, with no borders\n        strip.background = element_rect(fill = \"grey90\", color = NA),\n        # Add a thin grey border around all the plots to tie in the facet titles\n        panel.border = element_rect(color = \"grey90\", fill = NA))\n\n\nNow we can use it on any plot. Remember that first plot you made in your exercise from session 1 with the cars dataset? Let’s throw this theme on it! (only here the dataset is named mpg instead of cars; the mpg dataset is loaded invisibly whenever you load ggplot)\n\n\nCode\nmpg_example &lt;- ggplot(data = mpg, \n                      mapping = aes(x = displ, y = hwy, color = class)) +\n  geom_point(size = 3) + \n  scale_color_viridis_d() +\n  facet_wrap(vars(drv)) +\n  labs(x = \"Displacement\", y = \"Highway MPG\", color = \"Car class\",\n       title = \"Heavier cars get worse mileage\",\n       subtitle = \"Except two-seaters?\",\n       caption = \"Here's a caption\") +\n  my_pretty_theme\n\nmpg_example\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, :\n## Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no\n## font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\nSuper neat!",
    "crumbs": [
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "example/05-example.html#nice-pre-built-themes",
    "href": "example/05-example.html#nice-pre-built-themes",
    "title": "Themes",
    "section": "Nice pre-built themes",
    "text": "Nice pre-built themes\nThis custom theme we just made is just one iteration of a theme. There are countless ways to tinker with a theme and have it meet the different CRAP principles. People have even published their own themes in different R packages. Check these out to see lots of different examples:\n\n{hrbrthemes}\n{ggthemes}\n{ggthemr}\n{ggtech}\n{tvthemes}\n{ggpomological} (this one is incredible!)\n\nCheck this blog post for examples of a bunch of others",
    "crumbs": [
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "example/05-example.html#bonus-ggthemeassist",
    "href": "example/05-example.html#bonus-ggthemeassist",
    "title": "Themes",
    "section": "Bonus: {ggthemeassist}",
    "text": "Bonus: {ggthemeassist}\nIf you’re intimidated by constantly referring to the documentation and figuring out what little line of code affects which part of the graph, install and check out the {ggthemeassist} package. It provides an interactive menu for manipulating different theme elements, and then generates all the corresponding code, which is really magical.\nHere’s a brief example of how to use it.",
    "crumbs": [
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "example/05-example.html#saving-plots",
    "href": "example/05-example.html#saving-plots",
    "title": "Themes",
    "section": "Saving plots",
    "text": "Saving plots\nIf we want to save these plots, we can use ggsave(). For that to work, we need to store the plot as an object, which I already did in the examples above:\n\n\nCode\nname_of_plot_object &lt;- ggplot(...)\n\n\nWe then feed our saved plot object to ggsave() and specify the filename and dimensions we want to use. If we’re using PNG, we don’t need to worry about any extra options. If we’re using PDF, we need to tell R to use the Cairo PDF writing engine instead of R’s normal one, since R’s normal one can’t deal with custom fonts.\n\n\nCode\n# Add my_pretty_theme to the gapminder base_plot and save as an object\nfinal_gampinder_plot &lt;- base_plot +\n  my_pretty_theme\n\n# Save as PNG and PDF\nggsave(\"fancy_gapminder.png\", final_gampinder_plot,\n       width = 8, height = 5, units = \"in\")\nggsave(\"fancy_gapminder.pdf\", final_gampinder_plot,\n       width = 8, height = 5, units = \"in\", device = cairo_pdf)\n\n# Save the mpg plot as PNG and PDF\nggsave(\"fancy_mpg.png\", mpg_example,\n       width = 8, height = 5, units = \"in\")\nggsave(\"fancy_mpg.pdf\", mpg_example,\n       width = 8, height = 5, units = \"in\", device = cairo_pdf)",
    "crumbs": [
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "example/07-example.html",
    "href": "example/07-example.html",
    "title": "Relationships",
    "section": "",
    "text": "For this example, we’re going to use historical weather data from the now-defunct Dark Sky about wind speed and temperature trends for downtown Atlanta (specifically 33.754557, -84.390009) in 2019. I downloaded this data using Dark Sky’s (now-retired-because-they-were-bought-by-Apple) API using the {darksky} package. If you want to follow along with this example, you can download the data below (you’ll likely need to right click and choose “Save Link As…”):",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#live-coding-example",
    "href": "example/07-example.html#live-coding-example",
    "title": "Relationships",
    "section": "Live coding example",
    "text": "Live coding example\n\n\n\n\n\n\n\n\n\n\nImportantSlight differences from the video\n\n\n\nThis is a slightly cleaned up version of the code from the video.",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#load-and-clean-data",
    "href": "example/07-example.html#load-and-clean-data",
    "title": "Relationships",
    "section": "Load and clean data",
    "text": "Load and clean data\nFirst, we load the libraries we’ll be using:\n\n\nCode\nlibrary(tidyverse)  # For ggplot, dplyr, and friends\nlibrary(patchwork)  # For combining ggplot plots\nlibrary(GGally)     # For scatterplot matrices\nlibrary(broom)      # For converting model objects to data frames\n\n\nThen we load the data with read_csv(). Here I assume that the CSV file lives in a subfolder in my project named data:\n\n\nCode\nweather_atl &lt;- read_csv(\"data/atl-weather-2019.csv\")",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#legal-dual-y-axes",
    "href": "example/07-example.html#legal-dual-y-axes",
    "title": "Relationships",
    "section": "Legal dual y-axes",
    "text": "Legal dual y-axes\nIt is fine (and often helpful!) to use two y-axes if the two different scales measure the same thing, like counts and percentages, Fahrenheit and Celsius, pounds and kilograms, inches and centimeters, etc.\nTo do this, you need to add an argument (sec.axis) to scale_y_continuous() to tell it to use a second axis. This sec.axis argument takes a sec_axis() function that tells ggplot how to transform the scale. You need to specify a formula or function that defines how the original axis gets transformed. This formula uses a special syntax. It needs to start with a ~, which indicates that it’s a function, and it needs to use . to stand in for the original value in the original axis.\nSince the equation for converting Fahrenheit to Celsius is this…\n\\[\n\\text{C} = (32 - \\text{F}) \\times -\\frac{5}{9}\n\\]\n…we can specify this with code like so (where . stands for the Fahrenheit value):\n~ (32 - .) * -5 / 9\nHere’s a plot of daily high temperatures in Atlanta throughout 2019, with a second axis:\n\n\nCode\nggplot(weather_atl, aes(x = time, y = temperatureHigh)) +\n  geom_line() +\n  scale_y_continuous(sec.axis = sec_axis(trans = ~ (32 - .) * -5/9,\n                                         name = \"Celsius\")) +\n  labs(x = NULL, y = \"Fahrenheit\") +\n  theme_minimal()\n## Warning: The `trans` argument of `sec_axis()` is deprecated as of ggplot2 3.5.0.\n## ℹ Please use the `transform` argument instead.\n\n\n\n\n\n\n\n\n\nFor fun, we could also convert it to Kelvin, which uses this formula:\n\\[\n\\text{K} = (\\text{F} - 32) \\times \\frac{5}{9} + 273.15\n\\]\n\n\nCode\nggplot(weather_atl, aes(x = time, y = temperatureHigh)) +\n  geom_line() +\n  scale_y_continuous(sec.axis = sec_axis(trans = ~ (. - 32) * 5/9 + 273.15,\n                                         name = \"Kelvin\")) +\n  labs(x = NULL, y = \"Fahrenheit\") +\n  theme_minimal()",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#combining-plots",
    "href": "example/07-example.html#combining-plots",
    "title": "Relationships",
    "section": "Combining plots",
    "text": "Combining plots\nA good alternative to using two y-axes is to use two plots instead. The {patchwork} package makes this really easy to do with R. There are other similar packages that do this, like {cowplot} and {gridExtra}, but I’ve found that {patchwork} is the easiest to use and it actually aligns the different plot elements like axis lines and legends (yay alignment in CRAP!). The documentation for {patchwork} is really great and full of examples—you should check it out to see all the things you can do with it!\nTo use {patchwork}, we need to (1) save our plots as objects and (2) add them together with +.\nFor instance, is there a relationship between temperature and humidity in Atlanta? We can plot both:\n\n\nCode\n# Temperature in Atlanta\ntemp_plot &lt;- ggplot(weather_atl, aes(x = time, y = temperatureHigh)) +\n  geom_line() +\n  geom_smooth() +\n  scale_y_continuous(sec.axis = sec_axis(trans = ~ (32 - .) * -5/9,\n                                         name = \"Celsius\")) +\n  labs(x = NULL, y = \"Fahrenheit\") +\n  theme_minimal()\ntemp_plot\n\n\n\n\n\n\n\n\n\nCode\n\n# Humidity in Atlanta\nhumidity_plot &lt;- ggplot(weather_atl, aes(x = time, y = humidity)) +\n  geom_line() +\n  geom_smooth() +\n  labs(x = NULL, y = \"Humidity\") +\n  theme_minimal()\nhumidity_plot\n\n\n\n\n\n\n\n\n\nRight now, these are two separate plots, but we can combine them with + if we load {patchwork}:\n\n\nCode\nlibrary(patchwork)\n\ntemp_plot + humidity_plot\n\n\n\n\n\n\n\n\n\nBy default, {patchwork} will put these side-by-side, but we can change that with the plot_layout() function:\n\n\nCode\ntemp_plot + humidity_plot +\n  plot_layout(ncol = 1)\n\n\n\n\n\n\n\n\n\nWe can also play with other arguments in plot_layout(). If we want to make the temperature plot taller and shrink the humidity section, we can specify the proportions for the plot heights. Here, the temperature plot is 70% of the height and the humidity plot is 30%:\n\n\nCode\ntemp_plot + humidity_plot +\n  plot_layout(ncol = 1, heights = c(0.7, 0.3))",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#scatterplot-matrices",
    "href": "example/07-example.html#scatterplot-matrices",
    "title": "Relationships",
    "section": "Scatterplot matrices",
    "text": "Scatterplot matrices\nWe can visualize the correlations between pairs of variables with the ggpairs() function in the {GGally} package. For instance, how correlated are high and low temperatures, humidity, wind speed, and the chance of precipitation? We first make a smaller dataset with just those columns, and then we feed that dataset into ggpairs() to see all the correlation information:\n\n\nCode\nlibrary(GGally)\n\nweather_correlations &lt;- weather_atl |&gt; \n  select(temperatureHigh, temperatureLow, humidity, windSpeed, precipProbability)\n\nggpairs(weather_correlations)\n\n\n\n\n\n\n\n\n\nIt looks like high and low temperatures are extremely highly positively correlated (r = 0.92). Wind spped and temperature are moderately negatively correlated, with low temperatures having a stronger negative correlation (r = -0.45). There’s no correlation whatsoever between low temperatures and the precipitation probability (r = -0.03) or humidity and high temperatures (r = -0.03).\nEven though ggpairs() doesn’t use the standard ggplot(...) + geom_whatever() syntax we’re familiar with, it does behind the scenes, so you can add regular ggplot layers to it:\n\n\nCode\nggpairs(weather_correlations) +\n  labs(title = \"Correlations!\") +\n  theme_dark()",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#correlograms",
    "href": "example/07-example.html#correlograms",
    "title": "Relationships",
    "section": "Correlograms",
    "text": "Correlograms\nScatterplot matrices typically include way too much information to be used in actual publications. I use them when doing my own analysis just to see how different variables are related, but I rarely polish them up for public consumption. In the readings for this week, Claus Wilke showed a type of plot called a correlogram which is more appropriate for publication.\nThese are essentially heatmaps of the different correlation coefficients. To make these with ggplot, we need to do a little bit of extra data processing, mostly to reshape data into a long, tidy format that we can plot. Here’s how.\nFirst we need to build a correlation matrix of the main variables we care about. Ordinarily the cor() function in R takes two arguments—x and y—and it will return a single correlation value. If you feed a data frame into cor() though, it’ll calculate the correlation between each pair of columns\n\n\nCode\n# Create a correlation matrix\nthings_to_correlate &lt;- weather_atl |&gt; \n  select(temperatureHigh, temperatureLow, humidity, windSpeed, precipProbability) |&gt; \n  cor()\n\nthings_to_correlate\n##                   temperatureHigh temperatureLow humidity windSpeed precipProbability\n## temperatureHigh              1.00          0.920   -0.030    -0.377            -0.124\n## temperatureLow               0.92          1.000    0.112    -0.450            -0.026\n## humidity                    -0.03          0.112    1.000     0.011             0.722\n## windSpeed                   -0.38         -0.450    0.011     1.000             0.196\n## precipProbability           -0.12         -0.026    0.722     0.196             1.000\n\n\nThe two halves of this matrix (split along the diagonal line) are identical, so we can remove the lower triangle with this code (which will set all the cells in the lower triangle to NA):\n\n\nCode\n# Get rid of the lower triangle\nthings_to_correlate[lower.tri(things_to_correlate)] &lt;- NA\nthings_to_correlate\n##                   temperatureHigh temperatureLow humidity windSpeed precipProbability\n## temperatureHigh                 1           0.92    -0.03    -0.377            -0.124\n## temperatureLow                 NA           1.00     0.11    -0.450            -0.026\n## humidity                       NA             NA     1.00     0.011             0.722\n## windSpeed                      NA             NA       NA     1.000             0.196\n## precipProbability              NA             NA       NA        NA             1.000\n\n\nFinally, in order to plot this, the data needs to be in tidy (or long) format. Here we convert the things_to_correlate matrix into a data frame, add a column for the row names, take all the columns and put them into a single column named measure1, and take all the correlation numbers and put them in a column named cor In the end, we make sure the measure variables are ordered by their order of appearance (otherwise they plot alphabetically and don’t make a triangle)\n\n\nCode\nthings_to_correlate_long &lt;- things_to_correlate |&gt; \n  # Convert from a matrix to a data frame\n  as.data.frame() |&gt; \n  # Matrixes have column names that don't get converted to columns when using\n  # as.data.frame(), so this adds those names as a column\n  rownames_to_column(\"measure2\") |&gt; \n  # Make this long. Take all the columns except measure2 and put their names in\n  # a column named measure1 and their values in a column named cor\n  pivot_longer(cols = -measure2,\n               names_to = \"measure1\",\n               values_to = \"cor\") |&gt; \n  # Make a new column with the rounded version of the correlation value\n  mutate(nice_cor = round(cor, 2)) |&gt; \n  # Remove rows where the two measures are the same (like the correlation\n  # between humidity and humidity)\n  filter(measure2 != measure1) |&gt;\n  # Get rid of the empty triangle\n  filter(!is.na(cor)) |&gt; \n  # Put these categories in order\n  mutate(measure1 = fct_inorder(measure1),\n         measure2 = fct_inorder(measure2))\n\nthings_to_correlate_long\n## # A tibble: 10 × 4\n##    measure2        measure1              cor nice_cor\n##    &lt;fct&gt;           &lt;fct&gt;               &lt;dbl&gt;    &lt;dbl&gt;\n##  1 temperatureHigh temperatureLow     0.920      0.92\n##  2 temperatureHigh humidity          -0.0301    -0.03\n##  3 temperatureHigh windSpeed         -0.377     -0.38\n##  4 temperatureHigh precipProbability -0.124     -0.12\n##  5 temperatureLow  humidity           0.112      0.11\n##  6 temperatureLow  windSpeed         -0.450     -0.45\n##  7 temperatureLow  precipProbability -0.0255    -0.03\n##  8 humidity        windSpeed          0.0108     0.01\n##  9 humidity        precipProbability  0.722      0.72\n## 10 windSpeed       precipProbability  0.196      0.2\n\n\nPhew. With the data all tidied like that, we can make a correlogram with a heatmap. This is just like the heatmap you made in session 4, but here we manipulate the fill scale a little so that it’s diverging with three colors: a high value, a midpoint value, and a low value.\n\n\nCode\nggplot(things_to_correlate_long, \n       aes(x = measure2, y = measure1, fill = cor)) +\n  geom_tile() +\n  geom_text(aes(label = nice_cor)) +\n  scale_fill_gradient2(low = \"#E16462\", mid = \"white\", high = \"#0D0887\",\n                       limits = c(-1, 1)) +\n  labs(x = NULL, y = NULL) +\n  coord_equal() +\n  theme_minimal() +\n  theme(panel.grid = element_blank())\n\n\n\n\n\n\n\n\n\nInstead of using a heatmap, we can also use points, which encode the correlation information both as color and as size. To do that, we just need to switch geom_tile() to geom_point() and set the size = cor mapping:\n\n\nCode\nggplot(things_to_correlate_long, \n       aes(x = measure2, y = measure1, color = cor)) +\n  # Size by the absolute value so that -0.7 and 0.7 are the same size\n  geom_point(aes(size = abs(cor))) +\n  scale_color_gradient2(low = \"#E16462\", mid = \"white\", high = \"#0D0887\",\n                        limits = c(-1, 1)) +\n  scale_size_area(max_size = 15, limits = c(-1, 1), guide = \"none\") +\n  labs(x = NULL, y = NULL) +\n  coord_equal() +\n  theme_minimal() +\n  theme(panel.grid = element_blank())",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#simple-regression",
    "href": "example/07-example.html#simple-regression",
    "title": "Relationships",
    "section": "Simple regression",
    "text": "Simple regression\nWe can also visualize the relationships between variables using regression. Simple regression is easy to visualize, since you’re only working with an X and a Y. For instance, what’s the relationship between humidity and high temperatures during the summer?\nFirst, let’s filter the data to only look at the summer. We also add a column to scale up the humidity value—right now it’s on a scale of 0-1 (for percentages), but when interpreting regression we talk about increases in whole units, so we’d talk about moving from 0% humidity to 100% humidity, which isn’t helpful, so instead we multiply everything by 100 so we can talk about moving from 50% humidity to 51% humidity. We also scale up a couple other variables that we’ll use in the larger model later.\n\n\nCode\nweather_atl_summer &lt;- weather_atl |&gt; \n  filter(time &gt;= \"2019-05-01\", time &lt;= \"2019-09-30\") |&gt; \n  mutate(humidity_scaled = humidity * 100,\n         moonPhase_scaled = moonPhase * 100,\n         precipProbability_scaled = precipProbability * 100,\n         cloudCover_scaled = cloudCover * 100)\n\n\nThen we can build a simple regression model:\n\n\nCode\nmodel_simple &lt;- lm(temperatureHigh ~ humidity_scaled, \n                   data = weather_atl_summer)\n\ntidy(model_simple, conf.int = TRUE)\n## # A tibble: 2 × 7\n##   term            estimate std.error statistic  p.value conf.low conf.high\n##   &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n## 1 (Intercept)      104.       2.36       44.0  1.13e-87   99.3     109.   \n## 2 humidity_scaled   -0.239    0.0359     -6.65 5.12e-10   -0.310    -0.168\n\n\nWe can interpret these coefficients like so:\n\nThe intercept shows that the average temperature when there’s 0% humidity is 104°. There are no days with 0% humidity though, so we can ignore the intercept—it’s really just here so that we can draw the line.\nThe coefficient for humidity_scaled shows that a one percent increase in humidity is associated with a 0.241° decrease in temperature, on average.\n\nVisualizing this model is simple, since there are only two variables:\n\n\nCode\nggplot(weather_atl_summer,\n       aes(x = humidity_scaled, y = temperatureHigh)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n## `geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\nAnd indeed, as humidity increases, temperatures decrease.",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#coefficient-plots",
    "href": "example/07-example.html#coefficient-plots",
    "title": "Relationships",
    "section": "Coefficient plots",
    "text": "Coefficient plots\nBut if we use multiple variables in the model, it gets really hard to visualize the results since we’re working with multiple dimensions. Instead, we can use coefficient plots to see the individual coefficients in the model.\nFirst, let’s build a more complex model:\n\n\nCode\nmodel_complex &lt;- lm(temperatureHigh ~ humidity_scaled + moonPhase_scaled + \n                      precipProbability_scaled + windSpeed + pressure + cloudCover_scaled,\n                    data = weather_atl_summer)\ntidy(model_complex, conf.int = TRUE)\n## # A tibble: 7 × 7\n##   term                     estimate std.error statistic   p.value conf.low conf.high\n##   &lt;chr&gt;                       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n## 1 (Intercept)              265.      126.         2.11  0.0366    16.7      514.    \n## 2 humidity_scaled           -0.111     0.0759    -1.47  0.144     -0.261      0.0387\n## 3 moonPhase_scaled           0.0124    0.0128     0.965 0.336     -0.0129     0.0377\n## 4 precipProbability_scaled   0.0358    0.0204     1.75  0.0816    -0.00454    0.0761\n## 5 windSpeed                 -1.76      0.417     -4.22  0.0000430 -2.58      -0.936 \n## 6 pressure                  -0.160     0.123     -1.30  0.196     -0.403      0.0834\n## 7 cloudCover_scaled         -0.0950    0.0304    -3.12  0.00217   -0.155     -0.0349\n\n\nWe can interpret these coefficients like so:\n\nHolding everything else constant, a 1% increase in humidity is associated with a 0.11° decrease in the high temperature, on average, but the effect is not statistically significant\nHolding everything else constant, a 1% increase in moon visibility is associated with a 0.01° increase in the high temperature, on average, and the effect is not statistically significant\nHolding everything else constant, a 1% increase in the probability of precipitation is associated with a 0.04° increase in the high temperature, on average, and the effect is not statistically significant\nHolding everything else constant, a 1 mph increase in the wind speed is associated with a 1.8° decrease in the high temperature, on average, and the effect is statistically significant\nHolding everything else constant, a 1 unit increase in barometric pressure is associated with a 0.15° decrease in the high temperature, on average, and the effect is not statistically significant\nHolding everything else constant, a 1% increase in cloud cover is associated with a 0.01° decrease in the high temperature, on average, and the effect is statistically significant\nThe intercept is pretty useless. It shows that the predicted temperature will be 262° when humidity is 0%, the moon is invisible, there’s no chance of precipitation, no wind, no barometric pressure, and no cloud cover. Yikes.\n\nTo plot all these things at once, we’ll store the results of tidy(model_complex) as a data frame, remove the useless intercept, and plot it using geom_pointrange():\n\n\nCode\nmodel_tidied &lt;- tidy(model_complex, conf.int = TRUE) |&gt; \n  filter(term != \"(Intercept)\")\n\nggplot(model_tidied,\n       aes(x = estimate, y = term)) +\n  geom_vline(xintercept = 0, color = \"red\", linetype = \"dotted\") +\n  geom_pointrange(aes(xmin = conf.low, xmax = conf.high)) + \n  labs(x = \"Coefficient estimate\", y = NULL) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nNeat! Now we can see how big these different coefficients are and how close they are to zero. Wind speed has a big significant effect on temperature. The others are all very close to zero.",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#marginal-effects-plots",
    "href": "example/07-example.html#marginal-effects-plots",
    "title": "Relationships",
    "section": "Marginal effects plots",
    "text": "Marginal effects plots\n\n\n\n\n\n\nTip2025 update!\n\n\n\nSince recording the video for this section, lots of things have changed in the R world to make finding predicted values and marginal effects a lot easier. (This is why I had you read my guide to marginal things as part of the readings for this session.) The {marginaleffects} R package makes it really nice and easy to get predicted values of an outcome while holding everything else constant—you don’t need to plug values in manually anymore like this section shows.\nThere’s an example of using {marginaleffects} down below.\n\n\nInstead of just looking at the coefficients, we can also see the effect of moving different variables up and down like sliders and switches. Remember that regression coefficients allow us to build actual mathematical formulas that predict the value of Y. The coefficients from model_compex yield the following big hairy ugly equation:\n\\[\n\\begin{aligned}\n\\hat{\\text{High temperature}} =& 262 - 0.11 \\times \\text{humidity\\_scaled } \\\\\n& + 0.01 \\times \\text{moonPhase\\_scaled } + 0.04 \\times \\text{precipProbability\\_scaled } \\\\\n& - 1.78 \\times \\text{windSpeed} - 0.16 \\times \\text{pressure} - 0.095 \\times \\text{cloudCover\\_scaled}\n\\end{aligned}\n\\]\nIf we plug in values for each of the explanatory variables, we can get the predicted value of high temperature, or \\(\\hat{y}\\).\nThe augment() function in the {broom} library allows us to take a data frame of explanatory variable values, plug them into the model equation, and get predictions out. For example, let’s set each of the variables to some arbitrary values (50% for humidity, moon phase, chance of rain, and cloud cover; 1000 for pressure, and 1 MPH for wind speed).\n\n\nCode\nnewdata_example &lt;- tibble(humidity_scaled = 50, moonPhase_scaled = 50, \n                          precipProbability_scaled = 50, windSpeed = 1, \n                          pressure = 1000, cloudCover_scaled = 50)\nnewdata_example\n## # A tibble: 1 × 6\n##   humidity_scaled moonPhase_scaled precipProbability_scaled windSpeed pressure cloudCover_scaled\n##             &lt;dbl&gt;            &lt;dbl&gt;                    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;             &lt;dbl&gt;\n## 1              50               50                       50         1     1000                50\n\n\nWe can plug these values into the model with augment(). The se_fit argument gives us standard errors for each prediction:\n\n\nCode\n# I use select() here because augment() returns columns for all the explanatory\n# variables, and the .fitted column with the predicted value is on the far right\n# and gets cut off\naugment(model_complex, newdata = newdata_example, se_fit = TRUE) |&gt; \n  select(.fitted, .se.fit)\n## # A tibble: 1 × 2\n##   .fitted .se.fit\n##     &lt;dbl&gt;   &lt;dbl&gt;\n## 1    96.2    3.20\n\n\nGiven these weather conditions, the predicted high temperature is 96.2°. Now you’re an armchair meteorologist!\nWe can follow the same pattern to show how the predicted temperature changes as specific variables change across a whole range. Here, we create a data frame of possible wind speeds and keep all the other explanatory variables at their means:\n\n\nCode\nnewdata &lt;- tibble(windSpeed = seq(0, 8, 0.5),\n                  pressure = mean(weather_atl_summer$pressure),\n                  precipProbability_scaled = mean(weather_atl_summer$precipProbability_scaled),\n                  moonPhase_scaled = mean(weather_atl_summer$moonPhase_scaled),\n                  humidity_scaled = mean(weather_atl_summer$humidity_scaled),\n                  cloudCover_scaled = mean(weather_atl_summer$cloudCover_scaled))\nnewdata\n## # A tibble: 17 × 6\n##    windSpeed pressure precipProbability_scaled moonPhase_scaled humidity_scaled cloudCover_scaled\n##        &lt;dbl&gt;    &lt;dbl&gt;                    &lt;dbl&gt;            &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;\n##  1       0      1016.                     40.4             51.0            64.9              29.7\n##  2       0.5    1016.                     40.4             51.0            64.9              29.7\n##  3       1      1016.                     40.4             51.0            64.9              29.7\n##  4       1.5    1016.                     40.4             51.0            64.9              29.7\n##  5       2      1016.                     40.4             51.0            64.9              29.7\n##  6       2.5    1016.                     40.4             51.0            64.9              29.7\n##  7       3      1016.                     40.4             51.0            64.9              29.7\n##  8       3.5    1016.                     40.4             51.0            64.9              29.7\n##  9       4      1016.                     40.4             51.0            64.9              29.7\n## 10       4.5    1016.                     40.4             51.0            64.9              29.7\n## 11       5      1016.                     40.4             51.0            64.9              29.7\n## 12       5.5    1016.                     40.4             51.0            64.9              29.7\n## 13       6      1016.                     40.4             51.0            64.9              29.7\n## 14       6.5    1016.                     40.4             51.0            64.9              29.7\n## 15       7      1016.                     40.4             51.0            64.9              29.7\n## 16       7.5    1016.                     40.4             51.0            64.9              29.7\n## 17       8      1016.                     40.4             51.0            64.9              29.7\n\n\nIf we feed this big data frame into augment(), we can get the predicted high temperature for each row. We can also use the .se.fit column to calculate the 95% confidence interval for each predicted value. We take the standard error, multiply it by -1.96 and 1.96 (or the quantile of the normal distribution at 2.5% and 97.5%), and add that value to the estimate.\n\n\nCode\npredicted_values &lt;- augment(model_complex, \n                            newdata = newdata,\n                            se_fit = TRUE) |&gt; \n  mutate(conf.low = .fitted + (-1.96 * .se.fit),\n         conf.high = .fitted + (1.96 * .se.fit))\n\npredicted_values |&gt; \n  select(windSpeed, .fitted, .se.fit, conf.low, conf.high) |&gt; \n  head()\n## # A tibble: 6 × 5\n##   windSpeed .fitted .se.fit conf.low conf.high\n##       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n## 1       0      95.3   1.64      92.0      98.5\n## 2       0.5    94.4   1.44      91.6      97.2\n## 3       1      93.5   1.24      91.1      95.9\n## 4       1.5    92.6   1.04      90.6      94.7\n## 5       2      91.7   0.846     90.1      93.4\n## 6       2.5    90.9   0.662     89.6      92.2\n\n\nCool! Just looking at the data in the table, we can see that predicted temperature drops as windspeed increases. We can plot this to visualize the effect:\n\n\nCode\nggplot(predicted_values, aes(x = windSpeed, y = .fitted)) +\n  geom_ribbon(aes(ymin = conf.low, ymax = conf.high),\n              fill = \"#BF3984\", alpha = 0.5) + \n  geom_line(linewidth = 1, color = \"#BF3984\") +\n  labs(x = \"Wind speed (MPH)\", y = \"Predicted high temperature (F)\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nWe just manipulated one of the model coefficients and held everything else at its mean. We can manipulate multiple variables too and encode them all on the graph. For instance, what is the effect of windspeed and cloud cover on the temperature?\nWe’ll follow the same process, but vary both windSpeed and cloudCover_scaled. Instead of using tibble(), we use exapnd_grid(), which creates every combination of the variables we specify. Instead of varying cloud cover by every possible value (like from 0 to 100), we’ll choose four possible cloud cover types: 0%, 33%, 66%, and 100%. Everything else will be at its mean.\n\n\nCode\nnewdata_fancy &lt;- expand_grid(windSpeed = seq(0, 8, 0.5),\n                             pressure = mean(weather_atl_summer$pressure),\n                             precipProbability_scaled = mean(weather_atl_summer$precipProbability_scaled),\n                             moonPhase_scaled = mean(weather_atl_summer$moonPhase_scaled),\n                             humidity_scaled = mean(weather_atl_summer$humidity_scaled),\n                             cloudCover_scaled = c(0, 33, 66, 100))\nnewdata_fancy\n## # A tibble: 68 × 6\n##    windSpeed pressure precipProbability_scaled moonPhase_scaled humidity_scaled cloudCover_scaled\n##        &lt;dbl&gt;    &lt;dbl&gt;                    &lt;dbl&gt;            &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;\n##  1       0      1016.                     40.4             51.0            64.9                 0\n##  2       0      1016.                     40.4             51.0            64.9                33\n##  3       0      1016.                     40.4             51.0            64.9                66\n##  4       0      1016.                     40.4             51.0            64.9               100\n##  5       0.5    1016.                     40.4             51.0            64.9                 0\n##  6       0.5    1016.                     40.4             51.0            64.9                33\n##  7       0.5    1016.                     40.4             51.0            64.9                66\n##  8       0.5    1016.                     40.4             51.0            64.9               100\n##  9       1      1016.                     40.4             51.0            64.9                 0\n## 10       1      1016.                     40.4             51.0            64.9                33\n## # ℹ 58 more rows\n\n\nNotice now that windSpeed repeats four times (0, 0, 0, 0, 0.5, 0.5, etc.), since there are four possible cloudCover_scaled values (0, 33, 66, 100).\nWe can plot this now, just like before, with wind speed on the x-axis, the predicted temperature on the y-axis, and colored and faceted by cloud cover:\n\n\nCode\npredicted_values_fancy &lt;- augment(model_complex, \n                                  newdata = newdata_fancy, \n                                  se_fit = TRUE) |&gt; \n  mutate(conf.low = .fitted + (-1.96 * .se.fit),\n         conf.high = .fitted + (1.96 * .se.fit)) |&gt; \n  # Make cloud cover a categorical variable so we can facet with it\n  mutate(cloudCover_scaled = factor(cloudCover_scaled))\n\nggplot(predicted_values_fancy, aes(x = windSpeed, y = .fitted)) +\n  geom_ribbon(aes(ymin = conf.low, ymax = conf.high, fill = cloudCover_scaled),\n              alpha = 0.5) + \n  geom_line(aes(color = cloudCover_scaled), linewidth = 1) +\n  labs(x = \"Wind speed (MPH)\", y = \"Predicted high temperature (F)\") +\n  theme_minimal() +\n  guides(fill = \"none\", color = \"none\") +\n  facet_wrap(vars(cloudCover_scaled), nrow = 1)\n\n\n\n\n\n\n\n\n\nThat’s so neat! Temperatures go down slightly as cloud cover increases. If we wanted to improve the model, we’d add an interaction term between cloud cover and windspeed so that each line would have a different slope in addition to a different intercept, but that’s beyond the scope of this class.",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/07-example.html#predicted-values-and-marginal-effects-in-2026",
    "href": "example/07-example.html#predicted-values-and-marginal-effects-in-2026",
    "title": "Relationships",
    "section": "Predicted values and marginal effects in 2026",
    "text": "Predicted values and marginal effects in 2026\nInstead of using expand_grid() and augment() to create and plug in a mini dataset of variables to move up and down, we can use the {marginaleffects} package to simplify life!\nRemember above where we wanted to see the effect of wind speed on temperature while holding all other variables in the model constant. We had to create a small data frame (newdata) with columns for each of the variables in the model, with everything except windSpeed set to their averages. We then plugged newdata into the model with augment() and calculated the confidence interval around each predicted value using mutate(). It’s a fairly involved process, but it works:\n\n\nCode\n# Make model\nmodel_complex &lt;- lm(temperatureHigh ~ humidity_scaled + moonPhase_scaled + \n                      precipProbability_scaled + windSpeed + pressure + cloudCover_scaled,\n                    data = weather_atl_summer)\n\n# Make mini dataset\nnewdata &lt;- tibble(windSpeed = seq(0, 8, 0.5),\n                  pressure = mean(weather_atl_summer$pressure),\n                  precipProbability_scaled = mean(weather_atl_summer$precipProbability_scaled),\n                  moonPhase_scaled = mean(weather_atl_summer$moonPhase_scaled),\n                  humidity_scaled = mean(weather_atl_summer$humidity_scaled),\n                  cloudCover_scaled = mean(weather_atl_summer$cloudCover_scaled))\n\n# Plug mini dataset into model\npredicted_values &lt;- augment(model_complex, \n                            newdata = newdata,\n                            se_fit = TRUE) |&gt; \n  mutate(conf.low = .fitted + (-1.96 * .se.fit),\n         conf.high = .fitted + (1.96 * .se.fit))\n\n# Look at predicted values\npredicted_values |&gt; \n  select(windSpeed, .fitted, .se.fit, conf.low, conf.high) |&gt; \n  head()\n## # A tibble: 6 × 5\n##   windSpeed .fitted .se.fit conf.low conf.high\n##       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n## 1       0      95.3   1.64      92.0      98.5\n## 2       0.5    94.4   1.44      91.6      97.2\n## 3       1      93.5   1.24      91.1      95.9\n## 4       1.5    92.6   1.04      90.6      94.7\n## 5       2      91.7   0.846     90.1      93.4\n## 6       2.5    90.9   0.662     89.6      92.2\n\n\nThe {marginaleffects} package makes this far easier. We can use the predictions() function to generate, um, predictions. We still need to feed it a smaller dataset of variables to manipulate, but if we use the datagrid() function, we only have to specify the variables we want to move. It will automatically use the averages or typical values for all other variables in the model. It will also automatically create confidence intervals for each prediction—no need for the mutate(conf.low = .fitted + (-1.96 * .se.fit)) math that we did previously.\n\n\nCode\nlibrary(marginaleffects)\n\n# Calculate predictions across a range of windSpeed\npredicted_values_easy &lt;- predictions(\n  model_complex,\n  newdata = datagrid(windSpeed = seq(0, 8, 0.5))\n)\n\n# Look at predicted values\npredicted_values_easy |&gt;\n  select(windSpeed, estimate, std.error, conf.low, conf.high)\n## \n##  Estimate Std. Error 2.5 % 97.5 %\n##      95.2      1.646  92.0   98.4\n##      94.3      1.443  91.5   97.1\n##      93.4      1.241  91.0   95.9\n##      92.6      1.043  90.5   94.6\n##      91.7      0.849  90.0   93.3\n##      90.8      0.665  89.5   92.1\n##      89.9      0.499  88.9   90.9\n##      89.0      0.380  88.3   89.8\n##      88.2      0.355  87.5   88.9\n##      87.3      0.441  86.4   88.1\n##      86.4      0.592  85.2   87.6\n##      85.5      0.770  84.0   87.0\n##      84.6      0.961  82.8   86.5\n##      83.8      1.157  81.5   86.0\n##      82.9      1.358  80.2   85.5\n##      82.0      1.560  78.9   85.1\n##      81.1      1.764  77.7   84.6\n\n\nWe can then plot this really easily too:\n\n\nCode\nggplot(predicted_values_easy, aes(x = windSpeed, y = estimate)) +\n  geom_ribbon(aes(ymin = conf.low, ymax = conf.high),\n              fill = \"#BF3984\", alpha = 0.5) + \n  geom_line(linewidth = 1, color = \"#BF3984\") +\n  labs(x = \"Wind speed (MPH)\", y = \"Predicted high temperature (F)\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis works when moving multiple variables at the same time, too. Earlier we used expand_grid() to create a mini dataset of different values for both windSpeed and cloudCover, while holding all the other variables at their means. Here’s how to do that with the much easier predictions() function:\n\n\nCode\npredicted_values_fancy_easy &lt;- predictions(\n  model_complex,\n  newdata = datagrid(windSpeed = seq(0, 8, 0.5),\n                     cloudCover_scaled = c(0, 33, 66, 100))) |&gt;\n  # Make cloud cover a categorical variable so we can facet with it\n  mutate(cloudCover_scaled = factor(cloudCover_scaled))\n\nggplot(predicted_values_fancy_easy, aes(x = windSpeed, y = estimate)) +\n  geom_ribbon(aes(ymin = conf.low, ymax = conf.high, fill = cloudCover_scaled),\n              alpha = 0.5) + \n  geom_line(aes(color = cloudCover_scaled), linewidth = 1) +\n  labs(x = \"Wind speed (MPH)\", y = \"Predicted high temperature (F)\") +\n  theme_minimal() +\n  guides(fill = \"none\", color = \"none\") +\n  facet_wrap(vars(cloudCover_scaled), nrow = 1)\n\n\n\n\n\n\n\n\n\nThat’s it! predictions() makes this so easy!\nIf we’re interested in the slopes (or marginal effects) of these lines, we can calculate these really easily too with the slopes() function. For instance, here are the predicted temperatures when just manipulating wind speed:\n\n\nCode\nggplot(predicted_values_easy, aes(x = windSpeed, y = estimate)) +\n  geom_ribbon(aes(ymin = conf.low, ymax = conf.high),\n              fill = \"#BF3984\", alpha = 0.5) + \n  geom_line(linewidth = 1, color = \"#BF3984\") +\n  labs(x = \"Wind speed (MPH)\", y = \"Predicted high temperature (F)\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nIf we want to see what the slope of that line is when wind speed is 2, 4 and 6, we can use slopes():\n\n\nCode\nslopes(model_complex, \n  newdata = datagrid(windSpeed = c(2, 4, 6)), \n  variables = \"windSpeed\") |&gt;\n  # This creates a ton of extra columns so we'll just look at a few\n  select(term, windSpeed, estimate, std.error, p.value, conf.low, conf.high, predicted)\n## \n##  Estimate Std. Error Pr(&gt;|z|) 2.5 % 97.5 %\n##     -1.76      0.417   &lt;0.001 -2.58 -0.944\n##     -1.76      0.417   &lt;0.001 -2.58 -0.944\n##     -1.76      0.417   &lt;0.001 -2.58 -0.942\n## \n## Term: windSpeed\n\n\nThe estimate column here shows that slope at each of those values of windSpeed is -1.8, meaning a 1-MPH increase in wind speed is associated with a nearly 2° decrease in predicted high temperature, on average. That’s not super exciting though, since the predicted values create a nice straight line, with the same slope across the whole range of the line. It’s also the same number we get from the model coefficient—run tidy(model_complex) and you’ll see that the coefficient for windSpeed is -1.78. Since everything is linear here, using slopes() isn’t that important.\nFor bonus fun and excitement, let’s make an even more complex model with some non-linear curvy stuff and some interaction terms. We’ll include both wind speed and wind speed squared (since maybe higher wind speeds have a larger effect on predicted temperatures), and the interaction between wind speed and cloud cover (since maybe temperature behaves differently at different combinations of wind speed and cloud cover). Again, I’m not a meteorologist so this model is definitely wrong, but it gives us some neat moving parts we can play with.\n\n\nCode\n# Make model\n# We square windSpeed with I(windSpeed^2). The I() function lets you do math\n# with regression terms.\n# We make an interaction term with *\nmodel_wild &lt;- lm(temperatureHigh ~ humidity_scaled + moonPhase_scaled + \n                   precipProbability_scaled + windSpeed + I(windSpeed^2) + \n                   pressure + cloudCover_scaled + (windSpeed * cloudCover_scaled),\n                 data = weather_atl_summer)\n\ntidy(model_wild)\n## # A tibble: 9 × 5\n##   term                         estimate std.error statistic p.value\n##   &lt;chr&gt;                           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n## 1 (Intercept)                 269.       126.         2.13   0.0347\n## 2 humidity_scaled              -0.123      0.0769    -1.60   0.113 \n## 3 moonPhase_scaled              0.0120     0.0130     0.925  0.356 \n## 4 precipProbability_scaled      0.0397     0.0208     1.91   0.0583\n## 5 windSpeed                     0.443      2.64       0.168  0.867 \n## 6 I(windSpeed^2)               -0.233      0.335     -0.694  0.489 \n## 7 pressure                     -0.168      0.124     -1.35   0.178 \n## 8 cloudCover_scaled            -0.0669     0.0832    -0.804  0.423 \n## 9 windSpeed:cloudCover_scaled  -0.00740    0.0197    -0.377  0.707\n\n\nWe have some strange new regression coefficients now. We have two coefficients for wind speed: windSpeed and I(windSpeed^2). We also have a coefficient for the interaction term windspeed:cloudCover_scaled. We cannot interpret these individually. If we want to know the effect of wind speed on high temperatures, we have to incorporate all three of these new coefficients simultaneously. Fortunately predictions() and slopes() both handle that for us automatically.\nLet’s plot the predictions to see that everything is more curvy now (and differently curved across different levels of cloud cover).\n\n\nCode\npredicted_values_wild &lt;- predictions(\n  model_wild, \n  newdata = datagrid(windSpeed = seq(0, 8, 0.5),\n                     cloudCover_scaled = c(0, 33, 66, 100))) |&gt;\n  # Make cloud cover a categorical variable so we can facet with it\n  mutate(cloudCover_scaled = factor(cloudCover_scaled))\n\nggplot(predicted_values_wild, aes(x = windSpeed, y = estimate)) +\n  geom_ribbon(aes(ymin = conf.low, ymax = conf.high, fill = cloudCover_scaled),\n              alpha = 0.5) + \n  geom_line(aes(color = cloudCover_scaled), linewidth = 1) +\n  labs(x = \"Wind speed (MPH)\", y = \"Predicted high temperature (F)\") +\n  theme_minimal() +\n  guides(fill = \"none\", color = \"none\") +\n  facet_wrap(vars(cloudCover_scaled), nrow = 1)\n\n\n\n\n\n\n\n\n\nThat’s neat! At all the different levels of cloud cover, the wind speed trend is fairly shallow (and even pretty flat when cloud cover is 0 or 33) at low levels of wind speed. The line drops fairly quickly as wind speed increases though. Let’s get some exact numbers with marginaleffects():\n\n\nCode\nslopes(model_wild, \n  newdata = datagrid(windSpeed = c(2, 4, 6),\n    cloudCover_scaled = c(0, 33, 66, 100)), \n  variables = \"windSpeed\") |&gt;\n  # This creates a ton of extra columns so we'll just look at a few\n  select(term, windSpeed, estimate, std.error, p.value, conf.low, conf.high, predicted)\n## \n##  Estimate Std. Error Pr(&gt;|z|) 2.5 %  97.5 %\n##    -0.488      1.381   0.7240 -3.19  2.2196\n##    -0.732      1.561   0.6390 -3.79  2.3269\n##    -0.976      1.951   0.6167 -4.80  2.8472\n##    -1.228      2.466   0.6185 -6.06  3.6053\n##    -1.418      0.700   0.0427 -2.79 -0.0463\n##    -1.663      0.449   &lt;0.001 -2.54 -0.7827\n##    -1.907      0.869   0.0282 -3.61 -0.2038\n##    -2.159      1.487   0.1465 -5.07  0.7549\n##    -2.349      1.658   0.1564 -5.60  0.8998\n##    -2.593      1.278   0.0424 -5.10 -0.0886\n##    -2.838      1.167   0.0150 -5.12 -0.5512\n##    -3.089      1.401   0.0275 -5.84 -0.3432\n## \n## Term: windSpeed\n\n\nPhew, we have 12 different slopes here. Let’s talk through a few of them to get the intuition. If cloud cover is 0 and wind speed is 2 MPH, moving from 2 to 3 MPH is associated with a -0.68° decrease in high temperature on average (see the estimate column in the first row in the table). If the existing wind speed is 6 MPH, moving from 6 to 7 is associated with a -2.27° decrease in high temperature on average (see the estimate column in the 9th row of the table). The slope is steeper and more negative when the wind is faster, so changes in temperature are more dramatic. Because we have an interaction with cloud cover, the slope also changes at different levels of cloud cover. At 2 MPH of wind, the slope is -0.68° when cloud cover is 0 (first row), but -1.37° when cloud cover is 100 (4th row).\nFinally, we can visualize how these slopes change across wind speed and cloud cover by plotting them:\n\n\nCode\nslopes_wild &lt;- slopes(\n  model_wild, \n  newdata = datagrid(windSpeed = seq(0, 6, by = 0.1),\n                     cloudCover_scaled = c(0, 33, 66, 100)), \n  variables = \"windSpeed\") |&gt;\n  mutate(cloudCover_scaled = factor(cloudCover_scaled))\n\nggplot(slopes_wild, aes(x = windSpeed, y = estimate)) +\n  geom_ribbon(aes(ymin = conf.low, ymax = conf.high, fill = cloudCover_scaled),\n              alpha = 0.5) +\n  geom_line(aes(color = cloudCover_scaled), linewidth = 1) +\n  labs(x = \"Wind speed (MPH)\", y = \"Slope (marginal effect) of wind speed\",\n       title = \"Marginal effect of wind speed across levels of cloud cover\",\n       subtitle = \"These are *slopes*, not predicted values\") +\n  theme_minimal() +\n  guides(fill = \"none\", color = \"none\") +\n  facet_wrap(vars(cloudCover_scaled), nrow = 1)",
    "crumbs": [
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "example/10-example.html",
    "href": "example/10-example.html",
    "title": "Enhancing graphics",
    "section": "",
    "text": "The content from this week isn’t really code-based at all. Instead, you’re learning about how to take a plot from R and make it fancy in a vector editing program like Adobe Illustrator, Affinity Designer, or Inkscape.\nThis concept comes from a common workflow in the real world, where organizations like news outlets, think tanks, research centers, or nonprofits will publish highly polished plots in annual reports, magazines, and other types of publications. These graphics often have to follow specific in-house style guidelines and use specific colors and fonts and other design elements. Even if you don’t work for a place with in-house style guides, you’ll often want to make some edits to your plots by hand after you create them.\nThe general workflow goes like this:\n\nCreate a plot in R and ggplot\nExport that plot as a vector image (either a PDF or an SVG)\nEdit and enhance the vector image in a vector editor, like Adobe Illustrator\nExport the polished version from Illustrator as either a PDF or PNG (or both)\n\nBig data-focused organizations have been using a process like this for years. Nathan Yau describes this whole process in his 2011 book Visualize This and the book contains a bunch of tutorials to help you learn how create something in R, export it, and edit it in Illustrator.\nFor instance, in his first chapter, he guides you through the process of creating the skeleton of this chart in R, exporting it as a PDF, and adding all the titles and annotations and arrows and extra lines in Illustrator (original post from 2008):",
    "crumbs": [
      "Special applications",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "example/10-example.html#why-enhance-graphics",
    "href": "example/10-example.html#why-enhance-graphics",
    "title": "Enhancing graphics",
    "section": "",
    "text": "The content from this week isn’t really code-based at all. Instead, you’re learning about how to take a plot from R and make it fancy in a vector editing program like Adobe Illustrator, Affinity Designer, or Inkscape.\nThis concept comes from a common workflow in the real world, where organizations like news outlets, think tanks, research centers, or nonprofits will publish highly polished plots in annual reports, magazines, and other types of publications. These graphics often have to follow specific in-house style guidelines and use specific colors and fonts and other design elements. Even if you don’t work for a place with in-house style guides, you’ll often want to make some edits to your plots by hand after you create them.\nThe general workflow goes like this:\n\nCreate a plot in R and ggplot\nExport that plot as a vector image (either a PDF or an SVG)\nEdit and enhance the vector image in a vector editor, like Adobe Illustrator\nExport the polished version from Illustrator as either a PDF or PNG (or both)\n\nBig data-focused organizations have been using a process like this for years. Nathan Yau describes this whole process in his 2011 book Visualize This and the book contains a bunch of tutorials to help you learn how create something in R, export it, and edit it in Illustrator.\nFor instance, in his first chapter, he guides you through the process of creating the skeleton of this chart in R, exporting it as a PDF, and adding all the titles and annotations and arrows and extra lines in Illustrator (original post from 2008):",
    "crumbs": [
      "Special applications",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "example/10-example.html#enhancing-graphics-in-2025",
    "href": "example/10-example.html#enhancing-graphics-in-2025",
    "title": "Enhancing graphics",
    "section": "Enhancing graphics in 2025",
    "text": "Enhancing graphics in 2025\nIn 2011, that was the best possible workflow because ggplot couldn’t deal with subtitles, captions, repelled labels, embedded fonts, and differently-styled text (like bold in the middle of a title). Illustrator was the only way to do this stuff.\nNowadays in 2025, though, you can do nearly all of this annotating and enhancing with packages like {ggtext} and {patchwork} and {ggrepel}. You can almost perfectly replicate in-house style guides with the theme() function and put text and arrows and labels and text boxes wherever you want with annotate(). It’s a brave exciting new world.\nYou still can’t do everything with R. ggplot can’t create fancy font ligatures like “ﬁ” in words that have an “f” followed by an “i”, and it can’t handle automatic hyphenation and full text justification, among other limitations. But these are the minorest of graphic design issues (and the ggplot team is working on them!).\nThat all said, it’s still often faster and easier to make edits to your graphs in Illustrator rather than fight with a reluctant annotate() layer that just won’t put an arrow exactly where you want. So it’s still a good idea to understand how to follow the standard workflow of exporting from R and enhancing in Illustrator.",
    "crumbs": [
      "Special applications",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "example/10-example.html#abbreviated-example",
    "href": "example/10-example.html#abbreviated-example",
    "title": "Enhancing graphics",
    "section": "Abbreviated example",
    "text": "Abbreviated example\nIn this video I use the code for the hot dog plot that I provide in this week’s assignment to create a plot, export it, and make edits to it both in Illustrator and Gravit Designer (which actually no longer exists; see here for alternatives to Illustrator). It’s not a complete example at all, but I show you the general process for adding text and lines and editing plot elements.",
    "crumbs": [
      "Special applications",
      "10: Enhancing graphics"
    ]
  },
  {
    "objectID": "example/12-example.html",
    "href": "example/12-example.html",
    "title": "Space",
    "section": "",
    "text": "Shapefiles are special types of data that include information about geography, such as points (latitude, longitude), paths (a bunch of connected latitudes and longitudes) and areas (a bunch of connected latitudes and longitudes that form a complete shape). Nowadays, most government agencies provide shapefiles for their jurisdictions. For global mapping data, you can use the Natural Earth project:\n\nNatural Earth\nUS Census Bureau\nGeorgia GIS Clearinghouse (requires a free account; the interface is incredibly clunky)\nAtlanta Regional Council\nFulton County GIS Portal\nCity of Atlanta, Department of City Planning",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#shapefiles",
    "href": "example/12-example.html#shapefiles",
    "title": "Space",
    "section": "",
    "text": "Shapefiles are special types of data that include information about geography, such as points (latitude, longitude), paths (a bunch of connected latitudes and longitudes) and areas (a bunch of connected latitudes and longitudes that form a complete shape). Nowadays, most government agencies provide shapefiles for their jurisdictions. For global mapping data, you can use the Natural Earth project:\n\nNatural Earth\nUS Census Bureau\nGeorgia GIS Clearinghouse (requires a free account; the interface is incredibly clunky)\nAtlanta Regional Council\nFulton County GIS Portal\nCity of Atlanta, Department of City Planning",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#projections-and-coordinate-reference-systems",
    "href": "example/12-example.html#projections-and-coordinate-reference-systems",
    "title": "Space",
    "section": "Projections and coordinate reference systems",
    "text": "Projections and coordinate reference systems\nAs you read in this week’s readings, projections matter a lot for maps. You can convert your geographic data between different coordinate systems (or projections) fairly easily with {sf}. You can use coord_sf(crs = st_crs(\"XXXX\")) to convert coordinate reference systems (CRS) as you plot, or use st_transform() to convert data frames to a different CRS.\n\n\n\n\n\n\nNoteNot 100% correct\n\n\n\nTECHNICALLY coordinate systems and projection systems are different things, but I’m not a geographer and I don’t care that much about the nuance.\n\n\nThere are standard indexes of more than 4,000 of these projections (!!!) at epsg.io.\nSuper important: When using these projections, you need to specify both the projection catalog (ESRI or EPSG; see here for the difference) and the projection number, separated by a colon (e.g. “ESRI:54030”). Fortunately epsg.io makes this super easy: go to the epsg.io page for the projection you want to use and the page title will have the correct name.\nHere are some common ones:\n\nESRI:54002: Equidistant cylindrical projection for the world1\nEPSG:3395: Mercator projection for the world\nESRI:54008: Sinusoidal projection for the world\nESRI:54009: Mollweide projection for the world\nESRI:54030: Robinson projection for the world (This is my favorite world projection.)\nEPSG:4326: WGS 84: DOD GPS coordinates (standard −180 to 180 system)\nEPSG:4269: NAD 83: Relatively common projection for North America\nESRI:102003: Albers projection specifically for the contiguous United States\n\nAlternatively, instead of using these index numbers, you can use any of the names listed here, such as:\n\n\"+proj=merc\": Mercator\n\"+proj=robin\": Robinson\n\"+proj=moll\": Mollweide\n\"+proj=aeqd\": Azimuthal Equidistant\n\"+proj=cass\": Cassini-Soldner",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#shapefiles-to-download",
    "href": "example/12-example.html#shapefiles-to-download",
    "title": "Space",
    "section": "Shapefiles to download",
    "text": "Shapefiles to download\nI use a lot of different shapefiles in this example. To save you from having to go find and download each individual one, you can download this zip file:\n\n shapefiles.zip\n\nUnzip this and put all the contained folders in a folder named data if you want to follow along. You don’t need to follow along!\nYour project should be structured like this:\nyour-project-name\\\n  some-name.qmd\n  your-project-name.Rproj\n  data\\\n    cb_2022_us_county_5m\\\n      ...\n      cb_2022_us_county_5m.shp\n      ...\n    cb_2022_us_state_20m\\\n    ne_10m_admin_1_states_provinces\\\n    ne_10m_lakes\\\n    ne_10m_rivers_lake_centerlines\\\n    ne_10m_rivers_north_america\\\n    ne_110m_admin_0_countries\\\n    schools_2009\\\nThese shapefiles all came from these sources:\n\n World map: 110m “Admin 0 - Countries” from Natural Earth\n US states: 20m 2022 state boundaries from the US Census Bureau\n US counties: 5m 2022 county boundaries from the US Census Bureau\n US states high resolution: 10m “Admin 1 – States, Provinces” from Natural Earth\n Global rivers: 10m “Rivers + lake centerlines” from Natural Earth\n North American rivers: 10m “Rivers + lake centerlines, North America supplement” from Natural Earth\n Global lakes: 10m “Lakes + Reservoirs” from Natural Earth\n Georgia K–12 schools, 2009: “Georgia K-12 Schools” from the Georgia Department of Education (you must be logged in to access this)",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#live-coding-example",
    "href": "example/12-example.html#live-coding-example",
    "title": "Space",
    "section": "Live coding example",
    "text": "Live coding example\n\n\n\n\n\n\n\n\n\n\nImportantSlight differences from the video\n\n\n\nThis is a slightly cleaned up version of the code from the video.",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#load-and-look-at-data",
    "href": "example/12-example.html#load-and-look-at-data",
    "title": "Space",
    "section": "Load and look at data",
    "text": "Load and look at data\nFirst we’ll load the libraries we’re going to use:\n\n\nCode\nlibrary(tidyverse)  # For ggplot, dplyr, and friends\nlibrary(sf)         # For GIS magic\n\n\nNext we’ll load all the different shapefiles we downloaded using read_sf():\n\n\nCode\n# Download \"Admin 0 – Countries\" from\n# https://www.naturalearthdata.com/downloads/110m-cultural-vectors/\nworld_map &lt;- read_sf(\"data/ne_110m_admin_0_countries/ne_110m_admin_0_countries.shp\")\n\n# Download cb_2022_us_state_20m.zip under \"States\" from\n# https://www.census.gov/geographies/mapping-files/time-series/geo/cartographic-boundary.html\nus_states &lt;- read_sf(\"data/cb_2022_us_state_20m/cb_2022_us_state_20m.shp\")\n\n# Download cb_2022_us_county_5m.zip under \"County\" from\n# https://www.census.gov/geographies/mapping-files/time-series/geo/cartographic-boundary.html\nus_counties &lt;- read_sf(\"data/cb_2022_us_county_5m/cb_2022_us_county_5m.shp\")\n\n# Download \"Admin 1 – States, Provinces\" from\n# https://www.naturalearthdata.com/downloads/10m-cultural-vectors/\nus_states_hires &lt;- read_sf(\"data/ne_10m_admin_1_states_provinces/ne_10m_admin_1_states_provinces.shp\")\n\n# Download \"Rivers + lake centerlines\" from\n# https://www.naturalearthdata.com/downloads/10m-physical-vectors/\nrivers_global &lt;- read_sf(\"data/ne_10m_rivers_lake_centerlines/ne_10m_rivers_lake_centerlines.shp\")\n\n# Download \"Rivers + lake centerlines, North America supplement\" from\n# https://www.naturalearthdata.com/downloads/10m-physical-vectors/\nrivers_na &lt;- read_sf(\"data/ne_10m_rivers_north_america/ne_10m_rivers_north_america.shp\")\n\n# Download \"Lakes + Reservoirs\" from\n# https://www.naturalearthdata.com/downloads/10m-physical-vectors/\nlakes &lt;- read_sf(\"data/ne_10m_lakes/ne_10m_lakes.shp\")\n\n# Download from https://data.georgiaspatial.org/index.asp?body=preview&dataId=41516\n# after creating an account and logging in\nga_schools &lt;- read_sf(\"data/schools_2009/DOE Schools 2009.shp\")",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#basic-plotting",
    "href": "example/12-example.html#basic-plotting",
    "title": "Space",
    "section": "Basic plotting",
    "text": "Basic plotting\nIf you look at the world_map dataset in RStudio, you’ll see it’s just a standard data frame with 177 rows and 169 columns. The last column is the magical geometry column with the latitude/longitude details for the borders for every country. RStudio only shows you 50 columns at a time in the RStudio viewer, so you’ll need to move to the next page of columns with the » button in the top left corner.\nBecause this is just a data frame, we can do all our normal dplyr things to it. Let’s get rid of Antarctica, since it takes up a big proportion of the southern hemisphere:\n\n\nCode\nworld_sans_antarctica &lt;- world_map |&gt; \n  filter(ISO_A3 != \"ATA\")\n\n\nReady to plot a map? Here’s all you need to do:\n\n\nCode\nggplot() + \n  geom_sf(data = world_sans_antarctica)\n\n\n\n\n\n\n\n\n\nIf you couldn’t tell from the lecture, I’m completely blown away by how amazingly easy this every time I plot a map :)\nBecause this a regular ggplot geom, all our regular aesthetics and themes and everything work:\n\n\nCode\nggplot() + \n  geom_sf(data = world_sans_antarctica, \n          fill = \"#669438\", color = \"#32481B\", linewidth = 0.25) +\n  theme_void()\n\n\n\n\n\n\n\n\n\nThe Natural Earth dataset happens to come with some columns with a coloring scheme with 7–13 colors (MAPCOLOR7, MAPCOLOR9, etc.) so that no countries with a shared border share a color. We can fill by that column:\n\n\nCode\nggplot() + \n  geom_sf(data = world_sans_antarctica, \n          aes(fill = as.factor(MAPCOLOR7)),\n          color = \"#401D16\", linewidth = 0.25) +\n  scale_fill_viridis_d(option = \"plasma\") +\n  guides(fill = \"none\") +\n  theme_void()",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#world-map-with-different-projections",
    "href": "example/12-example.html#world-map-with-different-projections",
    "title": "Space",
    "section": "World map with different projections",
    "text": "World map with different projections\nChanging projections is trivial: add a coord_sf() layer where you specify the CRS you want to use.\nHere’s Robinson (yay):\n\n\nCode\nggplot() + \n  geom_sf(data = world_sans_antarctica, \n          fill = \"#669438\", color = \"#32481B\", linewidth = 0.25) +\n  coord_sf(crs = st_crs(\"ESRI:54030\")) +  # Robinson\n  # Or use the name instead of the number\n  # coord_sf(crs = \"+proj=robin\")\n  theme_void()\n\n\n\n\n\n\n\n\n\nHere’s sinusoidal:\n\n\nCode\nggplot() + \n  geom_sf(data = world_sans_antarctica, \n          fill = \"#669438\", color = \"#32481B\", linewidth = 0.25) +\n  coord_sf(crs = st_crs(\"ESRI:54008\")) +  # Sinusoidal\n  theme_void()\n\n\n\n\n\n\n\n\n\nAnd here’s Mercator (ewww):\n\n\nCode\nggplot() + \n  geom_sf(data = world_sans_antarctica, \n          fill = \"#669438\", color = \"#32481B\", linewidth = 0.25) +\n  coord_sf(crs = st_crs(\"EPSG:3395\")) +  # Mercator\n  # Or use the name instead of the number\n  # coord_sf(crs = \"+proj=merc\")\n  theme_void()",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#us-map-with-different-projections",
    "href": "example/12-example.html#us-map-with-different-projections",
    "title": "Space",
    "section": "US map with different projections",
    "text": "US map with different projections\nThis same process works for any shapefile. The map of the US can also be projected differently—two common projections are NAD83 and Albers. We’ll take the us_states dataset, remove Alaska, Hawaii, and Puerto Rico (they’re so far from the rest of the lower 48 states that they make an unusable map—see the next section for a way to include them), and plot it.\n\n\nCode\nlower_48 &lt;- us_states |&gt; \n  filter(!(NAME %in% c(\"Alaska\", \"Hawaii\", \"Puerto Rico\")))\n\nggplot() + \n  geom_sf(data = lower_48, fill = \"#192DA1\", color = \"white\", linewidth = 0.25) +\n  coord_sf(crs = st_crs(\"EPSG:4269\")) +  # NAD83\n  theme_void()\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot() + \n  geom_sf(data = lower_48, fill = \"#192DA1\", color = \"white\", linewidth = 0.25) +\n  coord_sf(crs = st_crs(\"ESRI:102003\")) +  # Albers\n  theme_void()",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#us-map-with-non-continguous-parts",
    "href": "example/12-example.html#us-map-with-non-continguous-parts",
    "title": "Space",
    "section": "US map with non-continguous parts",
    "text": "US map with non-continguous parts\nPlotting places like Alaska, Hawaii, and Puerto Rico gets a little tricky since they’re far away from the contiguous 48 states. There’s an easy way to handle it though!\nFirst, there’s a package named {tigris} that provides a neat interface for working with spatial data from the US Census’s TIGER shapefiles. In addition to providing a ton of functions for getting shapefiles for states, counties, voting districts, Tribal areas, military bases, and dozens of other things, {tigris} has a shift_geometry() function that will change the coordinates for Alaska, Hawaii, and Puerto Rico so that they end up in Mexico and the Gulf of Mexico.\n\n\nCode\nlibrary(tigris)\n\n# This is the Census shapefile we loaded earlier. Note how we're not filtering\n# out AK, HI, and PR now\nus_states_shifted &lt;- us_states |&gt; \n  shift_geometry()  # Move AK, HI, and PR around\n\nggplot() +\n  geom_sf(data = us_states_shifted) +\n  coord_sf(crs = st_crs(\"ESRI:102003\")) +  # Albers\n  theme_void()\n\n\n\n\n\n\n\n\n\nThe shift_geometry() function should work on any shapefile. What if you have a shapefile with the coordinates of all public libraries in Alaska? Those will use the actual coordinates, not the shifted-to-Mexico coordinates. Feed that data to shift_geometry() and it should translate any coordinates you have in Alaska, Hawaii, and Puerto Rico to the Mexico area so they’ll plot correctly.\nshift_geometry() has an optional position argument that lets you control where the non-contiguous states go. By default they’ll go below the continental US (position = \"below\"), but you can also use position = \"outside\" to place them more in relation to where they are in real life:\n\n\nCode\nus_states_shifted &lt;- us_states |&gt; \n  shift_geometry(position = \"outside\")\n\nggplot() +\n  geom_sf(data = us_states_shifted) +\n  coord_sf(crs = st_crs(\"ESRI:102003\")) +  # Albers\n  theme_void()",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#individual-states",
    "href": "example/12-example.html#individual-states",
    "title": "Space",
    "section": "Individual states",
    "text": "Individual states\nAgain, because these shapefiles are really just fancy data frames, we can filter them with normal dplyr functions. Let’s plot just Georgia:\n\n\nCode\nonly_georgia &lt;- lower_48 |&gt; \n  filter(NAME == \"Georgia\")\n\nggplot() +\n  geom_sf(data = only_georgia, fill = \"#EC8E55\") +\n  theme_void()\n\n\n\n\n\n\n\n\n\nWe can also use a different projection. If we look at epsg.io, there’s a version of NAD83 that’s focused specifically on Georgia.\n\n\nCode\nggplot() +\n  geom_sf(data = only_georgia, fill = \"#EC8E55\") +\n  theme_void() +\n  coord_sf(crs = st_crs(\"EPSG:2239\"))  # NAD83 focused on Georgia\n\n\n\n\n\n\n\n\n\nThere’s one small final issue though: we’re missing all the Atlantic islands in the southeast like Cumberland Island and Amelia Island. That’s because we’re using the Census’s low resolution (20m) data. That’s fine for the map of the whole country, but if we’re looking at a single state, we probably want better detail in the borders. We can use the Census’s high resolution (500k) data, but even then it doesn’t include the islands for whatever reason, but Natural Earth has high resolution US state data that does have the islands, so we can use that:\n\n\nCode\nonly_georgia_high &lt;- us_states_hires |&gt; \n  filter(iso_3166_2 == \"US-GA\")\n\nggplot() +\n  geom_sf(data = only_georgia_high, fill = \"#EC8E55\") +\n  theme_void() +\n  coord_sf(crs = st_crs(\"EPSG:2239\"))  # NAD83 focused on Georgia\n\n\n\n\n\n\n\n\n\nPerfect.",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#plotting-multiple-shapefile-layers",
    "href": "example/12-example.html#plotting-multiple-shapefile-layers",
    "title": "Space",
    "section": "Plotting multiple shapefile layers",
    "text": "Plotting multiple shapefile layers\nThe state shapefiles from the Census Bureau only include state boundaries. If we want to see counties in Georgia, we need to download and load the Census’s county shapefiles (which we did above). We can then add a second geom_sf() layer for the counties.\nFirst we need to filter the county data to only include Georgia counties. The counties data doesn’t include a column with the state name or state abbreviation, but it does include a column named STATEFP, which is the state FIPS code. Looking at lower_48 we can see that the state FIPS code for Georgia is 13, so we use that to filter.\n\n\nCode\nga_counties &lt;- us_counties |&gt; \n  filter(STATEFP == 13)\n\n\nNow we can plot just the counties:\n\n\nCode\nggplot() +\n  geom_sf(data = ga_counties) +\n  theme_void()\n\n\n\n\n\n\n\n\n\nTechnically we can just draw the county boundaries instead of layer the state boundary + the counties, since the borders of the counties make up the border of the state. But there’s an advantage to including both: we can use different aesthetics on each, like adding a thicker border on the state:\n\n\nCode\nggplot() +\n  geom_sf(data = only_georgia_high, color = \"#EC8E55\", linewidth = 3) +\n  geom_sf(data = ga_counties, fill = \"#A5D46A\", color = \"white\") +\n  theme_void()\n\n\n\n\n\n\n\n\n\nIt’s also useful if we want to only show some counties, like metropolitan Atlanta:\n\n\nCode\natl_counties &lt;- ga_counties |&gt; \n  filter(NAME %in% c(\"Cherokee\", \"Clayton\", \"Cobb\", \"DeKalb\", \"Douglas\",\n                     \"Fayette\", \"Fulton\", \"Gwinnett\", \"Henry\", \"Rockdale\"))\nggplot() +\n  geom_sf(data = only_georgia_high, fill = \"#EC8E55\") +\n  geom_sf(data = atl_counties, fill = \"#A5D46A\", color = \"white\") +\n  theme_void()",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#plotting-multiple-shapefile-layers-when-some-are-bigger-than-the-parent-shape",
    "href": "example/12-example.html#plotting-multiple-shapefile-layers-when-some-are-bigger-than-the-parent-shape",
    "title": "Space",
    "section": "Plotting multiple shapefile layers when some are bigger than the parent shape",
    "text": "Plotting multiple shapefile layers when some are bigger than the parent shape\nSo far we’ve been able to filter out states and counties that we don’t want to plot using filter(), which works because the shapefiles have geometry data for each state or county. But what if you’re plotting stuff that doesn’t follow state or county boundaries, like freeways, roads, rivers, or lakes?\nAt the beginning we loaded a shapefile for all large and small rivers in the US. Look at the first few rows of rivers_na:\n\n\nCode\nhead(rivers_na)\n## Simple feature collection with 6 features and 40 fields\n## Geometry type: MULTILINESTRING\n## Dimension:     XY\n## Bounding box:  xmin: -95 ymin: 36 xmax: -91 ymax: 40\n## Geodetic CRS:  WGS 84\n## # A tibble: 6 × 41\n##   strokeweig name   featurecla scalerank min_zoom min_label  ne_id rivernum dissolve name_alt note  name_full label wikidataid name_ar name_bn name_de\n##        &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  \n## 1       0.15 North… River             12        7         8 1.75e9       NA &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   \n## 2       0.2  North… River             12        7         8 1.75e9       NA &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   \n## 3       0.2  Salt   River             12        7         8 1.16e9    22682 22682Ri… &lt;NA&gt;     ID i… Salt Riv… Salt  Q745070    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   \n## 4       0.15 Spring River             12        7         8 1.75e9       NA &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   \n## 5       0.2  Spring River             12        7         8 1.75e9       NA &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;  &lt;NA&gt;      &lt;NA&gt;  Q7580668   &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   \n## 6       0.15 Illin… River             12        7         8 1.16e9    22643 22643Ri… &lt;NA&gt;     ID i… Illinois… Illi… Q5999623   &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   \n## # ℹ 24 more variables: name_en &lt;chr&gt;, name_es &lt;chr&gt;, name_fr &lt;chr&gt;, name_el &lt;chr&gt;, name_hi &lt;chr&gt;, name_hu &lt;chr&gt;, name_id &lt;chr&gt;, name_it &lt;chr&gt;,\n## #   name_ja &lt;chr&gt;, name_ko &lt;chr&gt;, name_nl &lt;chr&gt;, name_pl &lt;chr&gt;, name_pt &lt;chr&gt;, name_ru &lt;chr&gt;, name_sv &lt;chr&gt;, name_tr &lt;chr&gt;, name_vi &lt;chr&gt;,\n## #   name_zh &lt;chr&gt;, name_fa &lt;chr&gt;, name_he &lt;chr&gt;, name_uk &lt;chr&gt;, name_ur &lt;chr&gt;, name_zht &lt;chr&gt;, geometry &lt;MULTILINESTRING [°]&gt;\n\n\nThe first row is the whole Colorado river, which flows through seven states. We can’t just use filter() to only select some parts of it based on states.\nHere’s what happens if we combine our Georgia map with rivers and lakes:\n\n\nCode\nggplot() +\n  geom_sf(data = only_georgia, fill = \"#EC8E55\") +\n  geom_sf(data = rivers_na) +\n  theme_void()\n\n\n\n\n\n\n\n\n\nIt plots Georgia, and it’s filled with orange, but it also plots every single river in North America. Oops.\nWe need to do a little GIS work to basically use only_georgia as a cookie cutter and keep only the rivers that are contained in the only_georgia boundaries. Fortunately, there’s a function in the {sf} package that does this: st_intersection(). Feed it two shapefile datasets and it will select the parts of the second that fall within the boundaries of the first:\n\n\nCode\nga_rivers_na &lt;- st_intersection(only_georgia, rivers_na)\n## Error in geos_op2_geom(\"intersection\", x, y, ...): st_crs(x) == st_crs(y) is not TRUE\n\n\nOh no! An error! It’s complaining that the reference systems used in these two datasets don’t match. We can check the CRS with st_crs():\n\n\nCode\nst_crs(only_georgia)\n## Coordinate Reference System:\n##   User input: NAD83 \n##   wkt:\n## GEOGCRS[\"NAD83\",\n##     DATUM[\"North American Datum 1983\",\n##         ELLIPSOID[\"GRS 1980\",6378137,298.257222101,\n##             LENGTHUNIT[\"metre\",1]]],\n##     PRIMEM[\"Greenwich\",0,\n##         ANGLEUNIT[\"degree\",0.0174532925199433]],\n##     CS[ellipsoidal,2],\n##         AXIS[\"latitude\",north,\n##             ORDER[1],\n##             ANGLEUNIT[\"degree\",0.0174532925199433]],\n##         AXIS[\"longitude\",east,\n##             ORDER[2],\n##             ANGLEUNIT[\"degree\",0.0174532925199433]],\n##     ID[\"EPSG\",4269]]\nst_crs(rivers_na)\n## Coordinate Reference System:\n##   User input: WGS 84 \n##   wkt:\n## GEOGCRS[\"WGS 84\",\n##     DATUM[\"World Geodetic System 1984\",\n##         ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n##             LENGTHUNIT[\"metre\",1]]],\n##     PRIMEM[\"Greenwich\",0,\n##         ANGLEUNIT[\"degree\",0.0174532925199433]],\n##     CS[ellipsoidal,2],\n##         AXIS[\"latitude\",north,\n##             ORDER[1],\n##             ANGLEUNIT[\"degree\",0.0174532925199433]],\n##         AXIS[\"longitude\",east,\n##             ORDER[2],\n##             ANGLEUNIT[\"degree\",0.0174532925199433]],\n##     ID[\"EPSG\",4326]]\n\n\nThe Georgia map uses EPSG:4269 (or NAD83), while the rivers map uses EPSG:4326 (or the GPS system of latitude and longitude). We need to convert one of them to make them match. It doesn’t matter which one.\n\n\nCode\nonly_georgia_4326 &lt;- only_georgia |&gt; \n  st_transform(crs = st_crs(\"EPSG:4326\"))\n\nga_rivers_na &lt;- st_intersection(only_georgia_4326, rivers_na)\n## Warning: attribute variables are assumed to be spatially constant throughout all geometries\n\n\nYou’ll get an ominous warning, but you should be okay—it’s just because flattening globes into flat planes is hard, and the cutting might not be 100% accurate, but it’ll be close enough for our mapping purposes.\nNow we can plot our state shape and the truncated rivers:\n\n\nCode\nggplot() +\n  geom_sf(data = only_georgia, fill = \"#EC8E55\") +\n  geom_sf(data = ga_rivers_na) +\n  theme_void()\n\n\n\n\n\n\n\n\n\nHey! It worked! Let’s put all the rivers and lakes on at once and make it a little more artsy. We’ll use the high resolution Georgia map too, which conveniently already matches the CRS of the rivers and lakes:\n\n\nCode\nga_rivers_na &lt;- st_intersection(only_georgia_high, rivers_na)\nga_rivers_global &lt;- st_intersection(only_georgia_high, rivers_global)\n\n# sf v1.0 changed how it handles shapefiles with spherical elements, which\n# apparently the lakes data uses. Currently when using st_intersection() and\n# other GIS-related functions, it breaks. This can be fixed by feeding the lakes\n# data to st_make_valid(), which does something fancy behind the scenes to make\n# it work. See this: https://github.com/r-spatial/sf/issues/1649#issuecomment-853279986\nga_lakes &lt;- st_intersection(only_georgia_high, st_make_valid(lakes))\n\nggplot() +\n  geom_sf(data = only_georgia_high, \n          color = \"black\", linewidth = 0.1, fill = \"black\") +\n  geom_sf(data = ga_rivers_global, linewidth = 0.3, color = \"grey80\") +\n  geom_sf(data = ga_rivers_na, linewidth = 0.15, color = \"grey80\") +\n  geom_sf(data = ga_lakes, linewidth = 0.3, fill = \"grey80\", color = NA) +\n  coord_sf(crs = st_crs(\"EPSG:4326\")) +  # NAD83\n  theme_void()\n\n\n\n\n\n\n\n\n\nHeck yeah. That’s a great map. This is basically what Kieran Healy did here, but he used even more detailed shapefiles from the US Geological Survey.",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#plotting-schools-in-georgia",
    "href": "example/12-example.html#plotting-schools-in-georgia",
    "title": "Space",
    "section": "Plotting schools in Georgia",
    "text": "Plotting schools in Georgia\nShapefiles are not limited to just lines and areas—they can also contain points. I made a free account at the Georgia GIS Clearinghouse, searched for “schools” and found a shapefile of all the K–12 schools in 2009. This is the direct link to the page, but it only works if you’re logged in to their system. This is the official metadata for the shapefile, which you can see if you’re not logged in, but you can’t download anything. It’s a dumb system and other states are a lot better at offering their GIS data (like, here’s a shapefile of all of Utah’s schools and libraries as of 2017, publicly accessible without an account).\nWe loaded the shapefile up at the top, but now let’s look at it:\n\n\nCode\nhead(ga_schools)\n## Simple feature collection with 6 features and 16 fields\n## Geometry type: POINT\n## Dimension:     XY\n## Bounding box:  xmin: 2100000 ymin: 320000 xmax: 2200000 ymax: 5e+05\n## Projected CRS: NAD83 / Georgia West (ftUS)\n## # A tibble: 6 × 17\n##      ID  DATA COUNTY  DISTRICT   SCHOOLNAME GRADES ADDRESS CITY  STATE ZIP   TOTAL SCHOOLID DOE_CONGRE CONGRESS SENATE HOUSE                 geometry\n##   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt; &lt;POINT [US_survey_foot]&gt;\n## 1  4313   224 Early   Early Cou… Early Cou… PK,KK… 283 Ma… Blak… GA    3982…  1175    43549 2          002      011    149           (2052182 494322)\n## 2  4321   227 Early   Early Cou… ETN Ecker… 06,07… 313 E … Blak… GA    3982…    30    47559 2          002      011    149            (2053200 5e+05)\n## 3  4329   226 Early   Early Cou… Early Cou… 06,07… 12053 … Blak… GA    3982…   539    43550 2          002      011    149            (2055712 5e+05)\n## 4  4337   225 Early   Early Cou… Early Cou… 09,10… 12020 … Blak… GA    3982…   716    43552 2          002      011    149            (2055712 5e+05)\n## 5  4345   189 Decatur Decatur C… John John… PK,KK… 1947 S… Bain… GA    3981…   555    43279 2          002      011    172           (2168090 321781)\n## 6  4353   192 Decatur Decatur C… Potter St… PK,KK… 725 Po… Bain… GA    3981…   432    43273 2          002      011    172           (2168751 327375)\n\n\nWe have a bunch of columns like GRADES that has a list of what grades are included in the school, and TOTAL, which I’m guessing is the number of students. Let’s map it!\nIf we add a geom_sf() layer just for ga_schools, it’ll plot a bunch of points:\n\n\nCode\nggplot() +\n  geom_sf(data = ga_schools)\n\n\n\n\n\n\n\n\n\nOne of these rows is wildly miscoded and ended up Indonesia! If you sort by the geometry column in RStudio, you’ll see that it’s most likely Allatoona High School in Cobb County (id = 22097). The coordinates are different from all the others, and it has no congressional district information. Let’s remove it.\n\n\nCode\nga_schools_fixed &lt;- ga_schools |&gt; \n  filter(ID != 22097)\n\nggplot() +\n  geom_sf(data = ga_schools_fixed)\n\n\n\n\n\n\n\n\n\nThat’s better. However, all we’re plotting now are the points—we’ve lost the state and/or county boundaries. Let’s include those:\n\n\nCode\nggplot() +\n  geom_sf(data = only_georgia_high) +\n  geom_sf(data = ga_schools_fixed) +\n  theme_void()\n\n\n\n\n\n\n\n\n\nWe’re getting closer. We have some issues with overplotting, so let’s shrink the points down and make them a little transparent:\n\n\nCode\nggplot() +\n  geom_sf(data = only_georgia_high) +\n  geom_sf(data = ga_schools_fixed, size = 0.5, alpha = 0.5) +\n  theme_void()\n\n\n\n\n\n\n\n\n\nNeat. One last thing we can do is map the TOTAL column to the color aesthetic and color the points by how many students attend each school:\n\n\nCode\nggplot() +\n  geom_sf(data = only_georgia_high) +\n  geom_sf(data = ga_schools_fixed, aes(color = TOTAL), size = 0.75, alpha = 0.5) +\n  scale_color_viridis_c() +\n  theme_void()\n\n\n\n\n\n\n\n\n\nMost schools appear to be under 1,000 students, except for a cluster in Gwinnett County north of Atlanta. Its high schools have nearly 4,000 students each!\n\n\nCode\nga_schools_fixed |&gt; \n  select(COUNTY, SCHOOLNAME, TOTAL) |&gt; \n  arrange(desc(TOTAL)) |&gt; \n  head()\n## Simple feature collection with 6 features and 3 fields\n## Geometry type: POINT\n## Dimension:     XY\n## Bounding box:  xmin: 2300000 ymin: 1400000 xmax: 2400000 ymax: 1500000\n## Projected CRS: NAD83 / Georgia West (ftUS)\n## # A tibble: 6 × 4\n##   COUNTY   SCHOOLNAME                  TOTAL                 geometry\n##   &lt;chr&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;POINT [US_survey_foot]&gt;\n## 1 Gwinnett Mill Creek High School       3997        (2384674 1482772)\n## 2 Gwinnett Collins Hill High School     3720        (2341010 1461730)\n## 3 Gwinnett Brookwood High School        3455        (2334543 1413396)\n## 4 Gwinnett Grayson High School          3230        (2370186 1408579)\n## 5 Gwinnett Peachtree Ridge High School  3118        (2319344 1459458)\n## 6 Gwinnett Berkmar High School          3095        (2312983 1421933)",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#making-your-own-geocoded-data",
    "href": "example/12-example.html#making-your-own-geocoded-data",
    "title": "Space",
    "section": "Making your own geocoded data",
    "text": "Making your own geocoded data\nSo, plotting shapefiles with geom_sf() is magical because {sf} deals with all of the projection issues for us automatically and it figures out how to plot all the latitude and longitude data for us automatically. But lots of data doesn’t some as shapefiles. The rats data from mini project 1, for instance, has two columns indicating the latitude and longitude of each rat sighting, but those are stored as just numbers. If we try to use geom_sf() with the rat data, it won’t work. We need that magical geometry column.\nFortunately, if we have latitude and longitude information, we can make our own geometry column.\nLet’s say we want to mark some cities on our map of Georgia. We can make a mini dataset using tribble(). I found these points from Google Maps: right click anywhere in Google Maps, select “What’s here?”, and you’ll see the exact coordinates for that spot.\n\n\nCode\nga_cities &lt;- tribble(\n  ~city, ~lat, ~long,\n  \"Atlanta\", 33.748955, -84.388099,\n  \"Athens\", 33.950794, -83.358884,\n  \"Savannah\", 32.113192, -81.089350\n)\nga_cities\n## # A tibble: 3 × 3\n##   city       lat  long\n##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;\n## 1 Atlanta   33.7 -84.4\n## 2 Athens    34.0 -83.4\n## 3 Savannah  32.1 -81.1\n\n\nThis is just a normal dataset, and the lat and long columns are just numbers. R doesn’t know that those are actually geographic coordinates. This is similar to the rats data, or any other data that has columns for latitude and longitude.\nWe can convert those two columns to the magic geometry column with the st_as_sf() function. We have to define two things in the function: which coordinates are the longitude and latitude, and what CRS the coordinates are using. Google Maps uses EPSG:4326, or the GPS system, so we specify that:\n\n\nCode\nga_cities_geometry &lt;- ga_cities |&gt; \n  st_as_sf(coords = c(\"long\", \"lat\"), crs = st_crs(\"EPSG:4326\"))\nga_cities_geometry\n## Simple feature collection with 3 features and 1 field\n## Geometry type: POINT\n## Dimension:     XY\n## Bounding box:  xmin: -84 ymin: 32 xmax: -81 ymax: 34\n## Geodetic CRS:  WGS 84\n## # A tibble: 3 × 2\n##   city        geometry\n## * &lt;chr&gt;    &lt;POINT [°]&gt;\n## 1 Atlanta     (-84 34)\n## 2 Athens      (-83 34)\n## 3 Savannah    (-81 32)\n\n\nThe longitude and latitude columns are gone now, and we have a single magical geometry column. That means we can plot it with geom_sf():\n\n\nCode\nggplot() +\n  geom_sf(data = only_georgia_high, fill = \"#EC8E55\") +\n  geom_sf(data = ga_cities_geometry, size = 3) +\n  theme_void()\n\n\n\n\n\n\n\n\n\nWe can use geom_sf_label() (or geom_sf_text()) to add labels in the correct locations too. It will give you a warning, but you can ignore it—again, it’s complaining that the positioning might not be 100% accurate because of issues related to taking a globe and flattening it. It’s fine.\n\n\nCode\nggplot() +\n  geom_sf(data = only_georgia_high, fill = \"#EC8E55\") +\n  geom_sf(data = ga_cities_geometry, size = 3) +\n  geom_sf_label(data = ga_cities_geometry, aes(label = city),\n                nudge_y = 0.2) +\n  theme_void()",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#automatic-geocoding-by-address",
    "href": "example/12-example.html#automatic-geocoding-by-address",
    "title": "Space",
    "section": "Automatic geocoding by address",
    "text": "Automatic geocoding by address\nUsing st_as_sf() is neat when you have latitude and longitude data already, but what if you have a list of addresses or cities instead, with no fancy geographic information? It’s easy enough to right click on Google Maps, but you don’t really want to do that hundreds of times for large-scale data.\nFortunately there are a bunch of different online geocoding services that return GIS data for addresses and locations that you feed them, like magic.\nThe easiest way to use any of these services is to use the {tidygeocoder} package, which connects with all these different free and paid services (run ?geo in R for complete details):\n\n\"osm\": OpenStreetMap through Nominatim. FREE.\n\"census\": US Census. Geographic coverage is limited to the United States. FREE.\n\"arcgis\": ArcGIS. FREE and paid.\n\"geocodio\": Geocodio. Geographic coverage is limited to the United States and Canada. An API key must be stored in \"GEOCODIO_API_KEY\".\n\"iq\": Location IQ. An API key must be stored in \"LOCATIONIQ_API_KEY\".\n\"google\": Google. An API key must be stored in \"GOOGLEGEOCODE_API_KEY\".\n\"opencage\": OpenCage. An API key must be stored in \"OPENCAGE_KEY\".\n\"mapbox\": Mapbox. An API key must be stored in \"MAPBOX_API_KEY\".\n\"here\": HERE. An API key must be stored in \"HERE_API_KEY\".\n\"tomtom\": TomTom. An API key must be stored in \"TOMTOM_API_KEY\".\n\"mapquest\": MapQuest. An API key must be stored in \"MAPQUEST_API_KEY\".\n\"bing\": Bing. An API key must be stored in \"BINGMAPS_API_KEY\".\n\nNot all services work equally well, and the free ones have rate limits (like, don’t try to geocode a million rows of data with the US Census), so you’ll have to play around with different services. You can also provide a list of services and {tidygeocoder} will cascade through them—if it can’t geocode an address with OpenStreetMap, it can move on to the Census, then ArcGIS, and so on. You need to set the cascade_order argument in geocode() for this to work.\nLet’s make a little dataset with some addresses to geocode:\n\n\nCode\nsome_addresses &lt;- tribble(\n  ~name,             ~address,\n  \"The White House\", \"1600 Pennsylvania Ave NW, Washington, DC\",\n  \"The Andrew Young School of Policy Studies\", \"55 Park Place SE, Atlanta, GA 30303\"\n)\n\nsome_addresses\n## # A tibble: 2 × 2\n##   name                                      address                                 \n##   &lt;chr&gt;                                     &lt;chr&gt;                                   \n## 1 The White House                           1600 Pennsylvania Ave NW, Washington, DC\n## 2 The Andrew Young School of Policy Studies 55 Park Place SE, Atlanta, GA 30303\n\n\nTo geocode these addresses, we can feed this data into geocode() and tell it to use the address column. We’ll use the Census geocoding system for fun (surely they know where the White House is):\n\n\nCode\nlibrary(tidygeocoder)\n\ngeocoded_addresses &lt;- some_addresses |&gt; \n  geocode(address, method = \"census\")\n\ngeocoded_addresses\n\n\n\n## # A tibble: 2 × 3\n##   name                                        lat  long\n##   &lt;chr&gt;                                     &lt;dbl&gt; &lt;dbl&gt;\n## 1 The White House                            38.9 -77.0\n## 2 The Andrew Young School of Policy Studies  33.8 -84.4\n\nIt worked!\nThose are just numbers, though, and not the magical geometry column, so we need to use st_as_sf() to convert them to actual GIS data.\n\n\nCode\naddresses_geometry &lt;- geocoded_addresses |&gt; \n  st_as_sf(coords = c(\"long\", \"lat\"), crs = st_crs(\"EPSG:4326\"))\n\naddresses_geometry |&gt; select(-address)\n## Simple feature collection with 2 features and 1 field\n## Geometry type: POINT\n## Dimension:     XY\n## Bounding box:  xmin: -84 ymin: 34 xmax: -77 ymax: 39\n## Geodetic CRS:  WGS 84\n## # A tibble: 2 × 2\n##   name                                         geometry\n##   &lt;chr&gt;                                     &lt;POINT [°]&gt;\n## 1 The White House                              (-77 39)\n## 2 The Andrew Young School of Policy Studies    (-84 34)\n\n\nLet’s plot these on a US map:\n\n\nCode\nggplot() + \n  geom_sf(data = lower_48, fill = \"#192DA1\", color = \"white\", linewidth = 0.25) +\n  geom_sf(data = addresses_geometry, size = 5, color = \"#FF851B\") +\n  # Albers uses meters as its unit of measurement, so we need to nudge these\n  # labels up by a lot. I only settled on 175,000 here after a bunch of trial\n  # and error, adding single zeroes and rerunning the plot until the labels\n  # moved. 175,000 meters = 108.74 miles\n  geom_sf_label(data = addresses_geometry, aes(label = name),\n                size = 4, fill = \"#FF851B\", nudge_y = 175000) + \n  coord_sf(crs = st_crs(\"ESRI:102003\")) +  # Albers\n  theme_void()",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#plotting-other-data-on-maps",
    "href": "example/12-example.html#plotting-other-data-on-maps",
    "title": "Space",
    "section": "Plotting other data on maps",
    "text": "Plotting other data on maps\nSo far we’ve just plotted whatever data the shapefile creators decided to include and publish in their data. But what if you want to visualize some other variable on a map? We can do this by combining our shapefile data with any other kind of data, as long as the two have a shared column. For instance, we can make a choropleth map of life expectancy with data from the World Bank.\nFirst, let’s grab some data from the World Bank for just 2015:\n\n\nCode\nlibrary(WDI)  # For getting data from the World Bank\n\nindicators &lt;- c(life_expectancy = \"SP.DYN.LE00.IN\")  # Life expectancy\n\nwdi_raw &lt;- WDI(country = \"all\", indicators, extra = TRUE, \n               start = 2015, end = 2015)\n\n\nLet’s see what we got:\n\n\nCode\nhead(wdi_raw)\n## # A tibble: 6 × 13\n##   country                     iso2c iso3c  year life_expectancy status lastupdated region                    capital longitude latitude income lending\n##   &lt;chr&gt;                       &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;           &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;      &lt;chr&gt;                     &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;  \n## 1 Afghanistan                 AF    AFG    2015            62.3 NA     2026-02-24  South Asia                Kabul       69.2      34.5 Low i… IDA    \n## 2 Africa Eastern and Southern ZH    AFE    2015            61.7 NA     2026-02-24  Aggregates                &lt;NA&gt;        NA        NA   Aggre… Aggreg…\n## 3 Africa Western and Central  ZI    AFW    2015            56.0 NA     2026-02-24  Aggregates                &lt;NA&gt;        NA        NA   Aggre… Aggreg…\n## 4 Albania                     AL    ALB    2015            78.4 NA     2026-02-24  Europe & Central Asia     Tirane      19.8      41.3 Upper… IBRD   \n## 5 Algeria                     DZ    DZA    2015            75.2 NA     2026-02-24  Middle East & North Afri… Algiers      3.05     36.7 Upper… IBRD   \n## 6 American Samoa              AS    ASM    2015            72.7 NA     2026-02-24  East Asia & Pacific       Pago P…   -171.      -14.3 High … Not cl…\n\n\nWe have a bunch of columns here, but we care about two in particular: life expectancy, and the ISO3 code. This three-letter code is a standard system for identifying countries (see the full list here), and that column will let us combine this World Bank data with the global shapefile, which also has a column for the ISO3 code.\n\n\n\n\n\n\nNoteWorld capitals\n\n\n\nWe also have columns for the latitude and longitude for each capital, so we could theoretically convert those to a geometry column with st_as_sf() and plot world capitals, which would be neat, but we won’t do that now.\n\n\nLet’s clean up the WDI data by shrinking it down substantially so we only join the one life_expectancy column that we care about:\n\n\nCode\nwdi_clean_small &lt;- wdi_raw |&gt; \n  select(life_expectancy, iso3c)\nwdi_clean_small\n## # A tibble: 266 × 2\n##    life_expectancy iso3c\n##              &lt;dbl&gt; &lt;chr&gt;\n##  1            62.3 AFG  \n##  2            61.7 AFE  \n##  3            56.0 AFW  \n##  4            78.4 ALB  \n##  5            75.2 DZA  \n##  6            72.7 ASM  \n##  7            84.5 AND  \n##  8            61.0 AGO  \n##  9            76.9 ATG  \n## 10            70.7 ARB  \n## # ℹ 256 more rows\n\n\nNext we need to merge this tiny dataset into the world_map_sans_antarctica shapefile data we were using earlier. To do this we’ll use a function named left_join(). We feed two data frames into left_join(), and R will keep all the rows from the first and include all the columns from both the first and the second wherever the two datasets match with one specific column. That’s wordy and weird—stare at this animation here for a few seconds to see what’s really going to happen. We’re essentially going to append the World Bank data to the end of the world shapefiles and line up rows that have matching ISO3 codes. The ISO3 column is named ISO_A3 in the shapefile data, and it’s named iso3c in the WDI data, so we tell left_join() that those are the same column:\n\n\nCode\nworld_map_with_life_expectancy &lt;- world_sans_antarctica |&gt; \n  left_join(wdi_clean_small, by = c(\"ISO_A3\" = \"iso3c\"))\n\n\nIf you look at this dataset in RStudio now and look at the last column, you’ll see the WDI life expectancy right next to the magic geometry column.\nWe technically didn’t need to shrink the WDI data down to just two columns—had we left everything else, all the WDI columns would have come over to the world_sans_antarctica, including columns for region and income level, etc. But I generally find it easier and cleaner to only merge in the columns I care about instead of making massive datasets with a billion extra columns.\nNow that we have a column for life expectancy, we can map it to the fill aesthetic and fill each country by 2015 life expectancy:\n\n\nCode\nggplot() + \n  geom_sf(data = world_map_with_life_expectancy, \n          aes(fill = life_expectancy),\n          linewidth = 0.25) +\n  coord_sf(crs = st_crs(\"ESRI:54030\")) +  # Robinson\n  scale_fill_viridis_c(option = \"viridis\") +\n  labs(fill = \"Life expectancy\") +\n  theme_void() +\n  theme(legend.position = \"bottom\")\n\n\n\n\n\n\n\n\n\nVoila! Global life expectancy in 2015!\n\n\n\n\n\n\n\nTipFrance and Norway\n\n\n\nSharp-eyed readers will notice that France and Norway are grayed out because they’re missing data. That’s because the ISO_A3 code in the Natural Earth data is missing for both France and Norway for whatever reason, so the WDI data didn’t merge with those rows. To fix that, we can do some manual recoding before joining in the WDI data.\n\n\n\n\nCode\nworld_sans_antarctica_fixed &lt;- world_sans_antarctica |&gt; \n  mutate(ISO_A3 = case_when(\n    # If the country name is Norway or France, redo the ISO3 code\n    ADMIN == \"Norway\" ~ \"NOR\",\n    ADMIN == \"France\" ~ \"FRA\",\n    # Otherwise use the existing ISO3 code\n    TRUE ~ ISO_A3\n  )) |&gt; \n  left_join(wdi_clean_small, by = c(\"ISO_A3\" = \"iso3c\"))\n\nggplot() + \n  geom_sf(data = world_sans_antarctica_fixed, \n          aes(fill = life_expectancy),\n          linewidth = 0.25) +\n  coord_sf(crs = st_crs(\"ESRI:54030\")) +  # Robinson\n  scale_fill_viridis_c(option = \"viridis\") +\n  labs(fill = \"Life expectancy\") +\n  theme_void() +\n  theme(legend.position = \"bottom\")",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/12-example.html#footnotes",
    "href": "example/12-example.html#footnotes",
    "title": "Space",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nThis is essentially the Gall-Peters projection from the West Wing clip.↩︎",
    "crumbs": [
      "Special applications",
      "12: Space"
    ]
  },
  {
    "objectID": "example/14-example.html",
    "href": "example/14-example.html",
    "title": "Text",
    "section": "",
    "text": "For this example, we’re going to use the text of Little Women by Louisa May Alcott and four Shakespearean tragedies (Romeo and Juliet, King Lear, Macbeth, and Hamlet) to explore how to do some basic text visualization.\nYou can follow along if you want, but don’t feel like you have too. This is mostly just to give you a taste of different methods for visualizing text. It’s by no means comprehensive, but it is well annotated and commented and should (hopefully) be easy to follow.\nIf you want to play with part-of-speech tagging, you can download an already-tagged version of Little Women here (you’ll likely need to right click and choose “Save Link As…”):\nIf you want to see other examples of text visualizations with the {tidytext} package, check out some of these:",
    "crumbs": [
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "example/14-example.html#live-coding-example",
    "href": "example/14-example.html#live-coding-example",
    "title": "Text",
    "section": "Live coding example",
    "text": "Live coding example\n\n\n\n\n\n\n\n\n\n\nImportantBig differences from the video\n\n\n\nThis is a highly cleaned up version of the code from the video.",
    "crumbs": [
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "example/14-example.html#get-data",
    "href": "example/14-example.html#get-data",
    "title": "Text",
    "section": "Get data",
    "text": "Get data\nFirst, as always, we’ll load the libraries we’ll be using:\n\n\nCode\nlibrary(tidyverse)   # For ggplot, dplyr, etc.\nlibrary(tidytext)    # For neat text things\nlibrary(gutenbergr)  # For downloading books from Project Gutenberg\n\n\nWe’re going to use the {gutenbergr} package to download some books directly from Project Gutenberg. The IDs for these books come from the URLs at their website. For instance, Little Women is book #514. We’ll store these books as *_raw and then clean them up later.\n\n\nCode\n# 514 Little Women\nlittle_women_raw &lt;- gutenberg_download(514, meta_fields = \"title\")\n\n# 1524 - Hamlet\n# 1532 - King Lear\n# 1533 - Macbeth\n# 1513 - Romeo and Juliet\ntragedies_raw &lt;- gutenberg_download(c(1524, 1532, 1533, 1513),\n                                    meta_fields = \"title\")\n\n\n\n\n\n\n\n\nImportantDownloading errors\n\n\n\nSometimes the Project Gutenberg server gets too much traffic and goes down temporarily (it’s all run by volunteers!) and you’ll get an error like this:\nWarning: Could not download a book at http://aleph.gutenberg.org/...\nProject Gutenberg has multiple copies of itself on different servers around the world, called “mirrors.” You can see the full list of mirrors here. If you get an error about connecting to the main Project Gutenberg server (aleph.gutenberg.org), you can specify a different mirror with the mirror argument in gutenberg_download():\n\n\nCode\nlittle_women_raw &lt;- gutenberg_download(\n  514, meta_fields = \"title\",\n  mirror = \"http://mirror.csclub.uwaterloo.ca/gutenberg\"\n)\n\n\nThe mirror at http://mirror.csclub.uwaterloo.ca/gutenberg seems to be the most complete and reliable, so use that if/when things fail.\n\n\nIf you won’t want to redownload the books every time you knit (you don’t), you can do the same trick we’ve used for WDI and FRED data. Put the actual code for getting the books in a chunk with eval=FALSE on it and run it manually in RStudio when you want to get the data. Then you can write the downloaded data as a CSV file, and then load it invisibly from the CSV file when you knit:\nI first download data from Project Gutenberg:\n\n```{r get-book, eval=FALSE}\nbooks_raw &lt;- gutenberg_download(...)\n\nwrite_csv(books_raw, \"data/books_raw.csv\")\n```\n\n```{r load-book-data-real, include=FALSE}\nbooks_raw &lt;- read_csv(\"data/books_raw.csv\")\n```",
    "crumbs": [
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "example/14-example.html#clean-data",
    "href": "example/14-example.html#clean-data",
    "title": "Text",
    "section": "Clean data",
    "text": "Clean data\nThe data you get from Project Gutenberg comes in a tidy format, with a column for the book id, a column for the title, and a column for text. Sometimes this text column will be divided by lines in the book; sometimes it might be an entire page or paragraph or chapter. It all depends on how the book is formatted at Project Gutenberg.\nHere’s what the start of our little_women_raw data looks like:\n\n\nCode\nhead(little_women_raw)\n## # A tibble: 6 × 3\n##   gutenberg_id text                   title       \n##          &lt;int&gt; &lt;chr&gt;                  &lt;chr&gt;       \n## 1          514 \"Little Women\"         Little Women\n## 2          514 \"\"                     Little Women\n## 3          514 \"by Louisa May Alcott\" Little Women\n## 4          514 \"\"                     Little Women\n## 5          514 \"\"                     Little Women\n## 6          514 \"Contents\"             Little Women\n\n\nIf we look at the data in RStudio, we can see that the actual book doesn’t start until row 70 (the first 69 rows are the table of contents and other parts of the front matter).\n\n\n\n\n\n\nNoteEvery book is different!\n\n\n\nIn this case, Little Women starts at row 67. That will not be true for all books! Every book is unique and has different amounts of front matter. You cannot assume that any book you work with starts at line 67.\n\n\nIt would be nice if we had a column that indicated what chapter each line is in, since we could then group by chapter and look at patterns within chapters. Since the data doesn’t come with a chapter column, we have to make one ourselves using a fun little trick. Each chapter in the book starts with “CHAPTER ONE” or “CHAPTER TWO”, with “chapter” in ALL CAPS. We can make a variable named chapter_start that will be true if a line starts with “CHAPTER” and false if not. Then we can use the cumsum() function to take the cumulative sum of this column, which will increment up one number ever time there’s a new chapter, thus creating a helpful chapter column.\n\n\nCode\n# Clean up Little Women\nlittle_women &lt;- little_women_raw |&gt; \n  # The actual book doesn't start until line 67\n  slice(67:n()) |&gt; \n  # Get rid of rows where text is missing\n  drop_na(text) |&gt; \n  # Chapters start with CHAPTER X, so mark if each row is a chapter start\n  # cumsum() calculates the cumulative sum, so it'll increase every time there's\n  # a new chapter and automatically make chapter numbers\n  mutate(chapter_start = str_detect(text, \"^CHAPTER\"),\n         chapter_number = cumsum(chapter_start)) |&gt; \n  # Get rid of these columns\n  select(-gutenberg_id, -title, -chapter_start)\n\nhead(little_women)\n## # A tibble: 6 × 2\n##   text                                                                      chapter_number\n##   &lt;chr&gt;                                                                              &lt;int&gt;\n## 1 \"CHAPTER ONE\"                                                                          1\n## 2 \"PLAYING PILGRIMS\"                                                                     1\n## 3 \"\"                                                                                     1\n## 4 \"\"                                                                                     1\n## 5 \"“Christmas won’t be Christmas without any presents,” grumbled Jo, lying\"              1\n## 6 \"on the rug.\"                                                                          1\n\n\nThe data from Shakespeare is similarly messy, with just three columns:\n\n\nCode\nhead(tragedies_raw)\n## # A tibble: 6 × 3\n##   gutenberg_id text                                       title \n##          &lt;int&gt; &lt;chr&gt;                                      &lt;chr&gt; \n## 1         1524 \"THE TRAGEDY OF HAMLET, PRINCE OF DENMARK\" Hamlet\n## 2         1524 \"\"                                         Hamlet\n## 3         1524 \"by William Shakespeare\"                   Hamlet\n## 4         1524 \"\"                                         Hamlet\n## 5         1524 \"\"                                         Hamlet\n## 6         1524 \"\"                                         Hamlet\n\n\nThe initial text sometimes isn’t the actual text of the book. If you look at the beginning of Hamlet, for instance, there’s a bunch of introductory stuff from editors and transcribers. In real life, we’d want to find a systematic way to get rid of that (perhaps by looking at how many introductory rows there are in each of the four plays and removing those rows), but for now, we’ll just live with it and pretend Shakespeare wrote these notes. 🤷\nWe could also figure out a systematic way to indicate acts and scenes, but that’s tricky, so we won’t for this example. (This guy did though!)\nNow that we have tidy text data, let’s do stuff with it!\n\n\n\n\n\n\nImportantcount() vs group_by() |&gt; summarize()\n\n\n\nThroughout this example, you’ll see the count() function a lot. It is a useful shortcut for calculating group counts. It is identical to using a specific combination of group_by() and summarize().\nFor example, here’s the normal group_by() |&gt; summarize() way to find the total count of each penguin species. We use the n() function to create a new column named n (kinda confusing, yes) that contains the number of rows in each species group:\n\n\nCode\npenguins |&gt; \n  group_by(species) |&gt;\n  summarize(n = n())\n## # A tibble: 3 × 2\n##   species       n\n##   &lt;fct&gt;     &lt;int&gt;\n## 1 Adelie      152\n## 2 Chinstrap    68\n## 3 Gentoo      124\n\n\nHere’s the same thing with count():\n\n\nCode\npenguins |&gt; \n  count(species)\n##     species   n\n## 1    Adelie 152\n## 2 Chinstrap  68\n## 3    Gentoo 124\n\n\nIt does the same thing. count(GROUP) is a shortcut for group_by(GROUP) |&gt; summarize(n = n()).\nYou can use multiple groupings too. Here’s the group_by() |&gt; summarize() way:\n\n\nCode\npenguins |&gt; \n  group_by(species, island, sex) |&gt;\n  summarize(n = n())\n## # A tibble: 13 × 4\n## # Groups:   species, island [5]\n##    species   island    sex        n\n##    &lt;fct&gt;     &lt;fct&gt;     &lt;fct&gt;  &lt;int&gt;\n##  1 Adelie    Biscoe    female    22\n##  2 Adelie    Biscoe    male      22\n##  3 Adelie    Dream     female    27\n##  4 Adelie    Dream     male      28\n##  5 Adelie    Dream     &lt;NA&gt;       1\n##  6 Adelie    Torgersen female    24\n##  7 Adelie    Torgersen male      23\n##  8 Adelie    Torgersen &lt;NA&gt;       5\n##  9 Chinstrap Dream     female    34\n## 10 Chinstrap Dream     male      34\n## 11 Gentoo    Biscoe    female    58\n## 12 Gentoo    Biscoe    male      61\n## 13 Gentoo    Biscoe    &lt;NA&gt;       5\n\n\nAnd here’s the count() way:\n\n\nCode\npenguins |&gt; \n  count(species, island, sex)\n##      species    island    sex  n\n## 1     Adelie    Biscoe female 22\n## 2     Adelie    Biscoe   male 22\n## 3     Adelie     Dream female 27\n## 4     Adelie     Dream   male 28\n## 5     Adelie     Dream   &lt;NA&gt;  1\n## 6     Adelie Torgersen female 24\n## 7     Adelie Torgersen   male 23\n## 8     Adelie Torgersen   &lt;NA&gt;  5\n## 9  Chinstrap     Dream female 34\n## 10 Chinstrap     Dream   male 34\n## 11    Gentoo    Biscoe female 58\n## 12    Gentoo    Biscoe   male 61\n## 13    Gentoo    Biscoe   &lt;NA&gt;  5\n\n\ncount() also has a sort argument that can save some arranging work. Here’s the normal way, with arrange(desc(n)) added to the end:\n\n\nCode\npenguins |&gt; \n  group_by(species) |&gt;\n  summarize(n = n()) |&gt; \n  arrange(desc(n))\n## # A tibble: 3 × 2\n##   species       n\n##   &lt;fct&gt;     &lt;int&gt;\n## 1 Adelie      152\n## 2 Gentoo      124\n## 3 Chinstrap    68\n\n\nHere’s the same thing with count(sort = TRUE):\n\n\nCode\npenguins |&gt; \n  count(species, sort = TRUE)\n##     species   n\n## 1    Adelie 152\n## 2    Gentoo 124\n## 3 Chinstrap  68\n\n\n\nYou can use either method! I actually tend to like using group_by() |&gt; summarize() because I’ll often want other group statistics (like means or medians), and count() doesn’t let you get those. Even if I’m only counting things, I’ll still use group_by() |&gt; summarize() just because. But count() is still a useful shortcut if you’re only counting things.",
    "crumbs": [
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "example/14-example.html#tokens-and-word-counts",
    "href": "example/14-example.html#tokens-and-word-counts",
    "title": "Text",
    "section": "Tokens and word counts",
    "text": "Tokens and word counts\n\nSingle words\nOne way we can visualize text is to look at word frequencies and find the most common words. This is even more important when looking across documents.\nRight now the text we have is tidy, but it is based on lines of text, not words. In order to count words correctly, we need each token (or text element, whether it be a word or bigram or paragraph or whatever) to be in its own row. The unnest_tokens() functions from {tidytext} does this for us. The first argument is the name of the column we want to create; the second argument is the name of the column we want to split into tokens.\nLet’s just work with the Shakespeare tragedies:\n\n\nCode\ntragedies_words &lt;- tragedies_raw |&gt; \n  drop_na(text) |&gt; \n  unnest_tokens(output = word, input = text)\n\nhead(tragedies_words)\n## # A tibble: 6 × 3\n##   gutenberg_id title  word   \n##          &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;  \n## 1         1524 Hamlet the    \n## 2         1524 Hamlet tragedy\n## 3         1524 Hamlet of     \n## 4         1524 Hamlet hamlet \n## 5         1524 Hamlet prince \n## 6         1524 Hamlet of\n\n\nNow that we have words, we can filter and count the words. Here’s what’s happening in this next chunk:\n\nWe use anti_join() to remove all common stop words like “a” and “the” that are listed in the stop_words dataset that is loaded when you load {tidytext}\nWe count how many times each word appears in each title/play\nWe only keep the top 15 words\n\n\n\nCode\ntop_words_tragedies &lt;- tragedies_words |&gt; \n  # Remove stop words\n  anti_join(stop_words, by = join_by(word)) |&gt; \n  # Get rid of old timey words and stage directions\n  filter(!(word %in% c(\"thou\", \"thy\", \"haue\", \"thee\", \n                      \"thine\", \"enter\", \"exeunt\", \"exit\"))) |&gt; \n  # Count all the words in each play\n  count(title, word, sort = TRUE) |&gt; \n  # Keep top 15 in each play\n  group_by(title) |&gt; \n  slice_max(n, n = 15) |&gt; \n  ungroup() |&gt; \n  # Make the words an ordered factor so they plot in order\n  mutate(word = fct_inorder(word))\ntop_words_tragedies\n## # A tibble: 62 × 3\n##    title  word            n\n##    &lt;chr&gt;  &lt;fct&gt;       &lt;int&gt;\n##  1 Hamlet hamlet        460\n##  2 Hamlet lord          223\n##  3 Hamlet king          196\n##  4 Hamlet horatio       156\n##  5 Hamlet polonius      120\n##  6 Hamlet queen         120\n##  7 Hamlet laertes       103\n##  8 Hamlet ophelia        87\n##  9 Hamlet rosencrantz    78\n## 10 Hamlet sir            75\n## # ℹ 52 more rows\n\n\nNow we can plot these results, facetting and filling by title:\n\n\nCode\nggplot(top_words_tragedies, aes(y = fct_rev(word), x = n, fill = title)) + \n  geom_col() + \n  guides(fill = \"none\") +\n  labs(y = \"Count\", x = NULL, \n       title = \"15 most frequent words in four Shakespearean tragedies\") +\n  facet_wrap(vars(title), scales = \"free_y\") +\n  theme_bw()\n\n\n\n\n\n\n\n\n\nThese results aren’t terribly surprising. “lear” is the most common word in King Lear, “macbeth” is the most common word in Macbeth, and so on. But the results are still really neat! This is a wordcloud for grownups!\n(Sharp-eyed readers will notice that the words aren’t actually in perfect order! That’s because some common words are repeated across the plays, like “lord” and “sir”. However, each category in a factor can only have one possible position in the orer, so because “lord” is the second most common word in Hamlet it also appears as #2 in Macbeth and King Lear. You can fix this with the reorder_within() function in {tidytext}—see Julia Silge’s tutorial here for how to use it.)\n\n\nBigrams\nWe can also look at pairs of words instead of single words. To do this, we need to change a couple arguments in unnest_tokens(), but otherwise everything else stays the same. In order to remove stopwords, we need to split the bigram column into two columns (word1 and word2) with separate(), filter each of those columns, and then combine the word columns back together as bigram with unite()\n\n\nCode\ntragedies_bigrams &lt;- tragedies_raw |&gt; \n  drop_na(text) |&gt; \n  # n = 2 here means bigrams. We could also make trigrams (n = 3) or any type of n-gram\n  unnest_tokens(output = bigram, input = text, token = \"ngrams\", n = 2) |&gt; \n  # Get rid of NAs in the new bigram column\n  drop_na(bigram) |&gt; \n  # Split the bigrams into two words so we can remove stopwords\n  separate(bigram, c(\"word1\", \"word2\"), sep = \" \") |&gt; \n  filter(!word1 %in% stop_words$word,\n         !word2 %in% stop_words$word) |&gt; \n  filter(!word1 %in% c(\"thou\", \"thy\", \"thine\", \"enter\", \"exeunt\", \"exit\"),\n         !word2 %in% c(\"thou\", \"thy\", \"thine\", \"enter\", \"exeunt\", \"exit\")) |&gt; \n  # Put the two word columns back together\n  unite(bigram, word1, word2, sep = \" \")\ntragedies_bigrams\n## # A tibble: 10,418 × 3\n##    gutenberg_id title  bigram             \n##           &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;              \n##  1         1524 Hamlet hamlet prince      \n##  2         1524 Hamlet william shakespeare\n##  3         1524 Hamlet scene ii           \n##  4         1524 Hamlet ii elsinore        \n##  5         1524 Hamlet scene iii          \n##  6         1524 Hamlet polonius’s house   \n##  7         1524 Hamlet scene iv           \n##  8         1524 Hamlet act ii             \n##  9         1524 Hamlet polonius’s house   \n## 10         1524 Hamlet scene ii           \n## # ℹ 10,408 more rows\n\ntop_bigrams &lt;- tragedies_bigrams |&gt; \n  # Count all the bigrams in each play\n  count(title, bigram, sort = TRUE) |&gt; \n  # Keep top 15 in each play\n  group_by(title) |&gt; \n  slice_max(n, n = 10) |&gt; \n  ungroup() |&gt; \n  # Make the bigrams an ordered factor so they plot in order\n  mutate(bigram = fct_inorder(bigram))\n\nggplot(top_bigrams, aes(y = fct_rev(bigram), x = n, fill = title)) + \n  geom_col() + \n  guides(fill = \"none\") +\n  labs(y = \"Count\", x = NULL, \n       title = \"15 most frequent bigrams in four Shakespearean tragedies\") +\n  facet_wrap(vars(title), scales = \"free\") +\n  theme_bw()\n\n\n\n\n\n\n\n\n\nThere are some neat trends here. “Lord Hamlet” is the most common pair of words in Hamlet (not surprisingly), but in Macbeth the repeated “knock knock” (the first non-name repeated pair) is a well-known plot point and reoccurring symbolic theme throughout the play.",
    "crumbs": [
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "example/14-example.html#bigrams-and-probability",
    "href": "example/14-example.html#bigrams-and-probability",
    "title": "Text",
    "section": "Bigrams and probability",
    "text": "Bigrams and probability\nWe can replicate the “She Giggles, He Gallops” idea by counting the bigrams that match “he X” and “she X”.\nThe log ratio idea shows how much more likely a word is compared to its counterpart (so “he that” is about 5 more likely to appear than “she that”. In this graph, I replaced the x-axis labels with “2x” and “4x”, but without those, you get numbers like 1, 2, and 3 (or -1, -2, -3)). To convert those logged ratio numbers into the multiplicative version (i.e. 2x instead of 1), raise 2 to the power of the log ratio. If the log ratio is 3, the human-readable version is \\(2^3\\), or 8 times.\n\n\nCode\n# Take the log of 8:\nlog2(8)\n## [1] 3\n\n# Reverse log of 3:\n2^3\n## [1] 8\n\n\nThe only text wizardry here is tokenizing the words. Pretty much the rest of all this code is just {dplyr} mutating, filtering, and counting:\n\n\nCode\npronouns &lt;- c(\"he\", \"she\")\n\nbigram_he_she_counts &lt;- tragedies_raw |&gt;\n  drop_na(text) |&gt; \n  # Split into bigrams\n  unnest_tokens(output = bigram, input = text, token = \"ngrams\", n = 2) |&gt;\n  # Find counts of bigrams\n  count(bigram, sort = TRUE) |&gt;\n  # Split the bigram column into two columns\n  separate(bigram, c(\"word1\", \"word2\"), sep = \" \") |&gt;\n  # Only choose rows where the first word is he or she\n  filter(word1 %in% pronouns) |&gt;\n  count(word1, word2, wt = n, sort = TRUE) |&gt; \n  rename(total = n)\n\nword_ratios &lt;- bigram_he_she_counts |&gt;\n  # Look at each of the second words\n  group_by(word2) |&gt;\n  # Only choose rows where the second word appears more than 10 times\n  filter(sum(total) &gt; 10) |&gt;\n  ungroup() |&gt;\n  # Spread out the word1 column so that there's a column named \"he\" and one named \"she\"\n  spread(word1, total, fill = 0) |&gt;\n  # Add 1 to each number so that logs work (just in case any are zero)\n  mutate_if(is.numeric, \\(x) (x + 1) / sum(x + 1)) |&gt;\n  # Create a new column that is the logged ratio of the she counts to he counts\n  mutate(logratio = log2(she / he)) |&gt;\n  # Sort by that ratio\n  arrange(desc(logratio))\n\n# Rearrange this data so it's plottable\nplot_word_ratios &lt;- word_ratios |&gt;\n  # This gets the words in the right order---we take the absolute value, select\n  # only rows where the log ratio is bigger than 0, and then take the top 15 words\n  mutate(abslogratio = abs(logratio)) |&gt;\n  group_by(logratio &lt; 0) |&gt;\n  slice_max(abslogratio, n = 15) |&gt; \n  ungroup() |&gt;\n  mutate(word = reorder(word2, logratio)) \n\n# Finally we plot this\nggplot(plot_word_ratios, aes(y = word, x = logratio, color = logratio &lt; 0)) +\n  geom_segment(aes(y = word, yend = word,\n                   x = 0, xend = logratio), \n               linewidth = 1.1, alpha = 0.6) +\n  geom_point(size = 3.5) +\n  labs(x = \"How much more/less likely\", y = NULL) +\n  scale_color_discrete(name = \"\", labels = c(\"More 'she'\", \"More 'he'\")) +\n  scale_x_continuous(breaks = seq(-3, 3),\n                     labels = c(\"8x\", \"4x\", \"2x\",\n                                \"Same\", \"2x\", \"4x\", \"8x\")) +\n  theme_bw() +\n  theme(legend.position = \"bottom\")\n\n\n\n\n\n\n\n\n\nShakespeare doesn’t use a lot of fancy verbs in his plays, so we’re left with incredibly common verbs like “should” and “comes” and “was”. Oh well.",
    "crumbs": [
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "example/14-example.html#term-frequency-inverse-document-frequency-tf-idf",
    "href": "example/14-example.html#term-frequency-inverse-document-frequency-tf-idf",
    "title": "Text",
    "section": "Term frequency-inverse document frequency (tf-idf)",
    "text": "Term frequency-inverse document frequency (tf-idf)\nWe can determine which words are the most unique for each book/document in our corpus using by calculating the tf-idf (term frequency-inverse document frequency) score for each term. The tf-idf is the product of the term frequency and the inverse document frequency:\n\\[\n\\begin{aligned}\n\\operatorname{tf}(\\text{term}) &= \\frac{n_{\\text{term}}}{n_{\\text{terms in document}}} \\\\\n\\operatorname{idf}(\\text{term}) &= \\ln{\\left(\\frac{n_{\\text{documents}}}{n_{\\text{documents containing term}}}\\right)} \\\\\n\\operatorname{tf-idf}(\\text{term}) &= \\operatorname{tf}(\\text{term}) \\times \\operatorname{idf}(\\text{term})\n\\end{aligned}\n\\]\nFortunately you don’t need to remember that formula. The bind_tf_idf() function will calculate this for you. Remember, the higher the tf-idf number, the more unique the term is in the document, but these numbers are meaningless and unitless—you can’t convert them to a percentage or anything.\nHere are the most unique words in these four tragedies, compared to all the tragedies:\n\n\nCode\ntragedy_words &lt;- tragedies_raw |&gt; \n  drop_na() |&gt; \n  # Split into word tokens\n  unnest_tokens(output = word, input = text) |&gt; \n  # Remove stop words and old timey words\n  anti_join(stop_words, by = join_by(word)) |&gt; \n  filter(!word %in% c(\"thou\", \"thy\", \"haue\", \"thee\", \n                      \"thine\", \"enter\", \"exeunt\", \"exit\")) |&gt; \n  count(title, word, sort = TRUE)\n\n# Add the tf-idf values to the counts\ntragedy_tf_idf &lt;- tragedy_words |&gt; \n  bind_tf_idf(word, title, n)\n\n# Get the top 10 uniquest words\ntragedy_tf_idf_plot &lt;- tragedy_tf_idf |&gt; \n  arrange(desc(tf_idf)) |&gt; \n  group_by(title) |&gt; \n  slice_max(tf_idf, n = 10) |&gt; \n  ungroup() |&gt; \n  mutate(word = fct_inorder(word))\n\nggplot(tragedy_tf_idf_plot, \n       aes(y = fct_rev(word), x = tf_idf, fill = title)) +\n  geom_col() +\n  guides(fill = \"none\") +\n  labs(x = \"tf-idf\", y = NULL) +\n  facet_wrap(vars(title), scales = \"free\") +\n  theme_bw()\n\n\n\n\n\n\n\n\n\nNot surprisingly, the most unique words for each play happen to be the names of the characters in those plays.",
    "crumbs": [
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "example/14-example.html#sentiment-analysis",
    "href": "example/14-example.html#sentiment-analysis",
    "title": "Text",
    "section": "Sentiment analysis",
    "text": "Sentiment analysis\nIn the video, I plotted the sentiment of Little Women across the book, but it wasn’t a very interesting plot. We’ll try with Shakespeare here instead.\nAt its core, sentiment analysis involves looking at a big list of words for how negative or positive they are. Some sentiment dictionaries mark if a word is “negative” or “positive”; some give words a score from -3 to 3; some give different emotions like “sadness” or “anger”. You can see what the different dictionaries look like with get_sentiments()\n\n\nCode\nget_sentiments(\"afinn\")  # Scoring system\n## # A tibble: 2,477 × 2\n##    word       value\n##    &lt;chr&gt;      &lt;dbl&gt;\n##  1 abandon       -2\n##  2 abandoned     -2\n##  3 abandons      -2\n##  4 abducted      -2\n##  5 abduction     -2\n##  6 abductions    -2\n##  7 abhor         -3\n##  8 abhorred      -3\n##  9 abhorrent     -3\n## 10 abhors        -3\n## # ℹ 2,467 more rows\n# get_sentiments(\"bing\")  # Negative/positive\n# get_sentiments(\"nrc\")  # Specific emotions\n# get_sentiments(\"loughran\")  # Designed for financial statements; positive/negative\n\n\nHere we split the Shakespearean tragedies into words, join a sentiment dictionary to it, and use {dplyr} data wrangling to calculate the net number positive words in each chapter. Had we used the AFINN library, we could calculate the average sentiment per chapter, since AFINN uses a scoring system instead of negative/positive labels. Or we could’ve used the NRC library, which has specific emotions like trust and fear.\n\n\nCode\ntragedy_words &lt;- tragedies_raw |&gt; \n  drop_na() |&gt; \n  # Split into word tokens\n  unnest_tokens(output = word, input = text) |&gt; \n  # Remove stop words and old timey words\n  anti_join(stop_words, by = join_by(word)) |&gt; \n  filter(!word %in% c(\"thou\", \"thy\", \"haue\", \"thee\", \n                      \"thine\", \"enter\", \"exeunt\", \"exit\"))\n\n# Join the sentiment dictionary \ntragedy_sentiment &lt;- tragedy_words |&gt; \n  inner_join(get_sentiments(\"bing\"), by = join_by(word), relationship = \"many-to-many\")\ntragedy_sentiment\n## # A tibble: 7,639 × 4\n##    gutenberg_id title  word    sentiment\n##           &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;    \n##  1         1524 Hamlet tragedy negative \n##  2         1524 Hamlet struck  negative \n##  3         1524 Hamlet relief  positive \n##  4         1524 Hamlet bitter  negative \n##  5         1524 Hamlet cold    negative \n##  6         1524 Hamlet sick    negative \n##  7         1524 Hamlet quiet   positive \n##  8         1524 Hamlet haste   negative \n##  9         1524 Hamlet honest  positive \n## 10         1524 Hamlet approve positive \n## # ℹ 7,629 more rows\n\n\nWe can look at these sentiments a few different ways. First we can get a count of total positive and negative words in the four books. We can see that in all four, there are more negative words than positive ones (they’re tragdies, after all):\n\n\nCode\ntragedy_sentiment_plot &lt;- tragedy_sentiment |&gt; \n  count(title, sentiment)\n\nggplot(tragedy_sentiment_plot, aes(x = sentiment, y = n, fill = title, alpha = sentiment)) +\n  geom_col(position = position_dodge()) +\n  scale_alpha_manual(values = c(0.5, 1)) +\n  facet_wrap(vars(title)) +\n  theme_bw()\n\n\n\n\n\n\n\n\n\nPerhaps more usefully, we can divide each of the plays into groups of 100 lines, and then get the net sentiment of each group (number of positive words − number of negative words). By splitting the data into groups of lines, we can show a more granular view of the progression of the plot. To do this we make a column that indicates the row number, and then we use the special %/% operator to perform integer division, which essentially lops off the decimal point when dividing numbers: 150/100 normally is 1.5, but in integer divison, it is 1. This is a helpful trick for putting rows 1-99 in one group, then rows 100-199 in another group, etc.\n\n\nCode\ntragedies_split_into_lines &lt;- tragedy_sentiment |&gt; \n  # Divide lines into groups of 100\n  mutate(line = row_number(),\n         line_chunk = line %/% 100) |&gt; \n  # Get a count of postiive and negative words in each 100-line chunk in each play\n  count(title, line_chunk, sentiment) |&gt; \n  # Convert the sentiment column into two columns named \"positive\" and \"negative\"\n  pivot_wider(names_from = sentiment, values_from = n) |&gt; \n  # Calculate net sentiment\n  mutate(sentiment = positive - negative)\n\nggplot(tragedies_split_into_lines,\n       aes(x = line_chunk, y = sentiment, fill = sentiment)) +\n  geom_col() +\n  scale_fill_viridis_c(option = \"magma\", end = 0.9) +\n  facet_wrap(vars(title), scales = \"free_x\") +\n  theme_bw()\n## Warning: Removed 1 row containing missing values or values outside the scale range (`geom_col()`).\n\n\n\n\n\n\n\n\n\nNeat. They’re all really sad and negative, except for the beginning of Romeo and Juliet where the two lovers meet and fall in love. Then everyone dies later.",
    "crumbs": [
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "example/14-example.html#neat-extra-stuff",
    "href": "example/14-example.html#neat-extra-stuff",
    "title": "Text",
    "section": "Neat extra stuff",
    "text": "Neat extra stuff\nNone of this stuff was in the video, but it’s useful to know and see how to do it. It all generally comes from the Tidy Text Mining book by Julia Silge and David Robinson\n\nPart of speech tagging\nR has no way of knowing if words are nouns, verbs, or adjectives. You can algorithmically predict what part of speech each word is using a part-of-speech tagger, like spaCy or Stanford’s Natural Langauge Processing (NLP) library.\nThese are external programs that are not written in R and don’t naturally communicate with R (spaCy is written in Python; Stanford’s CoreNLP is written in Java). There is a helpful R package named {cleanNLP} that helps you interact with these programs from within R, whis is super helpful. {cleanNLP} also comes with its own R-only tagger so you don’t need to install anything with Python or Java (however, it’s not as powerful as either spaCy, which is faster, and doesn’t deal with foreign languages like Arabic and Chinese like Stanford’s NLP library).\nYou can see other examples of part-of-speech tagging (along with instructions for how to install spaCy and coreNLP) here:\n\n “Tidy text, parts of speech, and unique words in the Bible”\n “Tidy text, parts of speech, and unique words in the Qur’an”\n\nHere’s the general process for tagging (or “annotating”) text with the {cleanNLP} package:\n\nMake a dataset where one column is the id (line number, chapter number, book+chapter, etc.), and another column is the text itself.\nInitialize the NLP tagger. You can use any of these:\n\ncnlp_init_udpipe(): Use an R-only tagger that should work without installing anything extra (a little slower than the others, but requires no extra steps!)\ncnlp_init_spacy(): Use spaCy (if you’ve installed it on your computer with Python)\ncnlp_init_corenlp(): Use Stanford’s NLP library (if you’ve installed it on your computer with Java)\n\nFeed the data frame from step 1 into the cnlp_annotate() function and wait.\nSave the tagged data on your computer so you don’t have to re-tag it every time.\n\nHere’s an example using the Little Women data:\n\n\nCode\n# For the tagger to work, each row needs to be unique, which means we need to\n# combine all the text into individual chapter-based rows. This takes a little\n# bit of text-wrangling with dplyr:\nlittle_women_to_tag &lt;- little_women |&gt; \n  # Group by chapter number\n  group_by(chapter_number) |&gt; \n  # Take all the rows in each chapter and collapse them into a single cell\n  nest(data = c(text)) |&gt; \n  ungroup() |&gt; \n  # Look at each individual cell full of text lines and paste them together into\n  # one really long string of text per chapter\n  mutate(text = map_chr(data, \\(x) paste(x$text, collapse = \" \"))) |&gt; \n  # Get rid of this column\n  select(-data)\nlittle_women_to_tag\n## # A tibble: 47 × 2\n##    chapter_number text                                                                                                                                \n##             &lt;int&gt; &lt;chr&gt;                                                                                                                               \n##  1              1 \"CHAPTER ONE PLAYING PILGRIMS   “Christmas won’t be Christmas without any presents,” grumbled Jo, lying on the rug.  “It’s so dread…\n##  2              2 \"CHAPTER TWO A MERRY CHRISTMAS   Jo was the first to wake in the gray dawn of Christmas morning. No stockings hung at the fireplace…\n##  3              3 \"CHAPTER THREE THE LAURENCE BOY   “Jo! Jo! Where are you?” cried Meg at the foot of the garret stairs.  “Here!” answered a husky vo…\n##  4              4 \"CHAPTER FOUR BURDENS   “Oh, dear, how hard it does seem to take up our packs and go on,” sighed Meg the morning after the party, f…\n##  5              5 \"CHAPTER FIVE BEING NEIGHBORLY   “What in the world are you going to do now, Jo?” asked Meg one snowy afternoon, as her sister came…\n##  6              6 \"CHAPTER SIX BETH FINDS THE PALACE BEAUTIFUL   The big house did prove a Palace Beautiful, though it took some time for all to get …\n##  7              7 \"CHAPTER SEVEN AMY’S VALLEY OF HUMILIATION   “That boy is a perfect cyclops, isn’t he?” said Amy one day, as Laurie clattered by on…\n##  8              8 \"CHAPTER EIGHT JO MEETS APOLLYON   “Girls, where are you going?” asked Amy, coming into their room one Saturday afternoon, and find…\n##  9              9 \"CHAPTER NINE MEG GOES TO VANITY FAIR   “I do think it was the most fortunate thing in the world that those children should have th…\n## 10             10 \"CHAPTER TEN THE P.C. AND P.O.   As spring came on, a new set of amusements became the fashion, and the lengthening days gave long …\n## # ℹ 37 more rows\n\n\nNotice how there’s now a row for each chapter, and the whole chapter is contained in the text column. With the data in this format, we can annotate it. It takes 75 seconds to run this on my 2021 MacBook Pro with the R-only udpipe tagger (and only 30 seconds if I use the spaCy tagger). Notice how I immediately save the tagged tokens as a CSV file after so I don’t have to do it again.\n\n\nCode\nlibrary(cleanNLP)\n\n# Use the built-in R-based tagger\ncnlp_init_udpipe()\n\nlittle_women_tagged_raw &lt;- cnlp_annotate(little_women_to_tag, \n  text_name = \"text\", \n  doc_name = \"chapter_number\")\n\n# Save the tagged token dataframe so we don't have to run this again\nwrite_csv(little_women_tagged_raw$token, \"data/little_women_tagged.csv\")\n\n# Load the tagged tokens\nlittle_women_tagged &lt;- read_csv(\"data/little_women_tagged.csv\")\n\n\nHere’s what the tagged text looks like:\n\n\nCode\nlittle_women_tagged\n## # A tibble: 231,564 × 10\n##    doc_id   sid   tid token       token_with_ws lemma       upos  xpos  tid_source relation\n##     &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;   \n##  1      1     1     1 \"CHAPTER\"   \"CHAPTER \"    \"CHAPTER\"   PROPN NNP            4 nmod    \n##  2      1     1     2 \"ONE\"       \"ONE \"        \"one\"       NUM   CD             1 nummod  \n##  3      1     1     3 \"PLAYING\"   \"PLAYING \"    \"playing\"   NOUN  NN             4 compound\n##  4      1     1     4 \"PILGRIMS\"  \"PILGRIMS \"   \"PILGRIMS\"  PROPN NNP           10 npadvmod\n##  5      1     1     5 \"  \"        \"  \"          \"  \"        SPACE _SP            4 dep     \n##  6      1     1     6 \"“\"         \"“\"           \"\\\"\"        PUNCT ``            10 punct   \n##  7      1     1     7 \"Christmas\" \"Christmas \"  \"Christmas\" PROPN NNP           10 nsubj   \n##  8      1     1     8 \"wo\"        \"wo\"          \"will\"      AUX   MD            10 aux     \n##  9      1     1     9 \"n’t\"       \"n’t \"        \"not\"       PART  RB            10 neg     \n## 10      1     1    10 \"be\"        \"be \"         \"be\"        AUX   VB            17 ccomp   \n## # ℹ 231,554 more rows\n\n\nThere are a bunch of new columns like lemma (or the base stemmed word), and upos and pos for the different parts of speech. These use the Penn Treebank codes.\nNow that everything is tagged, we can do any grouping and summarizing and filtering we want. We could find the most common verbs, or the most common nouns or proper names, for instance. Here’s a fun plot that shows the proportion of mentions of the four main characters (Meg, Jo, Beth, and Amy) in each chapter.\n\n\nCode\n# Find all proper nouns\nproper_nouns &lt;- little_women_tagged |&gt; \n  filter(upos == \"PROPN\")\n\nmain_characters_by_chapter &lt;- proper_nouns |&gt; \n  # Find only Meg, Jo, Beth, and Amy\n  filter(lemma %in% c(\"Meg\", \"Jo\", \"Beth\", \"Amy\")) |&gt; \n  # Group by chapter and character name\n  group_by(doc_id, lemma) |&gt; \n  # Get the count of mentions\n  summarize(n = n()) |&gt; \n  # Make a new column named \"name\" that is an ordered factor of the girls' names\n  mutate(name = factor(lemma, levels = c(\"Meg\", \"Jo\", \"Beth\", \"Amy\"), ordered = TRUE)) |&gt; \n  # Rename this so it's called chapter\n  rename(chapter = doc_id) |&gt; \n  # Group by chapter\n  group_by(chapter) |&gt; \n  # Calculate the proportion of each girl's mentions in each chapter\n  mutate(prop = n / sum(n)) |&gt; \n  ungroup() |&gt; \n  # Make a cleaner chapter name column\n  mutate(chapter_name = paste(\"Chapter\", chapter)) |&gt; \n  mutate(chapter_name = fct_inorder(chapter_name))\nmain_characters_by_chapter\n## # A tibble: 177 × 6\n##    chapter lemma     n name   prop chapter_name\n##      &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;ord&gt; &lt;dbl&gt; &lt;fct&gt;       \n##  1       1 Amy      23 Amy   0.195 Chapter 1   \n##  2       1 Beth     26 Beth  0.220 Chapter 1   \n##  3       1 Jo       43 Jo    0.364 Chapter 1   \n##  4       1 Meg      26 Meg   0.220 Chapter 1   \n##  5       2 Amy      13 Amy   0.197 Chapter 2   \n##  6       2 Beth     12 Beth  0.182 Chapter 2   \n##  7       2 Jo       21 Jo    0.318 Chapter 2   \n##  8       2 Meg      20 Meg   0.303 Chapter 2   \n##  9       3 Amy       2 Amy   0.02  Chapter 3   \n## 10       3 Beth      2 Beth  0.02  Chapter 3   \n## # ℹ 167 more rows\n\n\nAnd here’s the polished plot:\n\n\nCode\nggplot(main_characters_by_chapter, aes(x = prop, y = \"1\", fill = fct_rev(name))) + \n  geom_col(position = position_stack()) +\n  scale_x_continuous(expand = c(0, 0)) +\n  scale_y_discrete(expand = c(0, 0)) +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.9, name = NULL) +\n  guides(fill = guide_legend(reverse = TRUE)) +\n  labs(x = NULL, y = NULL,\n       title = \"Proportion of mentions of each\\nLittle Woman per chapter\",\n       subtitle = \"Jo basically dominates the last third of the book\") +\n  facet_wrap(vars(chapter_name), nrow = 6) +\n  theme_bw(base_family = \"Roboto Condensed\") +\n  theme(legend.position = \"top\",\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        strip.background = element_rect(fill = \"white\"),\n        legend.text = element_text(face = \"bold\", size = rel(1)),\n        plot.title = element_text(face = \"bold\", hjust = 0.5, size = rel(1.7)),\n        plot.subtitle = element_text(hjust = 0.5, size = rel(1.1)))\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : Unable to calculate text width/height (using zero)\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n## Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, : no font could be found for family \"Roboto Condensed\"\n\n\n\n\n\n\n\n\n\n\n\nTopic modeling and fingerprinting\nIf you want to see some examples of topic modeling with Latent Dirichlet Allocation (LDA) or text fingerprinting based on sentence length and counts of hapax legomena (based on this article), see these examples from a previous version of this class: topic modeling and fingerprinting.\n\n\nText features\nFinally, you can use the {textfeatures} package to find all sorts of interesting numeric statistics about text, like the number of exclamation points, commas, digits, characters per word, uppercase letters, lowercase letters, and more!",
    "crumbs": [
      "Special applications",
      "14: Text"
    ]
  },
  {
    "objectID": "example/index.html",
    "href": "example/index.html",
    "title": "Code examples",
    "section": "",
    "text": "This section contains fully annotated R code that you can use as a reference for creating your own visualizations. In the lessons section, you sequentially build up your understanding of R and {ggplot2}; here you can see how all the pieces work together.\nVisit this section after you have finished the readings, lecture videos, and lesson. The examples here will be indispensable for you as you work on your assignments and mini projects.\nEach section also contains videos of me live coding the examples so you can see what it looks like to work with R in real time. You’ll notice me make all sorts of little errors, which is totally normal—everyone does!",
    "crumbs": [
      "Overview",
      "Code examples"
    ]
  },
  {
    "objectID": "lesson/01-lesson.html",
    "href": "lesson/01-lesson.html",
    "title": "Introduction to R and the tidyverse",
    "section": "",
    "text": "For the first part of this week’s lesson, you need to work through a few of Posit’s introductory primers. You’ll do these in your browser and type code and see results there.\nYou’ll learn some of the basics of R, as well as some powerful methods for manipulating data with the {dplyr} package.\nComplete these primers. It seems like there are a lot, but they’re short and go fairly quickly (especially as you get the hang of the syntax). Also, I have no way of seeing what you do or what you get wrong or right, and that’s totally fine! If you get stuck and want to skip some (or if it gets too easy), go right ahead and skip them!\n\nThe Basics\n\nVisualization basics\nProgramming basics\n\nWork with Data\n\nWorking with tibbles\nIsolating data with {dplyr}\nDeriving information with {dplyr}\n\n\nThe content from these primers comes from the (free and online!) book R for Data Science by Garrett Grolemund and Hadley Wickham. I highly recommend the book as a reference and for continuing to learn and use R in the future (like running regression models and other types of statistical analysis)",
    "crumbs": [
      "Lessons",
      "Foundations",
      "1: Truth, beauty, and data + the tidyverse"
    ]
  },
  {
    "objectID": "lesson/01-lesson.html#part-1-the-basics-of-r-and-dplyr",
    "href": "lesson/01-lesson.html#part-1-the-basics-of-r-and-dplyr",
    "title": "Introduction to R and the tidyverse",
    "section": "",
    "text": "For the first part of this week’s lesson, you need to work through a few of Posit’s introductory primers. You’ll do these in your browser and type code and see results there.\nYou’ll learn some of the basics of R, as well as some powerful methods for manipulating data with the {dplyr} package.\nComplete these primers. It seems like there are a lot, but they’re short and go fairly quickly (especially as you get the hang of the syntax). Also, I have no way of seeing what you do or what you get wrong or right, and that’s totally fine! If you get stuck and want to skip some (or if it gets too easy), go right ahead and skip them!\n\nThe Basics\n\nVisualization basics\nProgramming basics\n\nWork with Data\n\nWorking with tibbles\nIsolating data with {dplyr}\nDeriving information with {dplyr}\n\n\nThe content from these primers comes from the (free and online!) book R for Data Science by Garrett Grolemund and Hadley Wickham. I highly recommend the book as a reference and for continuing to learn and use R in the future (like running regression models and other types of statistical analysis)",
    "crumbs": [
      "Lessons",
      "Foundations",
      "1: Truth, beauty, and data + the tidyverse"
    ]
  },
  {
    "objectID": "lesson/01-lesson.html#part-2-getting-familiar-with-rstudio",
    "href": "lesson/01-lesson.html#part-2-getting-familiar-with-rstudio",
    "title": "Introduction to R and the tidyverse",
    "section": "Part 2: Getting familiar with RStudio",
    "text": "Part 2: Getting familiar with RStudio\nThe RStudio primers you just worked through are a great introduction to writing and running R code, but you typically won’t type code in a browser when you work with R. Instead, you’ll use a nicer programming environment like RStudio, which lets you type and save code in scripts, run code from those scripts, and see the output of that code, all in the same program.\nTo get familiar with RStudio, watch this video:",
    "crumbs": [
      "Lessons",
      "Foundations",
      "1: Truth, beauty, and data + the tidyverse"
    ]
  },
  {
    "objectID": "lesson/01-lesson.html#part-3-rstudio-projects",
    "href": "lesson/01-lesson.html#part-3-rstudio-projects",
    "title": "Introduction to R and the tidyverse",
    "section": "Part 3: RStudio Projects",
    "text": "Part 3: RStudio Projects\nOne of the most powerful and useful aspects of RStudio is its ability to manage projects.\nWhen you first open R, it is “pointed” at some folder on your computer, and anything you do will be relative to that folder. The technical term for this is a “working directory.”\nWhen you first open RStudio, look in the area right at the top of the Console pane to see your current working directory. Most likely you’ll see something cryptic: ~/\n\n\n\n\n\n\n\n\n\nThat tilde sign (~) is a shortcut that stands for your user directory. On Windows this is C:\\Users\\your_user_name\\; on macOS this is /Users/your_user_name/. With the working directory set to ~/, R is “pointed” at that folder, and anything you save will end up in that folder, and R will expect any data that you load to be there too.\nIt’s always best to point R at some other directory. If you don’t use RStudio, you need to manually set the working directory to where you want it with setwd(), and many R scripts in the wild include something like setwd(\"C:\\\\Users\\\\bill\\\\Desktop\\\\Important research project\") at the beginning to change the directory. THIS IS BAD THOUGH (see here for an explanation). If you ever move that directory somewhere else, or run the script on a different computer, or share the project with someone, the path will be wrong and nothing will run and you will be sad.\nThe best way to deal with working directories with RStudio is to use RStudio Projects. These are special files that RStudio creates for you that end in a .Rproj extension. When you open one of these special files, a new RStudio instance will open up and be pointed at the correct directory automatically. If you move the folder later or open it on a different computer, it will work just fine and you will not be sad.\nRead this super short chapter on RStudio projects.\nIn general, you can create a new project by going to File &gt; New Project &gt; New Directory &gt; Empty Project, which will create a new folder on your computer that is empty except for a single .Rproj file. Double click on that file to open an RStudio instance that is pointed at the correct folder.",
    "crumbs": [
      "Lessons",
      "Foundations",
      "1: Truth, beauty, and data + the tidyverse"
    ]
  },
  {
    "objectID": "lesson/01-lesson.html#part-4-getting-familiar-with-quarto",
    "href": "lesson/01-lesson.html#part-4-getting-familiar-with-quarto",
    "title": "Introduction to R and the tidyverse",
    "section": "Part 4: Getting familiar with Quarto",
    "text": "Part 4: Getting familiar with Quarto\nTo ensure that the analysis and graphics you make are reproducible, you’ll do the majority of your work in this class using Quarto files.\nDo the following things:\n\nSkim through the content at these pages. Again, lots of these resources mention R Markdown, which is Quarto’s predecessor, but the same principles apply to Quarto\n\nUsing Markdown\nUsing Quarto\nHow it Works\nCode Chunks\nInline Code\nPublish and Share with Quarto cheatsheet\nPublish and Share with Quarto\n\nWatch this video:",
    "crumbs": [
      "Lessons",
      "Foundations",
      "1: Truth, beauty, and data + the tidyverse"
    ]
  },
  {
    "objectID": "lesson/03-lesson.html",
    "href": "lesson/03-lesson.html",
    "title": "Mapping data to graphics",
    "section": "",
    "text": "For the first part of this week’s lesson, you need to work through Posit’s introductory primers for {ggplot2}. You’ll do these in your browser and type code and see results there.\nIt seems like there are a lot, but they’re short and go fairly quickly (especially as you get the hang of the ggplot() syntax). Complete these:\n\nVisualize Data\n\nExploratory data analysis\nBar Charts\nHistograms\nBoxplots and counts\nScatterplots\nLine plots\nOverplotting and big Data\nCustomize your plots",
    "crumbs": [
      "Lessons",
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "lesson/03-lesson.html#part-1-data-visualization-with-ggplot2",
    "href": "lesson/03-lesson.html#part-1-data-visualization-with-ggplot2",
    "title": "Mapping data to graphics",
    "section": "",
    "text": "For the first part of this week’s lesson, you need to work through Posit’s introductory primers for {ggplot2}. You’ll do these in your browser and type code and see results there.\nIt seems like there are a lot, but they’re short and go fairly quickly (especially as you get the hang of the ggplot() syntax). Complete these:\n\nVisualize Data\n\nExploratory data analysis\nBar Charts\nHistograms\nBoxplots and counts\nScatterplots\nLine plots\nOverplotting and big Data\nCustomize your plots",
    "crumbs": [
      "Lessons",
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "lesson/03-lesson.html#part-2-reshaping-data-with-tidyr",
    "href": "lesson/03-lesson.html#part-2-reshaping-data-with-tidyr",
    "title": "Mapping data to graphics",
    "section": "Part 2: Reshaping data with {tidyr}",
    "text": "Part 2: Reshaping data with {tidyr}\nFor the last part of this week’s lesson, you’ll work through just one primer to learn how to use the {tidyr} package to reshape data from wide to long and back to wide.\nComplete this:\n\nTidy Your Data\n\nReshape Data",
    "crumbs": [
      "Lessons",
      "Foundations",
      "3: Mapping data to graphics"
    ]
  },
  {
    "objectID": "lesson/05-lesson.html",
    "href": "lesson/05-lesson.html",
    "title": "Themes",
    "section": "",
    "text": "There are many built-in complete themes that have a good combination of all the different theme() options already set for you. By default, ggplot uses theme_gray() (also spelled theme_grey() for UK English; because the first developer of ggplot (Hadley Wickham) is from New Zealand, British spelling works throughout (e.g. you can use colour instead of color))\n\n\n\n\n\n\nImportantYour turn\n\n\n\nAdd theme_minimal() to this plot:\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg,\n       mapping = aes(x = displ, y = hwy, color = drv)) +\n  geom_point(size = 3) +\n  labs(title = \"Engine displacement and highway MPG\",\n       subtitle = \"Heavier cars get worse mileage\") +\n  theme_minimal()\n\n\n\n\n\nHopefully that was easy!\nIf you look at the documentation for the different theme functions, you’ll notice that there are a few optional arguments, like base_size and base_family. The base_size argument changes the base font size for the text in the plot, and it is 11 by default. Changing it to something like 20 will not make all the text in the plot be sized at 20—functions like theme_minimal() set the size of plot elements based on the base_size. For instance, in theme_minimal(), the plot title is set to be 120% of base_size, while the caption is 80%. Changing base_size will resize all the different elements accordingly.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nModify this plot to use theme_minimal() with a base size of 16:\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n... +\n  theme_minimal(base_size = 16)\n\n\n\n\n\nHopefully that was also fairly straightforward!",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "lesson/05-lesson.html#complete-ggplot-themes",
    "href": "lesson/05-lesson.html#complete-ggplot-themes",
    "title": "Themes",
    "section": "",
    "text": "There are many built-in complete themes that have a good combination of all the different theme() options already set for you. By default, ggplot uses theme_gray() (also spelled theme_grey() for UK English; because the first developer of ggplot (Hadley Wickham) is from New Zealand, British spelling works throughout (e.g. you can use colour instead of color))\n\n\n\n\n\n\nImportantYour turn\n\n\n\nAdd theme_minimal() to this plot:\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot(data = mpg,\n       mapping = aes(x = displ, y = hwy, color = drv)) +\n  geom_point(size = 3) +\n  labs(title = \"Engine displacement and highway MPG\",\n       subtitle = \"Heavier cars get worse mileage\") +\n  theme_minimal()\n\n\n\n\n\nHopefully that was easy!\nIf you look at the documentation for the different theme functions, you’ll notice that there are a few optional arguments, like base_size and base_family. The base_size argument changes the base font size for the text in the plot, and it is 11 by default. Changing it to something like 20 will not make all the text in the plot be sized at 20—functions like theme_minimal() set the size of plot elements based on the base_size. For instance, in theme_minimal(), the plot title is set to be 120% of base_size, while the caption is 80%. Changing base_size will resize all the different elements accordingly.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nModify this plot to use theme_minimal() with a base size of 16:\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n... +\n  theme_minimal(base_size = 16)\n\n\n\n\n\nHopefully that was also fairly straightforward!",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "lesson/05-lesson.html#modifying-plot-elements-with-theme",
    "href": "lesson/05-lesson.html#modifying-plot-elements-with-theme",
    "title": "Themes",
    "section": "Modifying plot elements with theme()",
    "text": "Modifying plot elements with theme()\nUsing a complete theme like theme_minimal() or theme_bw() is a great starting point for getting a nice, clean, well designed plot. You’ll often need to make adjustments to smaller, more specific parts of the plot though. To do this, you can use the theme() function.\ntheme() is a massive function and has perhaps the most possible arguments of any function in R. It is impossible to remember everything it can possibly do. Fortunately its documentation is incredible. Run ?theme in your R console to see the help page, or go to this page online.\n\nDeal with general plot elements\nA few arguments to theme() don’t use any special function—you can just specify settings with text like \"bottom\" or \"right\"\n\n\n\n\n\n\nImportantYour turn\n\n\n\nLook at the documentation for theme() online. Make this plot’s legend appear on the bottom instead of the left.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n... +\n  theme_minimal() +\n  theme(legend.position = \"bottom\")\n\n\n\n\n\n\n\nDisable elements completely with element_blank()\nAny plot element can be disabled by using element_blank(). For instance, if you want to remove the axis ticks, you can use theme(axis.ticks = element_blank()).\n\n\n\n\n\n\nImportantYour turn\n\n\n\nLook at the documentation for theme() online. Disable the panel grid in this plot.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n... +\n  theme(panel.grid = element_blank())\n\n\n\n\n\nYou can also target more specific plot elements. You can specify something like axis.text, which applies to all axis text, or you can use axis.text.y to only target the text on the y-axis.\n\n\n\n\n\n\nImportantYour turn\n\n\n\nLook at the documentation for theme() online. Make the following changes to this plot:\n\nDisable the major panel grid for the x-axis\nDisable the minor panel grid for the x-axis\nDisable the minor panel grid for the y-axis.\n\nYou should only have three horizontal lines for the grid.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n... + \n  theme(panel.grid.major.x = element_blank(),\n        panel.grid.minor.x = element_blank(),\n        panel.grid.minor.y = element_blank())\n\n\n\n\n\n\nAlmost every other plot element fits into one of three categories: a rectangle, a line, or text. Changing the settings on these elements requires specific functions that correspond to these categories.\n\n\nDeal with borders and backgrounds with element_rect()\nThings like the plot background or the panel background or the legend background are rectangles and can be manipulated with element_rect(). If you want the legend box to be yellow with a thin black border, you would use theme(legend.box.background = element_rect(fill = \"yellow\", color = \"black\", linewidth = 1).\n\n\n\n\n\n\nImportantYour turn\n\n\n\nLook at the documentation for theme() and the documentation for element() online. Make the following changes to this plot:\n\nFill the plot background with #F2D8CE\nFill the panel background with #608BA6, and make the border #184759 with linewidth = 5\n\nThis will be a fairly ugly plot.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n... +\n  theme(plot.background = element_rect(fill = \"#F2D8CE\"),\n        panel.background = element_rect(fill = \"#608BA6\", color = \"#184759\", size = 5))\n\n\n\n\n\n\n\nDeal with lines with element_line()\nThings like the panel grid, tick marks, and axis lines are all lines and can be manipulated with element_line(). If you want the x-axis line to be a dotted orange like, you would use theme(axis.line.x = element_line(color = \"orange\", linetype = \"dotted\").\n\n\n\n\n\n\nImportantYour turn\n\n\n\nLook at the documentation for theme() and the documentation for element() online. Make the following changes to this plot:\n\nMake the major panel gridlines blue and dashed with linewidth = 1\n\nThis will also be a fairly ugly plot.\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n... +\n  theme(panel.grid.major = element_line(size = 1, color = \"blue\", linetype = \"dashed\"))\n\n\n\n\n\n\n\nDeal with text with element_text()\nFinally, anything with text can be manipulated with element_text(), and you can specify all sorts of things, including font family (family), font weight (face), color (color), horizontal justification (hjust), angle (angle), and a bunch of other options. If you want the x-axis text to be italicized and rotated at a 45º angle, you would use theme(axis.text.x = element_text(face = \"italic\", angle = 45)).\n\n\n\n\n\n\nImportantYour turn\n\n\n\nLook at the documentation for theme() and the documentation for element() online. Make the following changes to this plot:\n\nMake the y-axis text italic\nMake the plot title right aligned, bold, and colored with #8C7811\nMake the plot subtitle right aligned\n\n\n Interactive editor Solution\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n... +\n  theme(axis.text.y = element_text(face = \"italic\"),\n        plot.title = element_text(hjust = 1, face = \"bold\", color = \"#8C7811\"),\n        plot.subtitle = element_text(hjust = 0.5, size = 12))",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "lesson/05-lesson.html#important-note-about-ordering",
    "href": "lesson/05-lesson.html#important-note-about-ordering",
    "title": "Themes",
    "section": "Important note about ordering",
    "text": "Important note about ordering\nThings like theme_grey() or theme_minimal() are really just collections of changes to theme(), so the order is important when using a complete theme. If you do something like this to turn off the gridlines in the plot panel:\n\nggplot(...) +\n  geom_point(...) +\n  theme(panel.grid = element_blank()) +\n  theme_bw()\n\n…you’ll still have panel gridlines! That’s because theme_bw() turns them on, and you typed it after you turned it off. If you want to use both theme_bw() and remove the gridlines, you need to make sure any theme adjustments come after theme_bw():\n\nggplot(...) +\n  geom_point(...) +\n  theme_bw() +\n  theme(panel.grid = element_blank())",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "lesson/05-lesson.html#fonts",
    "href": "lesson/05-lesson.html#fonts",
    "title": "Themes",
    "section": "Fonts",
    "text": "Fonts\nYou can use theme() to change the fonts as well, though sometimes it’s a little tricky to get R to see the fonts on your computer—especially if you use Windows. This detailed blog post explains how to work with custom fonts in ggplot and shows how to get it set up on Windows. It should Just Work™ on macOS.\nIn short, as long as you load the fonts correctly, you can specify different fonts either in a complete theme like theme_minimal(base_family = \"Comic Sans MS\") or in theme() like theme(plot.title = element_text(family = \"Papyrus\")).",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "lesson/05-lesson.html#reusing-themes",
    "href": "lesson/05-lesson.html#reusing-themes",
    "title": "Themes",
    "section": "Reusing themes",
    "text": "Reusing themes\nIf you want to repeat specific theme settings throughout a document, you can save yourself a ton of typing by storing the results of theme() to an object and reusing it. For instance, suppose you want your plots to be based on theme_minimal, have right aligned title and subtitle text, have the legend at the bottom, and have no minor gridlines. You can save all of that into an object named my_neato_theme or something, and then reuse it:\n\nmy_neato_theme &lt;- theme_minimal() +\n  theme(plot.title = element_text(hjust = 1),\n        plot.subtitle = element_text(hjust = 1),\n        legend.position = \"bottom\",\n        panel.grid.minor = element_blank())\n\n# Make one plot\nggplot(data = mpg,\n       mapping = aes(x = displ, y = hwy, color = drv)) +\n  geom_point(size = 3) +\n  labs(title = \"Engine displacement and highway MPG\",\n       subtitle = \"Heavier cars get worse mileage\") +\n  my_neato_theme\n\n\n\n\n\n\n\n\n# Make another plot\nggplot(data = mpg,\n       mapping = aes(x = displ, y = hwy, color = cty)) +\n  geom_point(size = 3) +\n  labs(title = \"Engine displacement and highway MPG\",\n       subtitle = \"Points colored by city MPG\") +\n  my_neato_theme",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "lesson/05-lesson.html#saving-plots",
    "href": "lesson/05-lesson.html#saving-plots",
    "title": "Themes",
    "section": "Saving plots",
    "text": "Saving plots\nSo far, all your plots have ended up either in RStudio or in a knitted HTML, Word, or PDF document. But what if you want to save just the plot to your computer so you can send it out to the world?! You could take a screenshot, but that won’t provide the highest resolution, and that will only save the plot as a bitmap-based PNG, not an infinitely resizable vector-based PDF!\nFortunately it’s pretty easy to save a plot using the special ggsave() function. You can specify whatever dimensions you want and whatever file type you want and save the standalone plot to your computer. You should look at the documentation for ggsave() for complete details of all the different options and arguments it can take. Typically, you do something like this.\nFirst create a plot and store it as an object. We haven’t done that yet in this lesson—so far we’ve just run ggplot() and seen the output immediately. If you save the output of ggplot() to an object, you actually won’t see anything until you run the name of the object.\n\na_cool_plot &lt;- ggplot(data = mpg,\n                      mapping = aes(x = displ, y = hwy, color = drv)) +\n  geom_point(size = 3) +\n  labs(title = \"Engine displacement and highway MPG\",\n       subtitle = \"Heavier cars get worse mileage\")\n\n# Make sure you run this so you can see the plot\na_cool_plot\n\n\n\n\n\n\n\n\nNext you can feed your saved plot to ggsave() to save it. It will automatically determine how to save it based on the filename you provide. If you tell it to be something.png, R will make a PNG; if you tell it to be something.pdf, R will make a PDF, and so on. Common types are PDF, PNG, JPEG (ew though), SVG, TIFF, and others.\nYou can also save the plot as multiple files. I typically make PNG and PDF versions of any plots I export like so:\n\nggsave(filename = \"a_cool_plot.pdf\", plot = a_cool_plot,\n       width = 6, height = 4.5, units = \"in\")\n\nggsave(filename = \"a_cool_plot.png\", plot = a_cool_plot,\n       width = 6, height = 4.5, units = \"in\")\n\nFrom a file management perspective, it often makes sense to store all your output in a separate folder in your project, like output or figures or something. If you want to put saved images in a subfolder, include the name in the file name:\n\nggsave(filename = \"figures/a_cool_plot.png\", plot = a_cool_plot,\n       width = 6, height = 4.5, units = \"in\")\n\nAnd finally, if you’re using custom fonts, you need to add one bit of wizardry to get the fonts to embed correctly in PDFs. This is something you just have to memorize or copy and paste a lot—if you want to know the full details, see this blog post. In short, R’s default PDF writer doesn’t know how to embed fonts and will panic if you make it try. R can use a different PDF-writing engine named Cairo that embeds fonts just fine, though, so you need to tell ggsave() to use it:\n\nggsave(filename = \"figures/a_cool_plot.pdf\", plot = a_cool_plot,\n       width = 6, height = 4.5, units = \"in\", device = cairo_pdf)",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "5: Themes"
    ]
  },
  {
    "objectID": "lesson/07-lesson.html",
    "href": "lesson/07-lesson.html",
    "title": "Relationships",
    "section": "",
    "text": "There isn’t really a lesson for this week, and as we get further into the semester, the need for lessons will continue to decrease. Now that each section is focused on a few specific geoms and how to apply them, you don’t need to go through interactive tutorials so much, since you should (hopefully!) be getting the hang of how ggplot works. (IF NOT, please reach out for help on Discord or via e-mail! I’m more than happy and ready to help!)\nFor the lesson, read through the code examples in the example to see how to make dual y-axes, scatterplot matrices, coefficient plots, and marginal effects plots.",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "7: Relationships"
    ]
  },
  {
    "objectID": "lesson/09-lesson.html",
    "href": "lesson/09-lesson.html",
    "title": "Annotations",
    "section": "",
    "text": "Ha, so in the video I said there would be interactive lessons, but I changed my mind! You’re only working with a few new functions this session (annotate(), geom_text(), geom_label(), geom_text_repel(), and geom_label_repel()), and the best way to figure out how to use them is to use them!\nThere are some helpful blog posts and other resources online with examples and explanations. Read through these in addition to the documentation for annotate(), geom_text()/geom_label() and {ggrepel}:\n\n “Add shapes with annotate()”\n “Annotations”",
    "crumbs": [
      "Lessons",
      "Core types of graphics",
      "9: Annotations"
    ]
  },
  {
    "objectID": "lesson/11-lesson.html",
    "href": "lesson/11-lesson.html",
    "title": "Interactivity",
    "section": "",
    "text": "Again, there’s no lesson for this. The only way to learn how to use ggplotly() and create dashboards with Quarto is to try them out in RStudio, not in a mini browser-based R session here.\nSo head over to the exercise to get started!",
    "crumbs": [
      "Lessons",
      "Special applications",
      "11: Interactivity"
    ]
  },
  {
    "objectID": "lesson/13-lesson.html",
    "href": "lesson/13-lesson.html",
    "title": "Time",
    "section": "",
    "text": "Once again, there’s no lesson this time. You’re all understanding the basics of R and {ggplot2} and {dplyr} really well (I’m seriously so impressed and proud of you all!).\nIn your exercise this week you’ll visualize trends in time using one of three different real-world datasets. In the example I demonstrate how to remove seasonality from time series data, which is a useful skill, but not always applicable to every time series dataset. If there’s no seasonality in your data, you don’t need to remove it.\nSo head over to the example or the exercise to get started!",
    "crumbs": [
      "Lessons",
      "Special applications",
      "13: Time"
    ]
  },
  {
    "objectID": "lesson/15-lesson.html",
    "href": "lesson/15-lesson.html",
    "title": "Truth, beauty, and data revisited",
    "section": "",
    "text": "There’s no lesson for this session. You made it to the end of the course! Congratulations!",
    "crumbs": [
      "Lessons",
      "Special applications",
      "15: Truth, beauty, and data revisited"
    ]
  },
  {
    "objectID": "news/2026-01-05_announcements-updates.html",
    "href": "news/2026-01-05_announcements-updates.html",
    "title": "Announcements and updates",
    "section": "",
    "text": "← News\n\n\n\n\nOver the course of the semester, I’ll be sending you lots of updates and announcements and FAQs.\nMy philosophy for this class is to let you maintain access to as much content as possible, which is why so little of the the class material is on iCollege.\nI will post all these announcements and e-mails at the “News” section of the course website. This means that even after you finish the class and lose access to iCollege, and even after you graduate from GSU and lose access to your gsu.edu e-mail address, you’ll still have a searchable archive of messages and FAQs from this class.\nI’ll let you know when there’s a new item in the news section in a few different ways:\n\nI’ll post a link to it as an iCollege announcement\nNew messages should post automatically to the #announcements channel in Discord\nIf you use an RSS feed reader (RIP Google Reader), you can subscribe to an RSS feed of the news section. There’s a link at the top of the news page.\n\nRemember to read the syllabus and the rest of the course website, answer the welcome survey, sign up for Discord, and join the Posit.cloud workspace. Also, remember to take care of yourselves! I mean every word in the “Learning during troubled times” section of the syllabus. I will try my hardest to accommodate your needs throughout the semester!\nThanks!"
  },
  {
    "objectID": "news/2026-01-05_important-r-stuff.html",
    "href": "news/2026-01-05_important-r-stuff.html",
    "title": "Important R stuff",
    "section": "",
    "text": "← News\n\n\n\n\nFrom reading the syllabus you’ll notice that we’re using R in this class. R is free (!!), and highly sought after by employers, but it has a little bit of an initial learning curve. You’ll get the hang of it, though, I promise! I’m a certified RStudio instructor (see https://education.rstudio.com/trainers/), so I’ve been specially trained to teach statistical programming. Again, I promise that you’ll learn a ton.\nIf you want to get a head start before class starts, you can go ahead and start working through a couple sets of interactive primers (these and these). They’re part of your first and third exercises, but you can go ahead and start them now if you want!\nWhile R and RStudio are free and open source, they can sometimes be tricky to install. To make life simpler, you can run RStudio in your browser without having to install anything (!!!) using a service called Posit.cloud. Over the course of the semester you’ll want to eventually install everything on your actual computer, since it’ll run faster there, but you won’t need to install anything to get started. I’ll e-mail you a link to join the class workspace.\nIn the meantime, you can also install everything on your actual computer if you follow these instructions (eventually you should do this—it’s best to run R on your own computer, but it’s totally fine to run everything at Posit.cloud for the first few weeks)\nOnce again, I promise that you can do this and have a blast in this class!"
  },
  {
    "objectID": "news/2026-01-12_first-day-of-class.html",
    "href": "news/2026-01-12_first-day-of-class.html",
    "title": "First day of class!",
    "section": "",
    "text": "← News\n\n\n\n\nHi everyone!\nToday’s the first day of class, and I’m excited to get started!\nA few quick reminders:\n\nIf you haven’t yet, please visit the class website at https://datavizsp26.classes.andrewheiss.com/ (you’re already here!). This is where all the class materials live and it’s the official source of dates and all other class information. I only use iCollege for collecting your assignments and posting answer keys (since it’s password protected). Because it’s not part of iCollege, you’ll be able to reference it even after you graduate and lose access to GSU resources. You can even share it with others—it’s just a website! (In the past I’ve had students spend like an hour downloading all the content from the class website so they can keep it; don’t worry about that though—it’ll all stay there indefinitely!)\nAs you’ll see on the syllabus and schedule pages, the class is divided into 15 sessions (corresponding to a typical 15-week semester). You’ll follow this general process for each session:\n\nGo to the content page, read the readings, and watch the slides/lectures\nGo to the lesson page and do the lessons\nDo the assignment, referring to the example page as you go\n\nAs you’ll read here, we’re using R and RStudio in this class. You can use a neat service called Posit.cloud to get started (join the class workspace using the link posted on iCollege), but eventually you’ll want to have R and RStudio on your computer. Follow the instructions here to do that\nIf you haven’t already, join the class Discord server using the link posted on iCollege. This is the best and fastest place to get help and talk to me and your classmates during the semester. I’ll also post general tips and tricks and advice there, so check it regularly.\nIn addition to the lessons, examples, and assignments, I’ve included a bunch of extra resources on the class website - check out those different pages for extra links to things about graphic design, data visualization, R, R best practices, data, and lots of other things.\n\nCool cool cool, let’s go!"
  },
  {
    "objectID": "news/2026-01-26_cleaner-nicer-qmd-output.html",
    "href": "news/2026-01-26_cleaner-nicer-qmd-output.html",
    "title": "Making cleaner, nicer Quarto documents",
    "section": "",
    "text": "← News\n\n\n\n\nHi everyone!\nNow that you’ve finished your first exercise, I have a bunch of helpful tips to make sure your documents look as nice and readable as possible. Here we go!\n\nRender often\nDon’t wait until you’ve finished typing your entire document before rendering. Render as HTML occasionally to make sure all your code runs from a fresh session and to make sure all the extra warnings and messages and any other strange output is taken care of.\nEven if your final document won’t be an HTML file, I recommend rendering as HTML often because (1) it’s fast and (2) you can see the output in an easily-refreshable web browser immediately. Render as HTML often. Then at the end, once you know everything is working right and the document looks nice and clean, render as PDF or Word or whatever your final output will be.\n\n\nCheck for broken code chunks\nMake sure all your R chunks start and end with triple backticks:\n\n\n\n\n\n\n\nBad\nGood\n\n\n\n\nHere's some text explaining stuff\n\n```{r}\n# Here's some R code\nggplot(...)\n\nAnd here's some more text.\nHere's some text explaining stuff\n\n```{r}\n# Here's some R code\nggplot(...)\n```\n\nAnd here's some more text.\n\n\n\nThis can be a little tricky to see sometimes if you use the visual editor, since it only shows the first line of the chunk and actually hides the backticks:\n\n\n\n\n\nIf you notice that your document is looking funny, switch to the source editor and make sure the chunk ends with triple backticks:\n\n\n\n\n\n\n\nCheck that your text looks okay\nWhen rendering, you should also check your text to make sure it looks okay. Here are some common issues that you’ll see with your text:\n\nHeadings that aren’t headings\nOften you’ll want to make a heading for one of your sections and you’ll type this:\n#Task 1: Check-in\nWhen you render that, though, it’ll look like this:\n\n#Task 1: Check-in\n\nThat’s not a heading—that’s just a regular paragraph. For a #-style heading to turn into an actual heading, you need a space after the # and an empty line after the heading text:\n# Task 1: Check-in\n\nSome text\n\n## A subheading\n\nSome more text\n\n# Task 2: Something\n\n\nParagraphs that aren’t paragraphs\nYou’re used to indenting paragraphs in Word or Google Docs. First-line indentation is a normal thing with word processors.\nIndenting lines is unnecessary with Markdown and will mess up your text.\nFor example, let’s say you type something like this:\n    It was the best of times, it was the worst of times, it was the age of \nwisdom, it was the age of foolishness, it was the epoch of belief, it was the \nepoch of incredulity, it was the season of Light, it was the season of Darkness, \nit was the spring of hope, it was the winter of despair, we had everything \nbefore us, we had nothing before us, we were all going direct to Heaven, we were \nall going direct the other way—in short, the period was so far like the present \nperiod, that some of its noisiest authorities insisted on its being received, \nfor good or for evil, in the superlative degree of comparison only.\n\n    There were a king with a large jaw and a queen with a plain face, on the \nthrone of England; there were a king with a large jaw and a queen with a fair \nface, on the throne of France. In both countries it was clearer than crystal to \nthe lords of the State preserves of loaves and fishes, that things in general \nwere settled for ever. \nThat looks like Word-style text, with indented paragraphs. When you render it, though, it’ll turn into code-formatted monospaced text that runs off the edge of the page:\n\nIt was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way—in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.\n\nThere were a king with a large jaw and a queen with a plain face, on the throne of England; there were a king with a large jaw and a queen with a fair face, on the throne of France. In both countries it was clearer than crystal to the lords of the State preserves of loaves and fishes, that things in general were settled for ever. \n\nThat’s because Markdown treats anything that is indented with four spaces as code, not as text.\nYou shouldn’t indent your text. Instead, add an empty line between each paragraph to separate them.\n\n\nLists that aren’t lists\nDue to esoteric historical reasons, the end of lines (i.e. what happens when you press enter when typing) is different on Macs and Windows. I use a Mac, and I typed the exercise templates on a Mac, so they have Mac-style line endings. That means that on Windows, you’ll sometimes see text that looks normal like this:\n- Here's a list\n- Stuff goes here\n- Neato\nThat should theoretically turn into a list, but when you render it, you see this:\n\n\nHere’s a list - Stuff goes here - Neato\n\n\nThat’s not a list! The easiest way to fix that is to delete the line break at the end of “list” in that first line and then press enter (and so on), so that it turns in to this when rendering:\n\n\nHere’s a list\nStuff goes here\nNeato\n\n\n\n\n\nDon’t install packages in your document\nMake sure you don’t include code to install packages in your Quarto files. Like, don’t include install.packages(\"ggtext\") or whatever. If you do, R will reinstall that package every time you render your document, which is excessive. All you need to do is load the package with library()\nTo help myself remember to not include package installation code in my document, I make an effort to either install packages with my mouse by clicking on the “Install” button in the Packages panel in RStudio, or only ever typing (or copying/pasting) code like install.packages(\"whatever\") directly in the R console and never putting it in a chunk.\n\n\nClean up warnings and messages\nIdeally, your document shouldn’t have any errors, warnings, or messages in it. Some packages are talkative, like {tidyverse}:\n\nlibrary(tidyverse)\n## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n## ✔ dplyr     1.1.4     ✔ readr     2.1.6\n## ✔ forcats   1.0.1     ✔ stringr   1.6.0\n## ✔ ggplot2   4.0.1     ✔ tibble    3.3.0\n## ✔ lubridate 1.9.4     ✔ tidyr     1.3.2\n## ✔ purrr     1.2.0     \n## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n## ✖ dplyr::filter() masks stats::filter()\n## ✖ dplyr::lag()    masks stats::lag()\n## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nSome functions are talkative, like summarize() after working on more than one group:\n\nmpg |&gt; \n  group_by(year, drv) |&gt; \n  summarize(avg = mean(hwy))\n## `summarise()` has grouped output by 'year'. You can override using the\n## `.groups` argument.\n## # A tibble: 6 × 3\n## # Groups:   year [2]\n##    year drv     avg\n##   &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;\n## 1  1999 4      18.8\n## 2  1999 f      27.9\n## 3  1999 r      20.6\n## 4  2008 4      19.5\n## 5  2008 f      28.4\n## 6  2008 r      21.3\n\nOr geom_smooth():\n\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  geom_smooth()\n## `geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\n\n\n\nWhen you have code that you know will return some sort of message, add message: false to the chunk options for it. When you have code that you know will make some sort of warning, (1) try to fix it so that the warning doesn’t happen, or (2) add warning: false to the chunk options for it.\n\n```{r}\n#| label: load-packages\n#| warning: false\n#| message: false\n\nlibrary(tidyverse)\n```\n\nRendering often and scrolling through the rendered document will help you check that you don’t have any extra output like warnings, messages, and errors too.\n\n\nGlobal chunk options\nYou can control the settings for all the chunks in your document by using knitr::opts_chunk$set(). You can use any {knitr} chunk options (see here or here for a complete list).\nFor instance, if you want to hide all the code in your document, you could either go add echo=FALSE to each chunk individually, or you could add it to the global chunk options:\nknitr::opts_chunk$set(echo = FALSE)\nYou could hide all warnings and messages there too:\nknitr::opts_chunk$set(warning = FALSE, message = FALSE)\nBUT I don’t recommend doing that ↑ normally. Warnings are helpful—when you get them, you’ll typically want to try to deal with them. Instead of hiding them, try to fix them. If you can’t fix them (like when you run library(tidyverse)), then you can hide them for that chunk.\nYou can also set default figure dimensions and lots of other settings. I typically include something like this at the start of my documents:\nknitr::opts_chunk$set(\n  fig.width = 6, \n  fig.height = 4.3,\n  fig.align = \"center\", \n  out.width = \"80%\"\n)\nMake sure you hide the chunk that contains those settings with something like include: false, otherwise you’ll see it in your document:\n```{r}\n#| label: document-chunk-options\n#| include: false\n\nknitr::opts_chunk$set(\n  fig.width = 6, \n  fig.height = 6 * 0.618,  # Golden rectangles!\n  fig.align = \"center\", \n  out.width = \"80%\"\n)\n```\n\n\nFancy document settings\nYou can make your documents prettier by changing the settings for different outputs (see this for complete documentation).\nFor example, if you want a different font in PDFs, you can include something like this in your frontmatter. See here for complete details.\n---\ntitle: \"Whatever\"\ndate: \"Whatever\"\nformat:\n  pdf:\n    mainfont: Garamond\n    fontsize: 10pt\n---\nIf you want a different template for HTML (you can use these, or if you know HTML and CSS, you can make your own), you can do something like this. See here for complete details.\n---\ntitle: \"Whatever\"\ndate: \"Whatever\"\nformat:\n  html:\n    theme: united\n---\nYou can’t do much with Word because Microsoft makes it hard to do anything to .docx files, but you can create a .docx file where you define a bunch of style settings (e.g., make Heading 1 a specific sans serif font, left-aligned, bold; make Heading 2 the same font and not bold; make main paragraphs an 11pt serif font; and so on), and then you can inject those styles into the rendere document like this. See here for complete details.\n---\ntitle: \"Whatever\"\ndate: \"Whatever\"\nformat:\n  docx:\n    reference_doc: my-neat-styles.docx\n---\nYou can keep all those output-specific settings in the same document—Quarto will only use the settings required for each output (i.e. if you render to PDF it’ll ignore the HTML settings):\n---\ntitle: \"Whatever\"\ndate: \"Whatever\"\nformat:\n  pdf:\n    mainfont: Garamond\n  html:\n    theme: united\n  docx:\n    reference_doc: my-neat-styles.docx\n---\nYou can get really fancy with this stuff. For example, this Quarto file creates three different kinds of customized output (see here):\n\nPDF\nManuscripty PDF\nHTML\n\n\n\nChunk names\nLabeling your R chunks is a good thing to do, since it helps with document navigation and is generally good practice. If you’re using chunk labels make sure you don’t use spaces in them. R will still render a document with spaceful names, but it converts the spaces to underscores before doing it. So instead of naming chunks like #| label: My Neat Chunk, use something like #| label: My Neat Chunk:\n\n\n\n\n\n\n\nBad\nGood\n\n\n\n\nHere's some text explaining stuff\n\n```{r}\n#| label: My Neat Chunk\n# Here's some R code\nggplot(...)\n```\n\nAnd here's some more text.\nHere's some text explaining stuff\n\n```{r}\n#| label: my-neat-chunk\n# Here's some R code\nggplot(...)\n```\n\nAnd here's some more text."
  },
  {
    "objectID": "news/2026-01-26_faqs_week-01.html",
    "href": "news/2026-01-26_faqs_week-01.html",
    "title": "Week 1 tips and FAQs",
    "section": "",
    "text": "← News\n\n\n\n\nHi everyone!\nI have few important FAQs and tips I’ve been giving as feedback to many of you:\n\nWhat’s the difference between Source and Visual mode in the editor window?\nWhen writing with Quarto markdown, RStudio has a neat feature that makes it easier to see what you’re actually doing. Recall from the Markdown guide that Markdown is a way to mark up text—it lets you make things bold or italic, add images, make headings, make lists, and so on.\nYou’re all familiar with writing in Word or in Google Docs, where if you want something to be bold, you select the text and click on a button to make it bold (or use the ctrl + B or ⌘B keyboard shortcut).\nIn Markdown, if you want something bold, you put it between two asterisks like this:\nThis is **bold stuff**.\n…and when you render it, it’ll show up like this:\n\nThis is bold stuff.\n\nIt can be tricky to remember all the different Markdown-y things you can use, so RStudio has a visual mode to help you! Visual mode gives you a Word-like menu for formatting text, and it shows the formatted text in the editor window. Behind the scenes, it’s really using Markdown—if you switch to source mode, you can see the underlying Markdown, like ## A heading or This is *italic*.\nHere’s the same document in visual mode:\n\n\n\nVisual mode\n\n\n…and source mode:\n\n\n\nSource mode\n\n\nI personally like to use source mode when working with R, and I’ll often switch to visual mode when writing.\nSee this for full details about what the visual mode can do.\n\n\nWhat’s the difference between R Markdown and Quarto?\nIn the videos, you’ll see examples of using R Markdown (i.e. files with an .Rmd extension), but in the instructions for the exercises and the answer keys on iCollege, I have you use Quarto (i.e. files with a .qmd extension) instead. Why?\nQuarto Markdown is regular Markdown with R code and output sprinkled in. You can do everything you can with regular Markdown, but you can incorporate graphs, tables, and other code output directly in your document. You can create HTML, PDF, and Word documents, PowerPoint and HTML presentations, websites, books, and even interactive dashboards with Quarto. This whole course website is created with Quarto.\nQuarto’s predecessor was R Markdown and worked exclusively with R (though there are ways to use other languages in document). Quarto is essentially “R Markdown 2.0,” but it is designed to be language agnostic. You can use R, Python, Julia, Observable JS, and even Stata code all in the same document. It is magical.\nThe core idea behind R Markdown—that you can intersperse text with code chunks—is the same in Quarto, and the syntax is the same too. Everything R Markdown-related in the videos should work just the same in Quarto.\nThe wording for converting Quarto files to PDF/HTML/Word/whatever is slightly different too. In R Markdown, the process is called “knitting” (because the R package for doing that is called {knitr}, a pun on knitting/stitching together code, tables, images, and text). In Quarto it’s called “rendering”. Knitting and rendering are the same thing. In the videos when you hear me say “knit to PDF”, that really means “render to PDF”.\nSee here for some of the cool things you’ll be able to do with Quarto documents.\n\n\nWhy don’t I have options to render to PDF (or Word or HTML)?\nIf you don’t specify any format settings in the top part of your document (i.e. the metadata), Quarto documents by default render to HTML. The “Render” button at the top of the editor window won’t have a dropdown menu for switching to other formats—if you click on it, it’ll render to HTML.\n\n\n\nNo dropdown menu for the Render button\n\n\nThe dropdown menu for that “Render” button will show whichever possible formats you define in the document. Like here, I’ve added HTML and PDF files as possible formats (using their default settings), so they appear in the dropdown:\n\n\n\nDropdown menu that matches the format settings\n\n\nIn all your exercises, I’ve included four different formats in the starter .qmd file for you, like this:\nformat:\n  html:\n    toc: true\n  typst:\n    toc: true\n  pdf:\n    toc: true\n  docx:\n    toc: true\nThat makes it so that HTML, PDF, typst (fancier, faster PDFs), and Word all appear in the dropdown menu. Additionally, it enables an automatic table of contents (toc: true) in each format. There are a ton of different format-specific settings you can change—see here for more details and examples.\n\n\nRendered document format for iCollege\nQuarto is great and wonderful in part because you can write a document in one .qmd file and have it magically turn into an HTML file, a Word file, or a PDF (or if you want to get extra fancy later, a slideshow, a dashboard, or even a full website).\niCollege doesn’t like HTML files, though. It won’t show images that get uploaded because of weird server restrictions or something. So when you submit your exercises, make sure you render as PDF or Word.. Don’t upload HTML files, and don’t upload your .qmd file.\nI’d recommend rendering as HTML often as you work on the exercise. Rendering as PDF takes a few extra seconds, and rendering as Word is a hassle because Word gets mad if you have a previous version of the document open when rendering. HTML is pretty instantaneous. When I work on Quarto files, I put a browser window on one of my monitors and RStudio on the other and render and re-render often to HTML while working. Once I’m done and the document all works and the images, tables, text, etc. are all working, I’ll render as PDF or Word or whatever final format I want.\n\n\nWhat is this “typst” thing that we can render to?\n\n\n\n\n\n\nNotetl;dr\n\n\n\nIf you want to make a PDF, you can use either LaTeX or Typst. Typst is newer and faster and easier to customize; LaTeX has been around for decades and is standard and ubiquitous, but it can be fragile and hard to work with.\n\n\nTypst is a cool new way to render documents as PDFs.\nFor years, the standard way to make academic/scientific/technical PDFs with Quarto (and its predecessor R Markdown) has been (and still is!) a program called LaTeX, which was originally invented in 1984 (!). LaTeX was created to make really nice, beautiful scientific papers with math and good typography. Like, here’s a standard LaTeX PDF:\n\n\n\n\n\n\nNoteClick to see the full .Rmd for making this LaTeX PDF ↓\n\n\n\n\n\n---\ntitle: \"Example \\\\LaTeX\\\\ document\"\noutput: pdf_document\n---\n\n# Introduction\n\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \n\n$$\n\\text{Continuous stabilized IPW}_{it} = \\prod^t_{t = 1} \\frac{f_{X | \\bar{X}, V}[(X_{it} | \\bar{X}_{i, t-1}, V_i); \\mu_1, \\sigma^2_1]}{f_{X | \\bar{X}, Y, C, V}[(X_{it} | \\bar{X}_{i, t-1}, Y_{i, t-1}, C_{it}, V_i), \\mu_2, \\sigma^2_2]}\n$$\n\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\n$$\nw_2 = \\frac{\\phi(T_{i2}\\ |\\ T_{i1})}{\\phi(T_{i2}\\ |\\ C, T_{i1}, D_{i1})}\n$$\n\n# Another section\n\nSed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. \n\n$$\n\\begin{aligned}\n\\text{LATE}_\\text{fuzzy RDD} &= \\frac{\\lim_{x \\rightarrow 0^+} \\mathbf{E} [Y \\mid X = x] - \\lim_{x \\rightarrow 0^-} \\mathbf{E} [Y \\mid X = x]}{\\lim_{x \\rightarrow 0^+} \\mathbf{E} [T \\mid X = x] - \\lim_{x \\rightarrow 0^-} \\mathbf{E} [T \\mid X = x]} \\\\[10pt]\n&= \\frac{\\mathbf{E} [Y \\mid X = 0^+] - \\mathbf{E} [Y \\mid X = 0^-]}{\\mathbf{E} [T \\mid X = 0^+] - \\mathbf{E} [T \\mid X = 0^-]}\n\\end{aligned}\n$$\n\nNemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. \n\n## Subsection\n\nNeque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. \n\n\n\n\nThat looks neat!\nHowever, because it was invented before things like accented letters like î and ü, or special characters like ¶, or fonts, LaTeX can be really really finnicky and fragile to work with. It can also take a while to convert documents to PDF with LaTeX because it has to run through the document 3–4 times behind the scenes.\nBut it’s still an industry standard and everyone uses it, despite its quirks and issues. With a bunch of configuration, you can make it look really pretty. Like, look at this PDF of one of my recent articles. It’s neat! I even made the template for that as a Quarto extension if you want to do something similar.\nBut it takes a lot of trial and error to get LaTeX documents to look like that, and you can easily cause errors and break your documents all the time. It’s a cool—but exceptionally fragile—system.\nTypst was invented just a few years ago to replace LaTeX. It creates PDFs, but (1) runs lightning fast, (2) supports custom fonts and Unicode characters like accents, and (3) is way easier to customize.\nQuarto supports making PDFs through both LaTeX and Typst. Lots of students have struggled with goofy LaTeX errors in the past (especially when using custom fonts), and Quarto’s support for Typst is good enough nowadays that I decided to add it as one of the built-in options for rendering your exercises. I recommend using it instead of the default PDF option (which uses LaTeX).\nYou can change all sorts of Typst settings too—see the Quarto documentation here for complete details. Like, here’s how you can make a PDF that uses the Georgia font, with 1.5 inch margins, and with all the headings red:\n---\ntitle: \"Example Typst document\"\nformat: \n  typst:\n    mainfont: Georgia\n    margin:\n      x: 1.5in\n      y: 1.5in\n    include-before-body:\n      - text: |\n          #show heading: set text(red)\n---\nNeat!\n\n\n\n\n\n\nNoteClick to see the full .qmd for making this Typst PDF ↓\n\n\n\n\n\n---\ntitle: \"Example Typst document\"\nformat: \n  typst:\n    mainfont: Georgia\n    margin:\n      x: 1.5in\n      y: 1.5in\n    include-before-body:\n      - text: |\n          #show heading: set text(red)\n---\n\n# Introduction\n\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \n\n$$\n\\text{Continuous stabilized IPW}_{it} = \\prod^t_{t = 1} \\frac{f_{X | \\bar{X}, V}[(X_{it} | \\bar{X}_{i, t-1}, V_i); \\mu_1, \\sigma^2_1]}{f_{X | \\bar{X}, Y, C, V}[(X_{it} | \\bar{X}_{i, t-1}, Y_{i, t-1}, C_{it}, V_i), \\mu_2, \\sigma^2_2]}\n$$\n\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\n$$\nw_2 = \\frac{\\phi(T_{i2}\\ |\\ T_{i1})}{\\phi(T_{i2}\\ |\\ C, T_{i1}, D_{i1})}\n$$\n\n# Another section\n\nSed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. \n\n$$\n\\begin{aligned}\n\\text{LATE}_\\text{fuzzy RDD} &= \\frac{\\lim_{x \\rightarrow 0^+} \\mathbf{E} [Y \\mid X = x] - \\lim_{x \\rightarrow 0^-} \\mathbf{E} [Y \\mid X = x]}{\\lim_{x \\rightarrow 0^+} \\mathbf{E} [T \\mid X = x] - \\lim_{x \\rightarrow 0^-} \\mathbf{E} [T \\mid X = x]} \\\\[10pt]\n&= \\frac{\\mathbf{E} [Y \\mid X = 0^+] - \\mathbf{E} [Y \\mid X = 0^-]}{\\mathbf{E} [T \\mid X = 0^+] - \\mathbf{E} [T \\mid X = 0^-]}\n\\end{aligned}\n$$\n\nNemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. \n\n## Subsection\n\nNeque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. \n\n\n\n\n\n\nHow does group_by() work? Why did we have to group by island and not body_mass and island?\nA bunch of you did something like this for the last part of Exercise 1:\npenguins |&gt;\n  group_by(body_mass, island) |&gt;\n  summarize(avg_weight = mean(body_mass))\nWhile that technically gave you an answer, it’s wrong.\nAs you saw in the Primers, group_by() puts your data into groups behind the scenes, and summarize() collapses those groups into single values.\nFor instance, if you group by island, R will put all the Biscoes together, all the Dreams together, and all the Torgersens together. Then when you use summarize(), it will calculate the average for each of those groups:\n\npenguins |&gt; \n  group_by(island) |&gt; \n  summarize(\n    avg_weight = mean(body_mass),\n    num_penguins = n()\n  )\n## # A tibble: 3 × 3\n##   island    avg_weight num_penguins\n##   &lt;fct&gt;          &lt;dbl&gt;        &lt;int&gt;\n## 1 Biscoe         4719.          163\n## 2 Dream          3719.          123\n## 3 Torgersen      3709.           47\n\nThere are 47 penguins on Torgersen Island with an average weight of 3709 g; 123 penguins on Dream Island with an average weight of 3719 g; and so on.\nIf you group by island and body_mass, R will create groups of all the unique combinations of island and body mass: all the penguins on Biscoe Island that weigh 2850 grams, all the penguins on Biscoe Island that weight 2900 grams, all the penguins on Biscoe Island that weight 2925 gams, and so on. Then when you use summarize(), it will calculate the average for each of those groups:\n\npenguins |&gt; \n  group_by(body_mass, island) |&gt; \n  summarize(\n    avg_weight = mean(body_mass),\n    num_penguins = n()\n  )\n## # A tibble: 148 × 4\n## # Groups:   body_mass [93]\n##    body_mass island    avg_weight num_penguins\n##        &lt;int&gt; &lt;fct&gt;          &lt;dbl&gt;        &lt;int&gt;\n##  1      2700 Dream           2700            1\n##  2      2850 Biscoe          2850            2\n##  3      2900 Biscoe          2900            1\n##  4      2900 Dream           2900            2\n##  5      2900 Torgersen       2900            1\n##  6      2925 Biscoe          2925            1\n##  7      3000 Dream           3000            2\n##  8      3050 Dream           3050            1\n##  9      3050 Torgersen       3050            3\n## 10      3075 Biscoe          3075            1\n## # ℹ 138 more rows\n\nThe average weight for Dream Island penguins that weight 2700 grams is, unsurprisingly, 2700 grams, since every penguin in that group weighs 2700 grams (and also because there’s actually only one penguin that weighs that much on that island).\nCheck out these animations to help with the intuition of grouping, like these:\n\ngroup_by(cat1)group_by(cat2)\n\n\n\n  \n\n\n\n\n  \n\n\n\n\n\n\nHow do we know which type of graph to use for different types of data?\nLots of you were overwhelmed by how many different chart types there are and wondered how you’d know which to use in which situation.\nFortunately there are a bunch of really helpful resources to help you choose, based on the data that you have and the story you want to tell. I have some listed at the Visualization page in the Resources section of the course website.\n\n\nDo you have any tips for remembering all the different functions we’re learning? There are so many!\nHere’s my best tip for remembering all the different functions in R: Don’t.\nReally truly.\nSee this for more details.\nInevitably in the classes where I teach R, I have students say things like “I’m trying to do this without looking at any documentation!” or “I can’t do this without googling—I’m a failure!”. While the effort to be fully independent and perfect with code is noble, it’s totally unnecessary. Everyone looks stuff up all the time—being able to do something without looking stuff up shouldn’t be your end goal.\nEventually you’ll be able to whip out basic ggplot(..., aes(...)) + geom_point() + geom_smooth() + labs() kinds of things without copying and pasting—that comes naturally over time, and you see me do that in the videos. But as soon as I have to start changing axis breaks or do anything beyond the standard stuff, I immediately start googling and looking at the documentation. Everyone does it. The authors of these packages do it. That’s why documentation exists. So don’t feel bad if you do it too. It’s the dirty little secret of all programming everywhere—it’s impossible to write code without referring to documentation or other people’s code (or your past code).\nUse the documentation. Press F1 (with your cursor in a function name) or run ?THING, like ?ggplot to see the documentation. In RStudio, go to Help &gt; Cheat Sheets and you’ll be able to access a bunch of 2-page PDF cheatsheets for the main things that we’ll cover in this class. Posit has dozens of others available, too, if you click on “Browse Cheat Sheets…” at the bottom of that menu.\nDon’t even try to memorize everything—it’s not possible, and it’s not how coding works. Always look stuff up.\n\n\nMy histogram bars are too wide / too narrow / not visible. How do I fix that?\nIn your extensions, a lot of you tried to make a histogram of a different column like flipper length, but kept the bin width at 200 from the body mass histogram, and it looked bad and wrong.\nHistograms work by taking a variable, cutting it up into smaller buckets, and counting how many rows appear in each bucket. For example, here’s a histogram of life expectancy from gapminder, with the binwidth argument set to 5:\n\nlibrary(gapminder)\n\ngapminder_2007 &lt;- gapminder |&gt; \n  filter(year == 2007)\n\nggplot(gapminder_2007, aes(x = lifeExp)) +\n  geom_histogram(binwidth = 5, color = \"white\", boundary = 0)\n\n\n\n\n\n\n\n\nThe binwidth = 5 setting means that each of those bars shows the count of countries with life expectancies in five-year buckets: 35–40, 40–45, 45–50, and so on.\nIf we change that to binwidth = 1, we get narrower bars because we have smaller buckets—each bar here shows the count of countries with life expectancies between 50–51, 51–52, 52–53, and so on.\n\nggplot(gapminder_2007, aes(x = lifeExp)) +\n  geom_histogram(binwidth = 1, color = \"white\", boundary = 0)\n\n\n\n\n\n\n\n\nIf we change it to binwidth = 20, we get huge bars because the buckets are huge. Now each bar shows the count of countries with life expectancies between 20–40, 40–60, 60–80, and 80–100:\n\nggplot(gapminder_2007, aes(x = lifeExp)) +\n  geom_histogram(binwidth = 20, color = \"white\", boundary = 0)\n\n\n\n\n\n\n\n\nThere is no one correct good universal value for the bin width and it depends entirely on your data.\nLots of you ran into an issue when copying/pasting code from the example, where one of the example histograms used binwidth = 1, since that was appropriate for that variable.\nWatch what happens if you plot a histogram of GDP per capita using binwidth = 1:\n\nggplot(gapminder_2007, aes(x = gdpPercap)) +\n  geom_histogram(binwidth = 1, color = \"white\", boundary = 0)\n\n\n\n\n\n\n\n\nhaha yeah that’s delightfully wrong. Each bar here is showing the count of countries with GDP per capita is $10,000–$10,001, then $10,001–$10.002, then $10,002–$10,003, and so on. Basically every country has its own unique GDP per capita, so the count for each of those super narrow bars is 1 (there’s one exception where two countries fall in the same bucket, which is why the y-axis goes up to 2). You can’t actually see any of the bars here because they’re too narrow—all you can really see is the white border around the bars.\nTo actually see what’s happening, you need a bigger bin width. How much bigger is up to you. With life expectancy we played around with 1, 5, and 20, but those bucket sizes are waaaay too small for GDP per capita. Try bigger values instead. But again, there’s no right number here!\n\nbinwidth = 1000binwidth = 2000binwidth = 5000binwidth = 10000\n\n\n\nggplot(gapminder_2007, aes(x = gdpPercap)) +\n  geom_histogram(binwidth = 1000, color = \"white\", boundary = 0)\n\n\n\n\n\n\n\n\n\n\n\nggplot(gapminder_2007, aes(x = gdpPercap)) +\n  geom_histogram(binwidth = 2000, color = \"white\", boundary = 0)\n\n\n\n\n\n\n\n\n\n\n\nggplot(gapminder_2007, aes(x = gdpPercap)) +\n  geom_histogram(binwidth = 5000, color = \"white\", boundary = 0)\n\n\n\n\n\n\n\n\n\n\n\nggplot(gapminder_2007, aes(x = gdpPercap)) +\n  geom_histogram(binwidth = 10000, color = \"white\", boundary = 0)"
  },
  {
    "objectID": "news/2026-01-27_llms-and-r.html",
    "href": "news/2026-01-27_llms-and-r.html",
    "title": "FAQs about LLMs, R, and this class",
    "section": "",
    "text": "← News\n\n\n\n\nSo in the previous announcement post, I (repeatedly and forcefully!) made the point that LLMs are bad and dangerous for learning to code. You have to know what you’re doing first, and the only want to get to that point is to build up a foundation of knowledge.\nWith that, here are some common questions I get about R and AI/LLMs.\n\nWill R ever be fully replaced by AI?\nProbably not.\nSome software like Excel is actually trying to do this, and (to me) it is totally bonkers. LLMs make up numbers! If you ask it to calculate the average of some numbers, an LLM won’t actually do the math—it’ll give a number that looks plausible. Excel’s COPILOT function even includes a huge disclaimer warning people that the results could be wrong.\nHowever, I don’t think that AI will have no place in data analytics. Where I think LLMs will be helpful (and are helpful already) is in generating the code to use R (or Python or Julia or Stata or whatever). Instead of asking “What’s the average of this column” and getting some made up number, you can ask “How can I calculate the average of this column” and get code like mean(dataset$column), which you can then inspect yourself and make sure it makes sense and is the right thing to use.\nThis is actually what the Posit company (the developers of RStudio and the tidyverse) are betting on. If you have time, check out this video from the 2025 posit::conf (held here in Atlanta!), where Hadley Wickham (creator of ggplot and dplyr and a billion other things, and chief data scientist at Posit) and Joe Cheng (the chief technology officer at Posit) talk about this.\n\n\n\nPositron, the successor to RStudio, has two built-in AI chat interfaces:\n\nPositron Assistant: this gives advice about code\nDatabot: this can see your data and (try to) generate and run R code that can analyze it\n\nNeither of these tools analyze the data for you—Posit doesn’t want to just make up numbers. Instead, they help you create the code necessary for analyzing data.\nThis, I think, is the future of LLMs/AI in data analysis. It still has to be human driven, with humans making decisions and humans looking at the code and humans understanding the code and humans running the code and humans writing about the output.\n\n\nWill you incorporate LLMs and AI prompting into the course in the future?\nNo.\n\n\nWhy won’t you incorporate LLMs and AI prompting into the course?\nThese tools are useful for coding (see this for my personal take on this).\nHowever, they’re only useful if you know what you’re doing first. If you skip the learning-the-process-of-writing-code step and just copy/paste output from ChatGPT, you will not learn. You cannot learn. You cannot improve. You will not understand the code.\nUp above I mentioned that Positron has an LLM chatbot interface called Databot that can look at your data and help you analyze it.\nThey have a huge long disclaimer about it though—it is dangerous. Joe Cheng says this about it:\n\nIn my 30-year career writing software professionally, Databot is both the most exciting software I’ve worked on, and also the most dangerous.\n–Joe Cheng, Posit CTO\n\nIn that post, it warns that you cannot use it as a beginner:\n\n…to use Databot effectively and safely, you still need the skills of a data scientist: background and domain knowledge, data analysis expertise, and coding ability.\n\nThere is no LLM-based shortcut to those skills. You cannot LLM your way into domain knowledge, data analysis expertise, or coding ability.\nThe only way to gain domain knowledge, data analysis expertise, and coding ability is to struggle. To get errors. To google those errors. To look over the documentation. To copy/paste your own code and adapt it for different purposes. To explore messy datasets. To struggle to clean those datasets. To spend an hour looking for a missing comma.\nThis isn’t a form of programming hazing, like “I had to walk to school uphill both ways in the snow and now you must too.” It’s the actual process of learning and growing and developing and improving. You’ve gotta struggle.\nThis Tumblr post puts it well (it’s about art specifically, but it applies to coding and data analysis too):\n\nContrary to popular belief the biggest beginner’s roadblock to art isn’t even technical skill it’s frustration tolerance, especially in the age of social media. It hurts and the frustration is endless but you must build the frustration tolerance equivalent to a roach’s capacity to survive a nuclear explosion. That’s how you build on the technical skill. Throw that “won’t even start because I’m afraid it won’t be perfect” shit out the window. Just do it. Just start. Good luck.\n(The original post has disappeared, but here’s a reblog.)\n\n\n\n\n\n\nIt’s hard, but struggling is the only way to learn anything.\nOnce you’ve gotten these skills, you have enough knowledge and expertise to use LLMs and fight and argue with them and speed things up. But before that point, you’re in danger-land.\nAND EVEN THEN-even if you have that knowledge and expertise—there’s a good case to be made to avoid using them. I personally enjoy the process of making things. As I say here:\n\nI enjoy creating things. I like being the human behind all this stuff.\n\nThis post by a colleague of mine puts it similarly:\n\nMuch of the work I do is a combination of teaching, research, and writing. I enjoy doing all three; not just the things I produce, but the process itself.\n\nThat applies to code too! Williams continues:\n\nIf writing is thinking, so too is writing code. I’m fluent in English, and I’m fluent in the R programming language. Both are a means to thinking. If I offload coding or my prose to AI, and by extension, my own thoughts, where’s the joy in that? I don’t use AI much at all to write code simply because I enjoy writing code, the same way a novelist likes writing novels or a philosopher likes crafting a well-argued essay. I derive meaning from the process; not just the final product.\n\nYou might not enjoy code as much as Williams does (or I do), but there’s still value in maintaining coding skills as you improve and learn more. You don’t want your skills to atrophy.\nAs I discuss here, when I do use LLMs for coding-related tasks, I purposely throw as much friction into the process as possible:\n\nTo avoid falling into over-reliance on LLM-assisted code help, I add as much friction into my workflow as possible. I only use GitHub Copilot and Claude in the browser, not through the chat sidebar in Positron or Visual Studio Code. I treat the code it generates like random answers from StackOverflow or blog posts and generally rewrite it completely. I disable the inline LLM-based auto complete in text editors. For routine tasks like generating {roxygen2} documentation scaffolding for functions, I use the {chores} package, which requires a bunch of pointing and clicking to use.\n\nEven though I use Positron, I purposely do not use either Positron Assistant or Databot. I have them disabled.\n\nSo in the end, for pedagogical reasons, I don’t foresee me incorporating LLMs into this class. I’m pedagogically opposed to it. I’m facing all sorts of external pressure to do it, but I’m resisting.\nYou’ve got to learn first.\nIn this class, I don’t actually care that much what your final outputs are. I want you to make fascinating mini projects and a final project you can show off to the world. I want you to do neat extensions in your exercises. But I don’t care so much about you getting the exact right answer. That’s the whole point of the ✓ grading system.\nThe point of all the exercises this semester has been to get you to struggle and learn. The main output for this class isn’t the stuff you make—it’s the stuff you learn."
  },
  {
    "objectID": "news/2026-02-03_faqs_week-03.html",
    "href": "news/2026-02-03_faqs_week-03.html",
    "title": "Week 3 FAQs",
    "section": "",
    "text": "← News\nHi everyone!\nGreat work with session 3! You’re all done with the primers and from now on, the lessons should be a lot shorter. The first few sessions of this class are rough because you’re learning the foundations of R and ggplot, but things really truly should start clicking more now—I promise!\nMany of you had similar questions and I left lots of similar comments and tips on iCollege, so I’ve compiled the most common issues here. There are a bunch here, but they’re hopefully all useful."
  },
  {
    "objectID": "news/2026-02-03_faqs_week-03.html#footnotes",
    "href": "news/2026-02-03_faqs_week-03.html#footnotes",
    "title": "Week 3 FAQs",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nArwen and Galadriel↩︎\nElrond and Legolas↩︎"
  },
  {
    "objectID": "resource/citations.html",
    "href": "resource/citations.html",
    "title": "Citations and bibliography",
    "section": "",
    "text": "You can access a shared group Zotero library of all the non-web-based class reading references and link it to your Zotero account to easily cite the course materials.\nAlternatively, you can download a BibTeX file of all the references. You can open it in BibDesk on macOS, JabRef on Windows, or Zotero on macOS, Windows, and online.\nZotero group library    BibTeX file\nYou can use these references in your Quarto documents directly in RStudio! You need to set up a few things first, but then it’s straightforward to get automatic citations in your documents. You can also see the official Quarto documentation for citations in general and the RStudio documentation (and this blog post) for working with citations in RStudio.",
    "crumbs": [
      "Resources",
      "Citations and bibliography"
    ]
  },
  {
    "objectID": "resource/citations.html#initial-set-up",
    "href": "resource/citations.html#initial-set-up",
    "title": "Citations and bibliography",
    "section": "Initial set up",
    "text": "Initial set up\nBefore RStudio can look at and use your Zotero library, you need to do two things first. You only need to do this setup once.\n\n1. Install the Better BibTeX Zotero extension\nWhen you cite things with Quarto, you need to reference entry citation keys, or citekeys. Zotero doesn’t support or make these automatically, but you can install the Better BibTeX for Zotero extension to add citekey support to your library.\nFollow the instructions here to do that. Here’s an illustrated version:\n\nDownload the latest release to your computer by right-clicking on the zotero-better-bibtex-VERSION.xpi file at GitHub and choosing “Save as.” Don’t double-click on it or try opening it after downloading it—you don’t need to.\n\n\n\nDownload XPI from GitHub\n\n\nIn Zotero, go to Tools &gt; Plugins and select the “Plugins” page.\nClick on the gear icon in the top-right corner and choose “Install Plugin From File”:\n\n\n\nInstall plugin from XPI file\n\n\nChoose the .xpi file that you downloaded.\nBetter BibTeX should now appear in your plugin list:\n\n\n\nPlugin is installed now\n\n\n\nOnce it’s installed, you should see a “Citation key” field in each of your Zotero entries. Use that when citing things in your Quarto document.\n\n\n\nCitation key field in Zotero\n\n\n\n\n\n\n\n\nNoteOther settings\n\n\n\nIf you want, you can go to Zotero’s settings and change all sorts of settings for Better BibTeX, like the template it uses for generating citekeys, or auto-exporting collections as .bib files. You can also just leave all the default settings.\n\n\n\n\n2. Tell RStudio about Zotero\nNext, we need to tell RStudio that (1) Zotero exists and that (2) it should look at both your main local library and the shared class group.\n\nIn RStudio, go to Tools &gt; Global Options &gt; R Markdown &gt; Citations.\nSet “Use libraries” to “Selected Libraries” and make sure “My Library” is checked (that’s your stuff that you add on your own), and that the group library that you’ve joined from here is checked.\nMake sure “Better BibTeX for citation keys and BibTeX export” is checked too.\n\n\n\n\nCitation settings in RStudio",
    "crumbs": [
      "Resources",
      "Citations and bibliography"
    ]
  },
  {
    "objectID": "resource/citations.html#inserting-citations",
    "href": "resource/citations.html#inserting-citations",
    "title": "Citations and bibliography",
    "section": "Inserting citations",
    "text": "Inserting citations\nNow that everything is set up, you can insert citation keys and automatically generate citations and bibliographies.\n\nCitation insertion menu\nThe easiest way to do this is with RStudio’s built-in citation insertion menu.\n\nSwitch your document to the Visual editor mode.\n\n\n\nToggle between Source and Visual mode\n\n\nMake sure Zotero is open on your computer.\nGo to Insert &gt; Citation.\n\n\n\nInsert citation menu\n\n\nIf you want to cite something from your main library, choose “My Library” under “Zotero” in the sidebar. If you want to cite something from the class group library, choose that in the sidebar.\n\n\n\nZotero libraries available to RStudio\n\n\nScroll or search through the citations in the list until you find the thing you want to cite. Select it and you’ll see something like @citationkey (here @Cairo:2016) appear in the bottom. That’s what the dialog will insert in your document when you click on “Insert”.\n\n\n\nCitation key to be inserted in the document\n\n\n\nYou should see a few new things:\n\nIn your Files panel, you’ll see a new file named references.bib. This contains the reference details for the item you selected. Every time you insert a new citation in your document, it’ll automatically get added to that file. You can open it if you want to see what it looks like—you don’t ever have to edit this by hand or anything, so don’t worry about it.\n\n\n\nNewly-created references file\n\n\nIn your document metadata, you’ll see a new setting like bibliography: references.bib. This is how your document knows where to look for citations.\n\n\n\nNew bibliography entry in the document metadata\n\n\nIn the document, you should see a citation key wherever your cursor was.\n\n\n\nCitation key inserted in the Quarto document\n\n\n\nFollow the same process for adding other citations later.\n\n\nDo this without the menu\nOnce your document is tied to a bibliography file, you actually don’t have to use the insert citation menu! If you type @ and start typing a citekey, RStudio should open a little popup menu of matching citations:\n\n\n\nAutomatic citation key dropdown menu\n\n\nThis is actually what I normally do. I don’t like using the menu and will instead just type @whatever-the-citekey-is, either by using that popup menu, or by looking at the “Citation key” field in Zotero.",
    "crumbs": [
      "Resources",
      "Citations and bibliography"
    ]
  },
  {
    "objectID": "resource/citations.html#viewing-rendered-citations",
    "href": "resource/citations.html#viewing-rendered-citations",
    "title": "Citations and bibliography",
    "section": "Viewing rendered citations",
    "text": "Viewing rendered citations\nOnce the citation key is inserted, you can hover over it in your .qmd file and see a preview of it:\n\n\n\nPreview the reference when hovering\n\n\nMore importantly, when you render the document to HTML, PDF, Word, or whatever format you’re using, you’ll have the correct citation and an automatic list of references:\n\n\n\nFully rendered citations and references",
    "crumbs": [
      "Resources",
      "Citations and bibliography"
    ]
  },
  {
    "objectID": "resource/citations.html#citation-syntax",
    "href": "resource/citations.html#citation-syntax",
    "title": "Citations and bibliography",
    "section": "Citation syntax",
    "text": "Citation syntax\nCheck the documentation for full details of how to do this. Essentially, you use @citationkey either inside square brackets ([]) or outside of them, depending on how you’re using the reference in your text:\n\n\n\n\n\n\n\nType…\n…to get…\n\n\n\n\nCausal inference is neat [@Rohrer:2018;\n@AngristPischke:2015].\nCausal inference is neat (Rohrer 2018; Angrist and Pischke 2015).\n\n\nCausal inference is neat [see @Rohrer:2018, p. 34;\nalso @AngristPischke:2015, chapter 1].\nCausal inference is neat (see Rohrer 2018, 34; also Angrist and Pischke 2015, chap. 1).\n\n\nAngrist and Pischke say causal inference is neat\n[-@AngristPischke:2015; see also @Rohrer:2018].\nAngrist and Pischke say causal inference is neat (2015; see also Rohrer 2018).\n\n\n@AngristPischke:2015 [chapter 1] say causal\ninference is neat, and @Rohrer:2018 agrees.\nAngrist and Pischke (2015, chap. 1) say causal inference is neat, and Rohrer (2018) agrees.",
    "crumbs": [
      "Resources",
      "Citations and bibliography"
    ]
  },
  {
    "objectID": "resource/citations.html#changing-citation-styles",
    "href": "resource/citations.html#changing-citation-styles",
    "title": "Citations and bibliography",
    "section": "Changing citation styles",
    "text": "Changing citation styles\nBy default, Quarto uses the Chicago Manual of Style author-date format, but you can choose from 2,000+ at this repository. Download the CSL file you want to use, put it in your project folder, and add an entry to the YAML metadata:\n---\ntitle: \"Adding citations from Zotero in Quarto\"\nbibliography: references.bib\ncsl: apa.csl\n---\nSome of the most common CSLs are:\n\nChicago author-date\nChicago note-bibliography\nAPA 7th edition\nMLA 9th edition",
    "crumbs": [
      "Resources",
      "Citations and bibliography"
    ]
  },
  {
    "objectID": "resource/data.html",
    "href": "resource/data.html",
    "title": "Data",
    "section": "",
    "text": "There are a ton of places to find data related to public policy and administration (as well as data on pretty much any topic you want) online:\n\nTidyTuesday: TidyTuesday is a weekly community social data project where people in the data science community take some dataset and do something neat with it. They have an archive of weekly datasets since 2018\nData is Plural: Jeremy Singer-Vine sends a weekly newsletter of the most interesting public datasets he’s found. You should subscribe to it. He also has an archive of all the datasets he’s highlighted.\nGoogle Dataset Search: Google indexes thousands of public datasets; search for them here.\nKaggle: Kaggle hosts machine learning competitions where people compete to create the fastest, most efficient, most predictive algorithms. A byproduct of these competitions is a host of fascinating datasets that are generally free and open to the public. See, for example, the European Soccer Database, the Salem Witchcraft Dataset or results from an Oreo flavors taste test.\n360Giving: Dozens of British foundations follow a standard file format for sharing grant data and have made that data available online.\nUS City Open Data Census: More than 100 US cities have committed to sharing dozens of types of data, including data about crime, budgets, campaign finance, lobbying, transit, and zoning. This site from the Sunlight Foundation and Code for America collects this data and rates cities by how well they’re doing.\nPolitical science and economics datasets: There’s a wealth of data available for political science- and economics-related topics:\n\nFrançois Briatte’s extensive curated lists: Includes data from/about intergovernmental organizations (IGOs), nongovernmental organizations (NGOs), public opinion surveys, parliaments and legislatures, wars, human rights, elections, and municipalities.\nThomas Leeper’s list of political science datasets: Good short list of useful datasets, divided by type of data (country-level data, survey data, social media data, event data, text data, etc.).\nErik Gahner’s list of political science datasets: Huge list of useful datasets, divided by topic (governance, elections, policy, political elites, etc.)",
    "crumbs": [
      "Resources",
      "Data"
    ]
  },
  {
    "objectID": "resource/graphics-editors.html",
    "href": "resource/graphics-editors.html",
    "title": "Graphics editors",
    "section": "",
    "text": "For exercise 10, mini-project 2, and your final project, you’ll create plots in R, export them as PDFs, and then edit, enhance, and lay out those PDFs using some sort of graphics editor.\nIn the past, I’ve had students use Adobe Illustrator for this, since GSU provided free student access to Adobe Creative Cloud, which includes Illustrator. The most common Creative Cloud programs people use for data visualization-related work are:\n\nPhotoshop: edit photos and other bitmap images\nIllustrator: edit vector images\nInDesign: lay out text and images for books, magazines, brochures, posters, and all other printed things\n\nHowever, GSU no longer provides off-campus access to Adobe software. If you’re faculty or staff, you can still access Creative Cloud for free; if you’re a student you have to use an on-campus computer lab.\nThis is sad because knowing how to use programs like Illustrator is incredibly valuable. Even if you never touch R again after this class, the graphic design programs included in Creative Cloud are industry-standard and used literally everywhere, and knowing how to use them is an important skill!\nThere are some alternative options though.\n\nCreative Cloud as a student\nYou can use the whole Creative Cloud Suite for $20/month as a student, and they have a 14-day free trial. Creative Cloud is a subscription service, so you can subscribe on and off as often as you want.\n\n\nAffinity Studio\nAffinity is a smaller rival to Adobe and they have their own (free!) program for graphic design-related tasks named Affinity Studio. Affinity Studio has three modes that are general equivalents of the core Adobe programs:\n\nVector mode = Illustrator\nPixel mode = Photoshop\nLayout mode = InDesign\n\n\n\n\nAffinity modes\n\n\n\n\nOpen source alternatives\nThe open source community has created free programs that are rough equivalents of these core Adobe programs too:\n\nGIMP = Photoshop\nInkscape = Illustrator\nScribus = InDesign\n\nThese are all free and they work on macOS and Windows (and Linux if you’re into that), but they can be a little lot rough around the edges and tricky to work with. Adobe, Affinity, and other companies have full time developers focused on making good user interfaces and experiences; these open source clones do not. You can make the same kind of output with GIMP, Inkscape, and Scribus that you can with Adobe Creative Cloud and Affinity Studio, but there’s a bit of an extra learning curve (and a lot of bumps along the way).\nBut you can’t beat free.\n\n\nSummary\n\n\n\n\n    \n\n    \n\n    \n    \n    \n      \n        \n        \n              \n                File type\n                Adobe\n                Affinity Studio\n                Open source\n              \n        \n        \n        \n                \n                  Bitmaps\n                  Photoshop\n                  Pixel mode\n                  GIMP\n                \n                \n                  Vectors\n                  Illustrator\n                  Vector mode\n                  Inkscape\n                \n                \n                  Layout\n                  InDesign\n                  Layout mode\n                  Scribus\n                \n                \n                  Cost\n                  $$$Monthly Creative Cloud subscription\n                  Free\n                  Free\n                \n                \n                  Notes\n                  Industry standard\n                  Free\n                  Free, but rough learning curve",
    "crumbs": [
      "Resources",
      "Graphics editors"
    ]
  },
  {
    "objectID": "resource/install.html",
    "href": "resource/install.html",
    "title": "Installing R, RStudio, tidyverse, and tinytex",
    "section": "",
    "text": "You will do all of your work in this class with the open source (and free!) programming language R. You will use RStudio as the main program to access R. Think of R as an engine and RStudio as a car dashboard—R handles all the calculations and the actual statistics, while RStudio provides a nice interface for running R code.",
    "crumbs": [
      "Resources",
      "Guides",
      "Installing R, RStudio, tidyverse, and tinytex"
    ]
  },
  {
    "objectID": "resource/install.html#posit.cloud",
    "href": "resource/install.html#posit.cloud",
    "title": "Installing R, RStudio, tidyverse, and tinytex",
    "section": "Posit.cloud",
    "text": "Posit.cloud\nR is free, but it can sometimes be a pain to install and configure. To make life easier, you can (and should!) use the free Posit.cloud service initially, which lets you run a full instance of RStudio in your web browser. This means you won’t have to install anything on your computer to get started with R! We will have a shared class workspace in Posit.cloud that will let you quickly copy templates for assignments.\nGo to https://posit.cloud/ and create an account. You’ll receive a link to join the shared class workspace separately. If you don’t get this link, let me know and I will invite you.",
    "crumbs": [
      "Resources",
      "Guides",
      "Installing R, RStudio, tidyverse, and tinytex"
    ]
  },
  {
    "objectID": "resource/install.html#rstudio-on-your-computer",
    "href": "resource/install.html#rstudio-on-your-computer",
    "title": "Installing R, RStudio, tidyverse, and tinytex",
    "section": "RStudio on your computer",
    "text": "RStudio on your computer\nPosit.cloud is convenient, but it can be slow and it is not designed to be able to handle larger datasets, more complicated analysis, or fancier graphics. Over the course of the semester, you should wean yourself off of Posit.cloud and install all these things locally. This is also important if you want to customize fonts, since Posit.cloud has extremely limited support for fonts other than Helvetica.\nHere’s how you install all these things\n\nInstall R\nFirst you need to install R itself (the engine).\n\nGo to the CRAN (Collective R Archive Network) website: https://cran.r-project.org/\nClick on “Download R for XXX”, where XXX is either Mac or Windows:\n\n\n\n\n\n\n\n\n\n\nIf you use macOS, scroll down to the first .pkg file in the list of files (in this picture, it’s R-4.0.0.pkg; as of right now, the current version is 4.4.0) and download it.\n\n\n\n\n\n\n\n\n\nIf you use Windows, click “base” (or click on the bolded “install R for the first time” link) and download it.\n\n\n\n\n\n\n\n\n\n\nDouble click on the downloaded file (check your Downloads folder). Click yes through all the prompts to install like any other program.\nIf you use macOS, download and install XQuartz. You do not need to do this on Windows.\n\n\n\nInstall RStudio\nNext, you need to install RStudio, the nicer graphical user interface (GUI) for R (the dashboard). Once R and RStudio are both installed, you can ignore R and only use RStudio. RStudio will use R automatically and you won’t ever have to interact with it directly.\n\nGo to the free download location on RStudio’s website: https://www.rstudio.com/products/rstudio/download/#download\nThe website should automatically detect your operating system (macOS or Windows) and show a big download button for it:\n\n\n\n\n\n\n\n\n\nIf not, scroll down a little to the large table and choose the version of RStudio that matches your operating system.\n\n\n\n\n\n\n\n\n\nDouble click on the downloaded file (again, check your Downloads folder). Click yes through all the prompts to install like any other program.\n\nDouble click on RStudio to run it (check your applications folder or start menu).\n\n\nInstall tidyverse\nR packages are easy to install with RStudio. Select the packages panel, click on “Install,” type the name of the package you want to install, and press enter.\n\n\n\n\n\n\n\n\n\nThis can sometimes be tedious when you’re installing lots of packages, though. The tidyverse, for instance, consists of dozens of packages (including {ggplot2}) that all work together. Rather than install each individually, you can install a single magical package and get them all at the same time.\nGo to the packages panel in RStudio, click on “Install,” type “tidyverse”, and press enter. You’ll see a bunch of output in the RStudio console as all the tidyverse packages are installed.\n\n\n\n\n\n\n\n\n\nNotice also that RStudio will generate a line of code for you and run it: install.packages(\"tidyverse\"). You can also just paste and run this instead of using the packages panel.\n\n\nInstall TinyTeX\nWhen you render to PDF, R uses a special scientific typesetting program named LaTeX (pronounced “lay-tek” or “lah-tex”; for goofy nerdy reasons, the x is technically the “ch” sound in “Bach”, but most people just say it as “k”—saying “layteks” is frowned on for whatever reason).\nLaTeX is neat and makes pretty documents, but it’s a huge program—the macOS version, for instance, is nearly 4 GB! To make life easier, there’s a smaller version named TinyTeX that automatically deals with differences between macOS and Windows and automatically installs any missing LaTeX packages as needed.\nHere’s how to install TinyTeX so you can create pretty PDFs:\n\nOpen the Terminal panel in RStudio (down in the bottom left corner where the Console panel is; there’s a tab named “Terminal” there)\nType this:\nquarto install tinytex",
    "crumbs": [
      "Resources",
      "Guides",
      "Installing R, RStudio, tidyverse, and tinytex"
    ]
  },
  {
    "objectID": "resource/pipes.html",
    "href": "resource/pipes.html",
    "title": "Pipes",
    "section": "",
    "text": "In the primers (and in Lesson 4) you were introduced to the pipe operator |&gt;, which takes the object on the left of the pipe and passes it as the first argument to the function on the right.\nLike, you can find the average of the numbers 1, 2, 3, 4, and 5 like this:\nmean(c(1, 2, 3, 4, 5))\n## [1] 3\nOr like this:\nc(1, 2, 3, 4, 5) |&gt; mean()\n## [1] 3",
    "crumbs": [
      "Resources",
      "Guides",
      "Pipes"
    ]
  },
  {
    "objectID": "resource/pipes.html#pipe-styles",
    "href": "resource/pipes.html#pipe-styles",
    "title": "Pipes",
    "section": "Pipe styles",
    "text": "Pipe styles\nThere are actually two pipe operators in R, and you’ll see both in the wild.\n\n\n\n\n\nRené Magritte, “The Treachery of Images”\n\n\n\nThe %&gt;% operator was invented first in 2014 in an R package named {magrittr}, a pun on René Magritte’s famous painting of a pipe, “The Treachery of Images”.\nThe |&gt; operator was added as a native part of R itself with version 4.1.0 in May 2021. It doesn’t require any extra packages to use.\n\nIn 99% of cases, the two pipes are the same (see here for details about their differences; or see this too). The magrittr %&gt;% is still wildly popular and you’ll see code online that uses it. The main downside to the magrittr pipe is that it requires that you load a package to use it. If you run library(tidyverse), you’ll have access to it, and in this class you’ll load tidyverse 100% of the time, so you can use %&gt;% without any problems.\nI switched my R classes away from %&gt;% to |&gt; starting in January 2024, mostly following the example of Hadley Wickham (inventor of ggplot, dplyr, and pretty much all the tidyverse). The first edition of R for Data Science by Hadley Wickham and Garrett Grolemund used the magrittr pipe (%&gt;%) extensively, which is partially why it became so popular. In the second edition of R for Data Science, though, published in June 2023, they switched to the native pipe (|&gt;). I took that as a cue to do the same in my own R work.\nSo I’m teaching you the native pipe (|&gt;). But don’t panic if you see the magrittr pipe (%&gt;%) out there. And feel free to use it too. Again, 99% of the time, it works the same:\n\n# {magrittr} pipe\nc(1, 2, 3, 4, 5) %&gt;% mean()\n## [1] 3\n\n\n# Native pipe\nc(1, 2, 3, 4, 5) |&gt; mean()\n## [1] 3\n\nJust don’t mix the two pipes in the same chain of functions. This is bad:\nmpg |&gt; \n  group_by(...) %&gt;%\n  summarize(...) |&gt;\n  filter(...) %&gt;%\n  select(...)",
    "crumbs": [
      "Resources",
      "Guides",
      "Pipes"
    ]
  },
  {
    "objectID": "resource/pipes.html#pipes-and-fancy-fonts",
    "href": "resource/pipes.html#pipes-and-fancy-fonts",
    "title": "Pipes",
    "section": "Pipes and fancy fonts",
    "text": "Pipes and fancy fonts\nThe |&gt; is actually designed to look like a triangle pointing to the left: ▷\nBut in pretty much all fonts, the | character is too tall and doesn’t align with the top and bottom of the left side of the &gt; character, so it doesn’t quite look right.\nIf you want to be fancy and cool, you can download and install a special programming font named Fira Code that uses some typographic magic to make certain combinations of characters appear differently in RStudio.\nLike, check out the == and != and &lt;= and |&gt; characters normally:\n\n\n\nSample code with a normal font\n\n\nAnd now look at them with Fira Code, where they’re magically transformed into fancier combinations:\n\n\n\nSample code with Fira Code\n\n\nThe underlying code is the same—the != combination isn’t actually converted to a ≠ character. It just looks that way.\nInstall the font, then go to Tools &gt; Global Options… &gt; Appearance and change the editor font if you want to use Fira Code in RStudio.",
    "crumbs": [
      "Resources",
      "Guides",
      "Pipes"
    ]
  },
  {
    "objectID": "resource/pipes.html#pipe-keyboard-shortcut",
    "href": "resource/pipes.html#pipe-keyboard-shortcut",
    "title": "Pipes",
    "section": "Pipe keyboard shortcut",
    "text": "Pipe keyboard shortcut\nIn RStudio, you can insert a pipe operator with a keyboard shortcut:\n\nOn macOS: ⌘ + ⇧ + M1\nOn Windows: ctrl + shift + M\n\n1 The “M” here refers to the magrittr pipeYou can control which kind of pipe is inserted by going to Tools &gt; Global options… &gt; Code &gt; Editing and toggling the “Use native pipe operator” option:\n\n\n\nRStudio pipe options",
    "crumbs": [
      "Resources",
      "Guides",
      "Pipes"
    ]
  },
  {
    "objectID": "resource/r.html",
    "href": "resource/r.html",
    "title": "R",
    "section": "",
    "text": "I highly recommend subscribing to the R Weekly newsletter. This e-mail is sent every Monday and is full of helpful tutorials about how to do stuff with R.\nSearching for help with R on Google can sometimes be tricky because the program name is a single letter. Google is generally smart enough to figure out what you mean when you search for “r scatterplot”, but if it does struggle, try searching for “rstats” instead (e.g. “rstats scatterplot”). Also, since most of your R work in this class will deal with {ggplot2}, it’s often easier to just search for that instead of the letter “r” (e.g. “ggplot scatterplot”).\nIf you use Twitter, post R-related questions and content with #rstats. The community there is exceptionally generous and helpful. Also check out StackOverflow (a Q&A site with hundreds of thousands of answers to all sorts of programming questions) and RStudio Community (a forum specifically designed for people using RStudio and the tidyverse (i.e. you)).\nThese resources are also really really helpful:\n\nR for Data Science: A free online book for learning the basics of R and the tidyverse.\nR and RStudio cheat sheets: A large collection of simple cheat sheets for RStudio, {ggplot2}, and other R-related things.\nStat 545: Dr. Jenny Bryan at RStudio has an entire introductory course in R, visualization, and data analysis online.\nSTA 112FS: Data Science: Dr. Mine Çetinkaya-Rundel at the University of Edinburgh / Duke University has an entire introductory course in R, visualization, and data science online.\nCSE 631: Principles & Practice of Data Visualization: Yet another introductory course for R and ggplot2 by Dr. Alison Presmanes Hill at RStudio.",
    "crumbs": [
      "Resources",
      "R"
    ]
  },
  {
    "objectID": "resource/r.html#learning-r",
    "href": "resource/r.html#learning-r",
    "title": "R",
    "section": "",
    "text": "I highly recommend subscribing to the R Weekly newsletter. This e-mail is sent every Monday and is full of helpful tutorials about how to do stuff with R.\nSearching for help with R on Google can sometimes be tricky because the program name is a single letter. Google is generally smart enough to figure out what you mean when you search for “r scatterplot”, but if it does struggle, try searching for “rstats” instead (e.g. “rstats scatterplot”). Also, since most of your R work in this class will deal with {ggplot2}, it’s often easier to just search for that instead of the letter “r” (e.g. “ggplot scatterplot”).\nIf you use Twitter, post R-related questions and content with #rstats. The community there is exceptionally generous and helpful. Also check out StackOverflow (a Q&A site with hundreds of thousands of answers to all sorts of programming questions) and RStudio Community (a forum specifically designed for people using RStudio and the tidyverse (i.e. you)).\nThese resources are also really really helpful:\n\nR for Data Science: A free online book for learning the basics of R and the tidyverse.\nR and RStudio cheat sheets: A large collection of simple cheat sheets for RStudio, {ggplot2}, and other R-related things.\nStat 545: Dr. Jenny Bryan at RStudio has an entire introductory course in R, visualization, and data analysis online.\nSTA 112FS: Data Science: Dr. Mine Çetinkaya-Rundel at the University of Edinburgh / Duke University has an entire introductory course in R, visualization, and data science online.\nCSE 631: Principles & Practice of Data Visualization: Yet another introductory course for R and ggplot2 by Dr. Alison Presmanes Hill at RStudio.",
    "crumbs": [
      "Resources",
      "R"
    ]
  },
  {
    "objectID": "resource/r.html#r-in-the-wild",
    "href": "resource/r.html#r-in-the-wild",
    "title": "R",
    "section": "R in the wild",
    "text": "R in the wild\nA popular (and increasingly standard) way for sharing your analyses and visualizations is to post an annotated explanation of your process somewhere online. RStudio allows you to publish rendered HTML files directly to RPubs, but you can also post your output to a blog or other type of website. Reading these kinds of posts is one of the best ways to learn R, since they walk you through each step of the process and show the code and output.\nHere are some of the best examples I’ve come across:\n\nText analysis of Trump’s tweets confirms he writes only the (angrier) Android half (with a follow-up)\nBob Ross - Joy of Painting\nBechdel analysis using the tidyverse: There are also a bunch of other examples using data from FiveThirtyEight.\nSexism on the Silver Screen: Exploring film’s gender divide\nComparison of Quentin Tarantino Movies by Box Office and the Bechdel Test\nWho came to vote in Utah’s caucuses?\nHealth care indicators in Utah counties\nSong lyrics across the United States\nA decade (ish) of listening to Sigur Rós\nWhen is Tom peeping these days?: There are a also bunch of final projects from other R and data visualization classes here and here.\nMapping Fall Foliage\nGeneral (Attys) Distributions\nDisproving Approval",
    "crumbs": [
      "Resources",
      "R"
    ]
  },
  {
    "objectID": "resource/unzipping.html",
    "href": "resource/unzipping.html",
    "title": "Unzipping files",
    "section": "",
    "text": "Because RStudio projects typically consist of multiple files (R scripts, datasets, graphical output, etc.) the easiest way to distribute them to you for examples, assignments, and projects is to combine all the different files in to a single compressed collection called a zip file. When you unzip a zipped file, your operating system extracts all the files that are contained inside into a new folder on your computer.\nUnzipping files on macOS is trivial, but unzipping files on Windows can mess you up if you don’t pay careful attention. Here’s a helpful guide to unzipping files on both macOS and Windows.",
    "crumbs": [
      "Resources",
      "Guides",
      "Unzipping files"
    ]
  },
  {
    "objectID": "resource/unzipping.html#unzipping-files-on-macos",
    "href": "resource/unzipping.html#unzipping-files-on-macos",
    "title": "Unzipping files",
    "section": "Unzipping files on macOS",
    "text": "Unzipping files on macOS\nDouble click on the downloaded .zip file. macOS will automatically create a new folder with the same name as the .zip file, and all the file’s contents will be inside. Double click on the RStudio Project file (.Rproj) to get started.",
    "crumbs": [
      "Resources",
      "Guides",
      "Unzipping files"
    ]
  },
  {
    "objectID": "resource/unzipping.html#unzipping-files-on-windows",
    "href": "resource/unzipping.html#unzipping-files-on-windows",
    "title": "Unzipping files",
    "section": "Unzipping files on Windows",
    "text": "Unzipping files on Windows\ntl;dr: Right click on the .zip file, select “Extract All…”, and work with the resulting unzipped folder.\nUnlike macOS, Windows does not automatically unzip things for you. If you double click on the .zip file, Windows will show you what’s inside, but it will do so without actually extracting anything. This can be is incredibly confusing! Here’s what it looks like—the only clues that this folder is really a .zip file are that there’s a “Compressed Folder Tools” tab at the top, and there’s a “Ratio” column that shows how much each file is compressed.\n\n\n\n\n\n\n\n\n\nIt is very tempting to try to open files from this view. However, if you do, things will break and you won’t be able to correctly work with any of the files in the zipped folder. If you open the R Project file, for instance, RStudio will point to a bizarre working directory buried deep in some temporary folder:\n\n\n\n\n\n\n\n\n\nYou most likely won’t be able to open any data files or save anything, which will be frustrating.\nInstead, you need to right click on the .zip file and select “Extract All…”:\n\n\n\n\n\n\n\n\n\nThen choose where you want to unzip all the files and click on “Extract”\n\n\n\n\n\n\n\n\n\nYou should then finally have a real folder with all the contents of the zipped file. Open the R Project file and RStudio will point to the correct working directory and everything will work.",
    "crumbs": [
      "Resources",
      "Guides",
      "Unzipping files"
    ]
  },
  {
    "objectID": "schedule.html",
    "href": "schedule.html",
    "title": "Schedule",
    "section": "",
    "text": "Here’s your roadmap for the semester!\n\nContent (): This page contains the readings, slides, and recorded lectures for the topic. Read and watch these first.\nLesson (): This page contains an interactive lesson that teaches you the principles and code you need to know. Go through these after doing the content.\nExample (): This page contains fully annotated R code that you can use as a reference for creating your own visualizations. This is only a reference page—you don’t have to necessarily do anything here. Each section also contains videos of me live coding the examples so you can see what it looks like to work with R in real time. This page will be very helpful as you work on your assignments.\nAssignment (): This page contains the instructions for either the session exercise (1–3 brief tasks), or for the two mini projects and final project. Assignments are due by 11:59 PM on the Monday after their corresponding sessions. That’s confusing in sentence form—see the schedule table below to see how it works.\n\n\n\n\n\ntl;dr: You should follow this general process for each session:\n\nDo everything on the content page ()\nWork through the lesson page ()\nComplete the assignment () while referencing the example ()\n\n\n\n\n\n\n\n\n\n\n\n\nTipSubscribe!\n\n\n\nYou can subscribe to this calendar URL in Outlook, Google Calendar, or Apple Calendar:\n\n\n\n Download\n\n\n\n\n\n\n\n\n\n\n\nFoundations\n\n\n\n\n\n\nTitle\n\n\nContent\n\n\nLesson\n\n\nExample\n\n\nAssignment\n\n\n\n\n\n\nApril 16–April 16(Session 1)\n\n\nFoundations 1: Truth, beauty, and data + R and tidyverse\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nApril 23–April 23(Session 2)\n\n\nFoundations 2: Graphic design\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nApril 30–April 30(Session 3)\n\n\nFoundations 3: Mapping data to graphics\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTypes of graphics\n\n\n\n\n\n\nTitle\n\n\nContent\n\n\nLesson\n\n\nExample\n\n\nAssignment\n\n\n\n\n\n\nMay 7–May 7(Session 4)\n\n\nTypes of graphics 1: Amounts and proportions\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMay 14–May 14(Session 5)\n\n\nTypes of graphics 2: Visualising uncertainty\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMay 21–May 21(Session 6)\n\n\nTypes of graphics 3: Relationships\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMay 28–May 28(Session 7)\n\n\nTypes of graphics 4: Proportions\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProject\n\n\n\n\n\n\nTitle\n\n\nContent\n\n\nLesson\n\n\nExample\n\n\nAssignment\n\n\n\n\n\n\nJune 4–June 4\n\n\nCoding review and project set-up\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nJuly 9–July 9\n\n\nProject gallery presentations\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSpecial graphics\n\n\n\n\n\n\nTitle\n\n\nContent\n\n\nLesson\n\n\nExample\n\n\nAssignment\n\n\n\n\n\n\nJune 11–June 11(Session 9)\n\n\nSpecial graphics 1: Interactivity\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nJune 18–June 18(Session 10)\n\n\nSpecial graphics 2: Maps\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nJune 25–June 25(Session 11)\n\n\nSpecial graphics 3: Time\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nJuly 2–July 2(Session 12)\n\n\nSpecial graphics 4: Text"
  }
]